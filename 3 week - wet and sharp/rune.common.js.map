{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/anchor.js","src/color.js","src/events.js","src/grid.js","src/group.js","src/mixins.js","src/render.js","src/rune.js","src/shapes/circle.js","src/shapes/ellipse.js","src/shapes/line.js","src/shapes/path.js","src/shapes/polygon.js","src/shapes/rectangle.js","src/shapes/text.js","src/shapes/triangle.js","src/utils.js","src/vector.js"],"names":[],"mappings":"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","file":"rune.common.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import _ from \"underscore\"\nimport Bezier from \"bezier-js\"\nimport Vector from \"./vector\"\n\nclass Anchor {\n\n  add(vec) {\n    var a = this.copy();\n    if(a.vec1) a.vec1 = a.vec1.add(vec);\n    if(a.vec2) a.vec2 = a.vec2.add(vec);\n    if(a.vec3) a.vec3 = a.vec3.add(vec);\n    return a;\n  }\n\n  sub(vec) {\n    var a = this.copy();\n    if(a.vec1) a.vec1 = a.vec1.sub(vec);\n    if(a.vec2) a.vec2 = a.vec2.sub(vec);\n    if(a.vec3) a.vec3 = a.vec3.sub(vec);\n    return a;\n  }\n\n  copy() {\n    var a = new Anchor();\n    a.command = this.command;\n    if(this.vec1) a.vec1 = this.vec1.copy();\n    if(this.vec2) a.vec2 = this.vec2.copy();\n    if(this.vec3) a.vec3 = this.vec3.copy();\n    return a;\n  }\n\n  setMove(x, y) {\n    this.command = 'move';\n    this.vec1 = new Vector(x, y);\n    return this;\n  }\n\n  setLine(x, y) {\n    this.command = 'line';\n    this.vec1 = new Vector(x, y);\n    return this;\n  }\n\n  setCurve(a, b, c, d, e, f) {\n\n    // cubic bezier with two control points\n    if(!_.isUndefined(f)) {\n      this.command = 'cubic';\n      this.vec1 = new Vector(a, b);\n      this.vec2 = new Vector(c, d);\n      this.vec3 = new Vector(e, f);\n    }\n\n    // quad bezier with one control point\n    else {\n      this.command = 'quad';\n      this.vec1 = new Vector(a, b);\n      this.vec2 = new Vector(c, d);\n    }\n\n    return this;\n  }\n\n  setClose() {\n    this.command = 'close';\n    return this;\n  }\n\n  length() {\n    if(this.command == 'move') {\n      return 0;\n    }\n    else if(this.command == 'line') {\n      return this.vec1.length();\n    }\n    else if(this.command == 'quad') {\n      return new Bezier(0, 0, this.vec1.x, this.vec1.y, this.vec2.x, this.vec2.y).length();\n    }\n    else if(this.command == 'cubic') {\n      return new Bezier(0, 0, this.vec1.x, this.vec1.y, this.vec2.x, this.vec2.y, this.vec3.x, this.vec3.y).length();\n    }\n    else {\n      throw new Error(\"Cannot compute length for this type of anchor\")\n    }\n  }\n\n  vectorAt(scalar) {\n\n    if(scalar > 1) scalar = 1;\n    if(scalar < 0) scalar = 0;\n\n    var ax, bx, cx;\n    var ay, by, cy;\n    var tSquared, tDoubled, tCubed;\n    var dx, dy;\n\n    if(this.command == 'line') {\n      return new Vector(this.vec1.x, this.vec1.y).multiply(scalar)\n    }\n    else if(this.command == 'quad') {\n      return new Bezier(0, 0, this.vec1.x, this.vec1.y, this.vec2.x, this.vec2.y).get(scalar);\n    }\n    else if(this.command == 'cubic') {\n      return new Bezier(0, 0, this.vec1.x, this.vec1.y, this.vec2.x, this.vec2.y, this.vec3.x, this.vec3.y).get(scalar);\n    }\n    else {\n      throw new Error(\"Cannot compute vectorAt for this type of anchor\")\n    }\n  }\n\n}\n\nexport default Anchor;","// This code was adapted from the brillinat color-js by harthur\n// See more here: https://github.com/harthur/color\nimport _ from \"underscore\";\nimport colorConvert from 'color-convert';\nimport colorString from 'color-string';\n\nclass Color {\n\n  constructor(a, b, c, d, e) {\n\n    this.values = {\n      rgb: [0, 0, 0],\n      hsl: [0, 0, 0],\n      hsv: [0, 0, 0],\n      hwb: [0, 0, 0],\n      cmyk: [0, 0, 0, 0],\n      alpha: 1\n    }\n\n    // COLOR\n    if(a instanceof Color) {\n      return a;\n    }\n\n    // HSB\n    else if(a == 'hsv') {\n      this.setValues('hsv', {h:b % 360, s:c, v:d});\n      if(e) this.setValues('alpha', e);\n    }\n\n    // HEX\n    else if(_.isString(a)) {\n      var vals = colorString.getRgba(a);\n      if (vals)                             this.setValues('rgb', vals);\n      else if (vals = colorString.getHsla(a))  this.setValues('hsl', vals);\n      else if(vals = colorString.getHwb(a))    this.setValues('hwb', vals);\n      else throw new Error(\"Unable to parse color from string \\\"\" + a + \"\\\"\");\n      if(b) this.setValues('alpha', b);\n    }\n\n    // GRAYSCALE\n    else if(_.isUndefined(c)) {\n      this.setValues('rgb', {r:a, g:a, b:a});\n      if(b) this.setValues('alpha', b);\n    }\n\n    // RGB\n    else if(!_.isUndefined(a)) {\n      this.setValues('rgb', {r:a, g:b, b:c});\n      if(d) this.setValues('alpha', d);\n    }\n\n  }\n\n  rgb(vals) {\n    return this.setSpace(\"rgb\", arguments);\n  }\n\n  hsl(vals) {\n    return this.setSpace(\"hsl\", arguments);\n  }\n\n  hsv(vals) {\n    return this.setSpace(\"hsv\", arguments);\n  }\n\n  hwb(vals) {\n    return this.setSpace(\"hwb\", arguments);\n  }\n\n  cmyk(vals) {\n    return this.setSpace(\"cmyk\", arguments);\n  }\n\n  rgbArray() {\n    return this.values.rgb;\n  }\n\n  hslArray() {\n    return this.values.hsl;\n  }\n\n  hsvArray() {\n    return this.values.hsv;\n  }\n\n  hwbArray() {\n    if (this.values.alpha !== 1) {\n      return this.values.hwb.concat([this.values.alpha])\n    }\n    return this.values.hwb;\n  }\n\n  cmykArray() {\n    return this.values.cmyk;\n  }\n\n  rgbaArray() {\n    var rgb = this.values.rgb;\n    return rgb.concat([this.values.alpha]);\n  }\n\n  hslaArray() {\n    var hsl = this.values.hsl;\n    return hsl.concat([this.values.alpha]);\n  }\n\n  alpha(val) {\n    if (val === undefined) {\n       return this.values.alpha;\n    }\n    this.setValues(\"alpha\", val);\n    return this;\n  }\n\n  red(val) {\n    return this.setChannel(\"rgb\", 0, val);\n  }\n\n  green(val) {\n    return this.setChannel(\"rgb\", 1, val);\n  }\n\n  blue(val) {\n    return this.setChannel(\"rgb\", 2, val);\n  }\n\n  hue(val) {\n    return this.setChannel(\"hsl\", 0, val);\n  }\n\n  saturation(val) {\n    return this.setChannel(\"hsl\", 1, val);\n  }\n\n  lightness(val) {\n    return this.setChannel(\"hsl\", 2, val);\n  }\n\n  saturationv(val) {\n    return this.setChannel(\"hsv\", 1, val);\n  }\n\n  whiteness(val) {\n    return this.setChannel(\"hwb\", 1, val);\n  }\n\n  blackness(val) {\n    return this.setChannel(\"hwb\", 2, val);\n  }\n\n  value(val) {\n    return this.setChannel(\"hsv\", 2, val);\n  }\n\n  cyan(val) {\n    return this.setChannel(\"cmyk\", 0, val);\n  }\n\n  magenta(val) {\n    return this.setChannel(\"cmyk\", 1, val);\n  }\n\n  yellow(val) {\n    return this.setChannel(\"cmyk\", 2, val);\n  }\n\n  black(val) {\n    return this.setChannel(\"cmyk\", 3, val);\n  }\n\n  hexString() {\n    return colorString.hexString(this.values.rgb);\n  }\n\n  rgbString() {\n    return colorString.rgbString(this.values.rgb, this.values.alpha);\n  }\n\n  rgbaString() {\n    return colorString.rgbaString(this.values.rgb, this.values.alpha);\n  }\n\n  percentString() {\n    return colorString.percentString(this.values.rgb, this.values.alpha);\n  }\n\n  hslString() {\n    return colorString.hslString(this.values.hsl, this.values.alpha);\n  }\n\n  hslaString() {\n    return colorString.hslaString(this.values.hsl, this.values.alpha);\n  }\n\n  hwbString() {\n    return colorString.hwbString(this.values.hwb, this.values.alpha);\n  }\n\n  keyword() {\n    return colorString.keyword(this.values.rgb, this.values.alpha);\n  }\n\n  rgbNumber() {\n    return (this.values.rgb[0] << 16) | (this.values.rgb[1] << 8) | this.values.rgb[2];\n  }\n\n  luminosity() {\n    // http://www.w3.org/TR/WCAG20/#relativeluminancedef\n    var rgb = this.values.rgb;\n    var lum = [];\n    for (var i = 0; i < rgb.length; i++) {\n      var chan = rgb[i] / 255;\n      lum[i] = (chan <= 0.03928) ? chan / 12.92\n                : Math.pow(((chan + 0.055) / 1.055), 2.4)\n    }\n    return 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n  }\n\n  contrast(color2) {\n    // http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n    var lum1 = this.luminosity();\n    var lum2 = color2.luminosity();\n    if (lum1 > lum2) {\n       return (lum1 + 0.05) / (lum2 + 0.05)\n    };\n    return (lum2 + 0.05) / (lum1 + 0.05);\n  }\n\n  level(color2) {\n    var contrastRatio = this.contrast(color2);\n    return (contrastRatio >= 7.1)\n      ? 'AAA'\n      : (contrastRatio >= 4.5)\n       ? 'AA'\n       : '';\n  }\n\n  dark() {\n    // YIQ equation from http://24ways.org/2010/calculating-color-contrast\n    var rgb = this.values.rgb,\n        yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n    return yiq < 128;\n  }\n\n  light() {\n    return !this.dark();\n  }\n\n  negate() {\n    var rgb = []\n    for (var i = 0; i < 3; i++) {\n       rgb[i] = 255 - this.values.rgb[i];\n    }\n    this.setValues(\"rgb\", rgb);\n    return this;\n  }\n\n  lighten(ratio) {\n    this.values.hsl[2] += this.values.hsl[2] * ratio;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  darken(ratio) {\n    this.values.hsl[2] -= this.values.hsl[2] * ratio;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  saturate(ratio) {\n    this.values.hsl[1] += this.values.hsl[1] * ratio;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  desaturate(ratio) {\n    this.values.hsl[1] -= this.values.hsl[1] * ratio;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  whiten(ratio) {\n    this.values.hwb[1] += this.values.hwb[1] * ratio;\n    this.setValues(\"hwb\", this.values.hwb);\n    return this;\n  }\n\n  blacken(ratio) {\n    this.values.hwb[2] += this.values.hwb[2] * ratio;\n    this.setValues(\"hwb\", this.values.hwb);\n    return this;\n  }\n\n  greyscale() {\n    var rgb = this.values.rgb;\n    // http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n    var val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n    this.setValues(\"rgb\", [val, val, val]);\n    return this;\n  }\n\n  clearer(ratio) {\n    this.setValues(\"alpha\", this.values.alpha - (this.values.alpha * ratio));\n    return this;\n  }\n\n  opaquer(ratio) {\n    this.setValues(\"alpha\", this.values.alpha + (this.values.alpha * ratio));\n    return this;\n  }\n\n  rotate(degrees) {\n    var hue = this.values.hsl[0];\n    hue = (hue + degrees) % 360;\n    hue = hue < 0 ? 360 + hue : hue;\n    this.values.hsl[0] = hue;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  /**\n   * Ported from sass implementation in C\n   * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n   */\n  mix(mixinColor, weight) {\n    var color1 = this;\n    var color2 = mixinColor;\n    var p = weight !== undefined ? weight : 0.5;\n\n    var w = 2 * p - 1;\n    var a = color1.alpha() - color2.alpha();\n\n    var w1 = (((w * a == -1) ? w : (w + a)/(1 + w*a)) + 1) / 2.0;\n    var w2 = 1 - w1;\n\n    return this\n      .rgb(\n        w1 * color1.red() + w2 * color2.red(),\n        w1 * color1.green() + w2 * color2.green(),\n        w1 * color1.blue() + w2 * color2.blue()\n      )\n      .alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n  }\n\n  toJSON() {\n    return this.rgb();\n  }\n\n  copy() {\n    return new Color().rgb(this.rgb());\n  }\n\n  getValues(space) {\n    var vals = {};\n    for (var i = 0; i < space.length; i++) {\n      vals[space.charAt(i)] = this.values[space][i];\n    }\n    if (this.values.alpha != 1) {\n      vals[\"a\"] = this.values.alpha;\n    }\n    // {r: 255, g: 255, b: 255, a: 0.4}\n    return vals;\n  }\n\n  setValues(space, vals) {\n\n    var spaces = {\n      \"rgb\": [\"red\", \"green\", \"blue\"],\n      \"hsl\": [\"hue\", \"saturation\", \"lightness\"],\n      \"hsv\": [\"hue\", \"saturation\", \"value\"],\n      \"hwb\": [\"hue\", \"whiteness\", \"blackness\"],\n      \"cmyk\": [\"cyan\", \"magenta\", \"yellow\", \"black\"]\n    };\n\n    var maxes = {\n      \"rgb\": [255, 255, 255],\n      \"hsl\": [360, 100, 100],\n      \"hsv\": [360, 100, 100],\n      \"hwb\": [360, 100, 100],\n      \"cmyk\": [100, 100, 100, 100]\n    };\n\n    var alpha = 1;\n    if (space == \"alpha\") {\n       alpha = vals;\n    }\n    else if (vals.length) {\n      // [10, 10, 10]\n      this.values[space] = vals.slice(0, space.length);\n      alpha = vals[space.length];\n    }\n    else if (vals[space.charAt(0)] !== undefined) {\n      // {r: 10, g: 10, b: 10}\n      for (var i = 0; i < space.length; i++) {\n        this.values[space][i] = vals[space.charAt(i)];\n      }\n      alpha = vals.a;\n    }\n    else if (vals[spaces[space][0]] !== undefined) {\n      // {red: 10, green: 10, blue: 10}\n      var chans = spaces[space];\n      for (var i = 0; i < space.length; i++) {\n        this.values[space][i] = vals[chans[i]];\n      }\n      alpha = vals.alpha;\n    }\n    this.values.alpha = Math.max(0, Math.min(1, (alpha !== undefined ? alpha : this.values.alpha) ));\n    if (space == \"alpha\") {\n      return;\n    }\n\n    // cap values of the space prior converting all values\n    for (var i = 0; i < space.length; i++) {\n      var capped = Math.max(0, Math.min(maxes[space][i], this.values[space][i]));\n      this.values[space][i] = Math.round(capped);\n    }\n\n    // convert to all the other color spaces\n    for (var sname in spaces) {\n      if (sname != space) {\n        this.values[sname] = colorConvert[space][sname](this.values[space])\n      }\n\n      // cap values\n      for (var i = 0; i < sname.length; i++) {\n        var capped = Math.max(0, Math.min(maxes[sname][i], this.values[sname][i]));\n        this.values[sname][i] = Math.round(capped);\n      }\n    }\n    return true;\n  }\n\n  setSpace(space, args) {\n    var vals = args[0];\n    if (vals === undefined) {\n      // color.rgb()\n      return this.getValues(space);\n    }\n    // color.rgb(10, 10, 10)\n    if (typeof vals == \"number\") {\n      vals = Array.prototype.slice.call(args);\n    }\n    this.setValues(space, vals);\n    return this;\n  }\n\n  setChannel(space, index, val) {\n    if (val === undefined) {\n      // color.red()\n      return this.values[space][index];\n    }\n    // color.red(100)\n    this.values[space][index] = val;\n    this.setValues(space, this.values[space]);\n    return this;\n  }\n\n}\n\nexport default Color;","var Events = {\n\n  on: function(name, callback) {\n    if (!this._events) this._events = {};\n    this._events[name] = this._events[name] || [];\n    this._events[name].push(callback);\n    return this;\n  },\n\n  off: function(name, callback) {\n    if (this._events[name] && !callback) {\n      delete this._events[name];\n    } else if (this._events[name]) {\n      name = this._events[name];\n      var i = name.length;\n      while (i--) if (name[i] === callback) name.splice(i - 1, 1);\n    } else if (arguments.length === 0) {\n      this._events = {};\n    }\n    return this;\n  },\n\n  trigger: function(name) {\n    if (this._events && this._events[name]) {\n      var theseEvents = this._events[name];\n      var args = (arguments.length > 1) ? [arguments[1]] : [];\n      var i = theseEvents.length;\n      while (i--) {\n        theseEvents[i].apply(this, args);\n      }\n    }\n    return this;\n  }\n\n}\n\nexport default Events;","import _ from \"underscore\"\nimport { Shapeable, Moveable } from \"./mixins\"\nimport Group from './group'\n\nclass Grid {\n\n  constructor(options) {\n    this.moveable();\n    this.modules = [];\n\n    var req = _.defaults(options || {}, {\n      x:0,\n      y:0,\n      columns:10,\n      rows:1,\n      gutterWidth: 0,\n      gutterHeight: 0,\n      moduleWidth:50,\n      moduleHeight:500\n    });\n\n    // if gutter is set, override gutterWidth and gutterHeight\n    if(!_.isUndefined(req.gutter)) {\n      req.gutterWidth = req.gutter;\n      req.gutterHeight = req.gutter;\n    }\n\n    // if width is set, override moduleWidth\n    if(!_.isUndefined(req.width)) {\n      req.moduleWidth = (req.width - ((req.columns-1) * req.gutterWidth)) / req.columns;\n    } else {\n      req.width = (req.moduleWidth * req.columns) + (req.gutterWidth * (req.columns-1))\n    }\n\n    // if height is set, override moduleWidth\n    if(!_.isUndefined(req.height)) {\n      req.moduleHeight = (req.height - ((req.rows-1) * req.gutterHeight)) / req.rows;\n    } else {\n      req.height = (req.moduleHeight * req.rows) + (req.gutterHeight * (req.rows-1))\n    }\n\n    _.extend(this.vars, req);\n\n    this.computeGrid();\n  }\n\n  add(child, column, row) {\n\n    if(!column) column = 1;\n    if(!row) row = 1;\n\n    if(this.modules[column-1] && this.modules[column-1][row-1]) {\n      this.modules[column-1][row-1].add(child);\n    }\n    else {\n      throw new Error(\"Column or row does not exist\");\n    }\n  }\n\n  computeGrid() {\n\n    this.modules = [];\n\n    for(var x = 0; x < this.vars.columns; x++) {\n\n      this.modules.push([]);\n\n      for(var y = 0; y < this.vars.rows; y++) {\n\n        var groupX = (x * this.vars.moduleWidth) + (x * this.vars.gutterWidth);\n        var groupY = (y * this.vars.moduleHeight) + (y * this.vars.gutterHeight);\n        this.modules[x].push(new Group(groupX, groupY));\n      }\n    }\n  }\n\n}\n\n_.extend(Grid.prototype, Shapeable, Moveable, { type: \"grid\" });\n\nexport default Grid;","import _ from \"underscore\"\nimport { Moveable, Groupable } from \"./mixins\"\nimport Utils from './utils'\n\nclass Group {\n\n  constructor(x, y) {\n    this.moveable();\n    this.children = [];\n\n    if(!_.isUndefined(x)) this.vars.x = x;\n    if(!_.isUndefined(y)) this.vars.y = y;\n  }\n\n  add(child) {\n    if(child.parent) child.parent.remove(child);\n    this.children.push(child);\n    child.parent = this;\n  }\n\n  remove(child) {\n    this.children = _.without(this.children, child);\n    child.parent = false;\n  }\n\n  copy(parent) {\n    var copy = new Group();\n    _.each(this.children, function(child) {\n      child.copy(copy);\n    });\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n// Should we figure out a better way to do mixins for ES6?\n_.extend(Group.prototype, Moveable, Groupable, {type: \"group\"});\n\nexport default Group;","import Utils from './utils'\nimport Color from './color'\n\nvar Moveable = {\n\n  moveable: function(copy) {\n    this.vars = this.vars || {};\n    this.vars.x = copy ? copy.vars.x : 0;\n    this.vars.y = copy ? copy.vars.y : 0;\n    this.vars.rotation = copy ? copy.vars.rotation : 0;\n    this.vars.rotationX = copy ? copy.vars.rotationX : 0;\n    this.vars.rotationY = copy ? copy.vars.rotationY : 0;\n  },\n\n  move: function(x, y, relative) {\n    this.vars.x = relative ? this.vars.x + x : x;\n    this.vars.y = relative ? this.vars.y + y : y;\n    return this;\n  },\n\n  rotate: function(deg, x, y, relative) {\n    this.vars.rotation = deg;\n    if(x || y) {\n      this.vars.rotationX = x || 0;\n      this.vars.rotationY = y || 0;\n    }\n    if(relative) {\n      this.vars.rotationX += this.vars.x;\n      this.vars.rotationY += this.vars.y;\n    }\n    return this;\n  }\n\n};\n\nvar Sizeable = {\n\n  sizeable: function(copy) {\n    this.vars = this.vars || {};\n    this.vars.width = copy ? copy.vars.width : 0;\n    this.vars.height = copy ? copy.vars.height : 0;\n  }\n\n};\n\nvar Styleable = {\n\n  styleable: function(copy) {\n\n    this.vars = this.vars || {};\n    this.vars.fill = new Color(128);\n    this.vars.stroke = new Color(0);\n\n    if(copy) {\n      if(copy.vars.fill === false)  this.vars.fill = false;\n      else if(copy.vars.fill)       this.vars.fill = copy.vars.fill.copy();\n\n      if(copy.vars.stroke === false)  this.vars.stroke = false;\n      else if(copy.vars.stroke)       this.vars.stroke = copy.vars.stroke.copy();\n    }\n  },\n\n  fill: function(a, b, c, d, e) {\n    if(a === false) this.vars.fill = false;\n    else            this.vars.fill = new Color(a, b, c, d, e);\n    return this;\n  },\n\n  stroke: function(a, b, c, d, e) {\n    if(a === false) this.vars.stroke = false;\n    else            this.vars.stroke = new Color(a, b, c, d, e);\n    return this;\n  },\n\n  strokeWidth:      function(val) { this.vars.strokeWidth = val; return this; },\n  strokeCap:        function(val) { this.vars.strokeCap = val; return this; },\n  strokeJoin:       function(val) { this.vars.strokeJoin = val; return this; },\n  strokeMiterlimit: function(val) { this.vars.strokeMiterlimit = val; return this; },\n  strokeDash:       function(val) { this.vars.strokeDash = val; return this; },\n  strokeDashOffset: function(val) { this.vars.strokeDashOffset= val; return this; }\n};\n\n// Mixin for shapes that can belong to a group. This applies to\n// most shapes.\nvar Groupable = {\n\n  addParent: function(group) {\n    group.add(this);\n    return this;\n  },\n\n  removeParent: function() {\n    if(this.parent) this.parent.remove(this);\n    return this;\n  }\n\n};\n\nexport { Moveable, Sizeable, Styleable, Groupable };","import _ from \"underscore\"\nimport Circle from './shapes/circle'\nimport Rectangle from './shapes/rectangle'\nimport Line from './shapes/line'\nimport h from 'virtual-dom/h'\nimport diff from 'virtual-dom/diff'\nimport patch from 'virtual-dom/patch'\nimport createElement from 'virtual-dom/create-element'\nimport svg from 'virtual-dom/virtual-hyperscript/svg'\n\nclass Render {\n\n  constructor(params) {\n    this.params = params\n    this.tree = svg('svg', {\n      width: params.width,\n      height: params.height\n    });\n    this.el = createElement(this.tree);\n  }\n\n  render(stage, opts) {\n\n    var newTree = svg('svg', {\n      width: this.params.width,\n      height: this.params.height\n    }, [this.objectsToSVG(stage.children, opts)]);\n\n    var diffTree = diff(this.tree, newTree);\n    this.el = patch(this.el, diffTree);\n    this.tree = newTree;\n  }\n\n  // Shape converters\n  // --------------------------------------------------\n\n  objectToSVG(object, opts) {\n    if(this[object.type + \"ToSVG\"])\n      return this[object.type + \"ToSVG\"](object, opts);\n    else\n      console.error(\"Rune.Render: Object not recognized\", object)\n  }\n\n  objectsToSVG(objects, opts) {\n    var objects = _.map(objects, _.bind(function(object) {\n      return this.objectToSVG(object, opts);\n    }, this));\n    return _.flatten(objects, true);\n  }\n\n  rectangleToSVG(rect) {\n    var attr = {\n      x: rect.vars.x,\n      y: rect.vars.y,\n      width: rect.vars.width,\n      height: rect.vars.height\n    }\n    this.transformAttribute(attr, rect);\n    this.styleableAttributes(rect, attr);\n    return svg('rect', attr);\n  }\n\n  ellipseToSVG(ellipse) {\n    var attr = {\n      cx: ellipse.vars.x,\n      cy: ellipse.vars.y,\n      rx: ellipse.vars.width / 2,\n      ry: ellipse.vars.height / 2\n    }\n    this.transformAttribute(attr, ellipse);\n    this.styleableAttributes(ellipse, attr);\n    return svg('ellipse', attr);\n  }\n\n  circleToSVG(circle) {\n    var attr = {\n      cx: circle.vars.x,\n      cy: circle.vars.y,\n      r: circle.vars.radius\n    }\n    this.transformAttribute(attr, circle);\n    this.styleableAttributes(circle, attr);\n    return svg('circle', attr);\n  }\n\n  lineToSVG(line) {\n    var attr = {\n      x1: line.vars.x,\n      y1: line.vars.y,\n      x2: line.vars.x2,\n      y2: line.vars.y2\n    }\n    this.transformAttribute(attr, line);\n    this.styleableAttributes(line, attr);\n    return svg('line', attr);\n  }\n\n  triangleToSVG(tri) {\n    var attr = {\n      points: tri.vars.x + ' ' + tri.vars.y + ' ' + tri.vars.x2 + ' ' + tri.vars.y2 + ' ' + tri.vars.x3 + ' ' + tri.vars.y3\n    };\n    this.transformAttribute(attr, tri);\n    this.styleableAttributes(tri, attr);\n    return svg('polygon', attr);\n  }\n\n  polygonToSVG(polygon) {\n    var attr = {\n      points: _.map(polygon.vars.vectors, function(vec) {\n        return vec.x + \" \" + vec.y;\n      }).join(\" \")\n    };\n    this.transformAttribute(attr, polygon);\n    this.styleableAttributes(polygon, attr);\n    return svg('polygon', attr);\n  }\n\n  pathToSVG(path, opts) {\n    var attr = {};\n    this.dAttribute(path, attr);\n    this.transformAttribute(attr, path);\n    this.styleableAttributes(path, attr);\n    this.optionalAttributes(path, attr, {\n      \"fillRule\" : \"fill-rule\"\n    });\n\n    var els = [\n      svg('path', attr)\n    ];\n\n    if(opts && opts.debug) els = els.concat(this.debugPathToSVG(path));\n    return els;\n  }\n\n  textToSVG(text, opts) {\n    var attr = {\n      x: text.vars.x,\n      y: text.vars.y,\n    }\n    this.transformAttribute(attr, text);\n    this.styleableAttributes(text, attr);\n\n    // attributes that need specific handling\n    if(text.vars.textAlign) {\n      var translate = { \"left\":\"start\", \"center\":\"middle\", \"right\":\"end\" };\n      attr[\"text-anchor\"] = translate[text.vars.textAlign];\n    }\n\n    this.optionalAttributes(text, attr, {\n      \"fontFamily\" : \"font-family\",\n      \"textAlign\" : \"text-align\",\n      \"fontStyle\" : \"font-style\",\n      \"fontWeight\" : \"font-weight\",\n      \"fontSize\" : \"font-size\",\n      \"letterSpacing\" : \"letter-spacing\",\n      \"textDecoration\" : \"text-decoration\"\n    });\n\n    if(text.vars.textAlign) {\n      var translate = { \"left\":\"start\", \"center\":\"middle\", \"right\":\"end\" };\n      attr[\"text-anchor\"] = translate[text.vars.textAlign];\n    }\n\n    return svg('text', attr, text.vars.text);\n  }\n\n  groupToSVG(group) {\n    if(_.isEmpty(group.children)) return;\n    var attr = {}\n    this.transformAttribute(attr, group);\n    return svg('g', attr, this.objectsToSVG(group.children));\n  }\n\n  gridToSVG(grid, opts) {\n    var attr = {}\n    this.transformAttribute(attr, grid);\n\n    var groups = [];\n    _.each(grid.modules, _.bind(function(column) {\n      groups.push(this.objectsToSVG(column))\n    }, this));\n\n    if(opts && opts.debug) groups = groups.concat(this.debugGridToSVG(grid));\n\n    return svg('g', attr, _.flatten(groups, true));\n  }\n\n  // Debug\n  // --------------------------------------------------\n\n  debugPathToSVG(path) {\n\n    var t = this;\n    var els = [];\n\n    _.each(path.vars.anchors, function(a, i) {\n      if(a.command == 'cubic'){\n        els.push(t.debugLine(path.vars.x + a.vec1.x, path.vars.y + a.vec1.y, path.vars.x + a.vec3.x, path.vars.y + a.vec3.y));\n        els.push(t.debugLine(path.vars.x + a.vec2.x, path.vars.y + a.vec2.y, path.vars.x + a.vec3.x, path.vars.y + a.vec3.y));\n        for(var i = 1; i < 4; i++) {\n          els.push(t.debugCircle(path.vars.x + a[\"vec\"+i].x, path.vars.y + a[\"vec\"+i].y))\n        }\n      }\n      else if(a.command == 'quad' && !_.isUndefined(a.vec2)){\n        els.push(t.debugLine(path.vars.x + a.vec1.x, path.vars.y + a.vec1.y, path.vars.x + a.vec2.x, path.vars.y + a.vec2.y));\n        for(var i = 1; i < 3; i++) {\n          els.push(t.debugCircle(path.vars.x + a[\"vec\"+i].x, path.vars.y + a[\"vec\"+i].y))\n        }\n      }\n    });\n\n    return els;\n  }\n\n  debugGridToSVG(grid) {\n\n    var t = this;\n    var els = [];\n\n    // draw container rect\n    els.push(this.debugRect(0, 0, grid.vars.width, grid.vars.height));\n\n    // draw lines for columns\n    var x = 0;\n    for(var i = 0; i < grid.vars.columns-1; i++) {\n      x += grid.vars.moduleWidth;\n      els.push(this.debugLine(x, 0, x, grid.vars.height));\n      x += grid.vars.gutterWidth;\n      els.push(this.debugLine(x, 0, x, grid.vars.height));\n    }\n\n    // draw lines for rows\n    var y = 0;\n    for(var i = 0; i < grid.vars.rows-1; i++) {\n      y += grid.vars.moduleHeight;\n      els.push(this.debugLine(0, y, grid.vars.width, y));\n      y += grid.vars.gutterHeight;\n      els.push(this.debugLine(0, y, grid.vars.width, y));\n    }\n\n    return els;\n  }\n\n  debugCircle (x, y) {\n    var c = new Circle(x, y, 4)\n      .fill(212, 18, 229)\n      .stroke(false);\n    return this.circleToSVG(c);\n  }\n\n  debugRect (x, y, width, height) {\n    var r = new Rectangle(x, y, width, height)\n      .stroke(212, 18, 229).fill(false);\n    return this.rectangleToSVG(r);\n  }\n\n  debugLine (x1, y1, x2, y2) {\n    var l = new Line(x1, y1, x2, y2)\n      .stroke(212, 18, 229);\n    return this.lineToSVG(l);\n  }\n\n  // Multiple attributes\n  // --------------------------------------------------\n\n  optionalAttributes (object, attr, keys) {\n    _.each(keys, function(attribute, variable) {\n      if(object.vars[variable]) {\n        attr[attribute] = object.vars[variable];\n      }\n    }, this);\n  }\n\n  sizeableAttributes(object, attr) {\n    attr.width = object.vars.width;\n    attr.height = object.vars.height;\n  }\n\n  styleableAttributes(object, attr) {\n\n    if(object.vars.fill === false)    attr.fill = \"none\";\n    else if(object.vars.fill)         attr.fill = object.vars.fill.rgbString();\n\n    if(object.vars.stroke === false)  attr.stroke = \"none\";\n    else if(object.vars.stroke)       attr.stroke = object.vars.stroke.rgbString();\n\n    if(object.vars.fill)              attr.fill = object.vars.fill.rgbString();\n    if(object.vars.strokeWidth)       attr[\"stroke-width\"] = object.vars.strokeWidth;\n    if(object.vars.strokeCap)         attr[\"stroke-linecap\"] = object.vars.strokeCap;\n    if(object.vars.strokeJoin)        attr[\"stroke-linejoin\"] = object.vars.strokeJoin;\n    if(object.vars.strokeMiterlimit)  attr[\"stroke-miterlimit\"] = object.vars.strokeMiterlimit;\n    if(object.vars.strokeDash)        attr[\"stroke-dasharray\"] = object.vars.strokeDash;\n    if(object.vars.strokeDashOffset)  attr[\"stroke-dashoffset\"] = object.vars.strokeDashOffset;\n  }\n\n  // Single attributes\n  // --------------------------------------------------\n\n  transformAttribute(attr, shape) {\n\n    var vars = shape.vars;\n    var strings = [];\n\n    if(vars.rotation) {\n      var rot = \"rotate(\" + vars.rotation;\n      if(vars.rotationX || vars.rotationY)\n        rot += \" \" + vars.rotationX + \" \" + vars.rotationY;\n      strings.push(rot + \")\");\n    }\n\n    if((shape.type == \"group\" || shape.type == \"path\" || shape.type == \"polygon\" || shape.type == \"grid\") && (vars.x || vars.y)) {\n      strings.push(\"translate(\" + vars.x + \" \" + vars.y + \")\");\n    }\n\n    if(strings.length > 0)\n      attr.transform = strings.join(\" \").trim();\n  }\n\n  dAttribute(object, attr) {\n    attr.d = _.map(object.vars.anchors, function(a) {\n\n      if(a.command == 'move') {\n        return (a.relative ? \"m\" : \"M\") + \" \" + [a.vec1.x, a.vec1.y].join(' ');\n      }\n      else if(a.command == 'line') {\n        return (a.relative ? \"l\" : \"L\") + \" \" + [a.vec1.x, a.vec1.y].join(' ');\n      }\n      else if(a.command == 'cubic'){\n        return (a.relative ? \"c\" : \"C\") + \" \" + [a.vec1.x, a.vec1.y, a.vec2.x, a.vec2.y, a.vec3.x, a.vec3.y].join(' ');\n      }\n      else if(a.command == 'quad' && !_.isUndefined(a.vec2)){\n        return (a.relative ? \"q\" : \"Q\") + \" \" + [a.vec1.x, a.vec1.y, a.vec2.x, a.vec2.y].join(' ');\n      }\n      else if(a.command == 'quad'){\n        return (a.relative ? \"t\" : \"T\") + \" \" + [a.vec1.x, a.vec1.y].join(' ');\n      }\n      else if(a.command == 'close'){\n        return \"Z\";\n      }\n    }).join(\" \").trim();\n  }\n\n}\n\nexport default Render;","import _ from \"underscore\"\n\nimport Vector from \"./vector\";\nimport Anchor from \"./anchor\"\nimport Color from \"./color\"\nimport Group from \"./group\"\nimport Grid from \"./grid\"\nimport Utils from \"./utils\"\nimport Events from \"./events\"\nimport Render from \"./render\"\nimport Circle from \"./shapes/circle\"\nimport Ellipse from \"./shapes/ellipse\"\nimport Line from \"./shapes/line\"\nimport Triangle from \"./shapes/triangle\"\nimport Path from \"./shapes/path\"\nimport Polygon from \"./shapes/polygon\"\nimport Rectangle from \"./shapes/rectangle\"\nimport Text from \"./shapes/text\"\nimport { Sizeable, Moveable, Styleable, Groupable } from \"./mixins\"\n\n// Exports modules for easy access when using module?\n//export { default as anchor } from \"./anchor\";\n// ... for all of them\n\nclass Rune {\n\n  constructor(options) {\n\n    var params = _.defaults(options || {}, {\n      width: 640,\n        height: 480,\n        debug: false,\n        frameRate: 60\n      }\n    );\n\n    this.width = params.width;\n    this.height = params.height;\n    this.renderer = new Render(params);\n    this.stage = new Group();\n    this.debug = params.debug;\n    this.frameCount = 1;\n    this.frameRate = params.frameRate;\n\n    if(params.container) {\n\n      if(_.isString(params.container)) {\n        params.container = document.querySelector(params.container);\n      }\n\n      if(params.container) {\n        this.appendTo(params.container);\n      } else {\n        console.error(\"Container element not found\");\n      }\n    }\n\n    this.initEvents();\n  }\n\n  // Events\n  // --------------------------------------------------\n\n  initEvents() {\n    this.initMouseMove();\n  }\n\n  initMouseMove() {\n    var mouseMove = _.bind(function(e) {\n      var bounds = this.renderer.el.getBoundingClientRect();\n      this.trigger('mousemove', {\n        x: e.pageX - bounds.left,\n        y: e.pageY - bounds.top\n      });\n    }, this);\n    document.addEventListener('mousemove', mouseMove, false);\n  }\n\n  // Shape functions\n  // --------------------------------------------------\n\n  group(x, y, parent) {\n    var group = new Group(x, y);\n    Utils.groupLogic(group, this.stage, parent);\n    return group;\n  }\n\n  triangle(x, y, x2, y2, x3, y3, parent) {\n    var tri = new Triangle(x, y, x2, y2, x3, y3);\n    Utils.groupLogic(tri, this.stage, parent);\n    return tri;\n  }\n\n  rect(x, y, width, height, parent) {\n    var rect = new Rectangle(x, y, width, height);\n    Utils.groupLogic(rect, this.stage, parent);\n    return rect;\n  }\n\n  ellipse(x, y, width, height, parent) {\n    var ell = new Ellipse(x, y, width, height);\n    Utils.groupLogic(ell, this.stage, parent);\n    return ell;\n  }\n\n  circle(x, y, radius, parent) {\n    var circ = new Circle(x, y,radius);\n    Utils.groupLogic(circ, this.stage, parent);\n    return circ;\n  }\n\n  line(x1, y1, x2, y2, parent) {\n    var line = new Line(x1, y1, x2, y2);\n    Utils.groupLogic(line, this.stage, parent);\n    return line;\n  }\n\n  polygon(x, y, parent) {\n    var poly = new Polygon(x, y);\n    Utils.groupLogic(poly, this.stage, parent);\n    return poly;\n  }\n\n  path(x, y, parent) {\n    var path = new Path(x, y);\n    Utils.groupLogic(path, this.stage, parent);\n    return path;\n  }\n\n  text(text, x, y, parent) {\n    var text = new Text(text, x, y);\n    Utils.groupLogic(text, this.stage, parent);\n    return text;\n  }\n\n  grid(options, parent) {\n    var grid = new Grid(options);\n    Utils.groupLogic(grid, this.stage, parent);\n    return grid;\n  }\n\n  // Playhead\n  // --------------------------------------------------\n\n  play() {\n    if(this.frameRate >= 60)  this.playNow();\n    else                      setTimeout(_.bind(this.playNow, this), 1000 / this.frameRate);\n  }\n\n  playNow() {\n    this.trigger('draw', { frameCount: this.frameCount });\n    this.animationFrame = requestAnimationFrame(_.bind(this.play, this));\n    this.draw();\n  }\n\n  pause() {\n    cancelAnimationFrame(this.animationFrame);\n  }\n\n  // Render functions\n  // --------------------------------------------------\n\n  getEl() {\n    return this.renderer.el;\n  }\n\n  appendTo(container) {\n    container.appendChild(this.renderer.el);\n    return this;\n  }\n\n  draw() {\n    this.renderer.render(this.stage, { debug: this.debug });\n    this.frameCount += 1;\n  }\n\n}\n\n_.extend(Rune, Utils);\n_.extend(Rune.prototype, Events)\n\n// Modules should be accessible through Rune\nRune.Vector = Vector;\nRune.Anchor = Anchor;\nRune.Color = Color;\nRune.Group = Group;\nRune.Grid = Grid;\nRune.Circle = Circle;\nRune.Ellipse = Ellipse;\nRune.Line = Line;\nRune.Triangle = Triangle;\nRune.Path = Path;\nRune.Polygon = Polygon;\nRune.Rectangle = Rectangle;\nRune.Text = Text;\n\n// Right now I need these for mixin tests.\n// Rewrite so we don't need them.\nRune.Moveable = Moveable;\nRune.Styleable = Styleable;\nRune.Sizeable = Sizeable;\nRune.Groupable = Groupable;\n\n// define window.Rune for browserify\nglobal.Rune = Rune;\n\nexport default Rune;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Ellipse from \"./ellipse\"\nimport Utils from '../utils'\n\nclass Circle {\n\n  constructor(x, y, radius) {\n    this.moveable();\n    this.styleable();\n\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.radius = radius;\n  }\n\n  toPolygon(opts, parent) {\n    var ellipse = new Ellipse(this.vars.x, this.vars.y, this.vars.radius*2, this.vars.radius*2);\n    var poly = ellipse.toPolygon(opts, false);\n    Utils.copyMixinVars(this, poly);\n    Utils.groupLogic(poly, this.parent, parent);\n    return poly;\n  }\n\n  copy(parent) {\n    var copy = new Circle();\n    copy.vars.radius = this.vars.radius;\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n// Should we figure out a better way to do mixins for ES6?\n_.extend(Circle.prototype, Moveable, Styleable, Groupable, { type: \"circle\" });\n\nexport default Circle;","import _ from \"underscore\"\nimport { Moveable, Sizeable, Styleable, Groupable } from \"../mixins\"\nimport Polygon from './polygon'\nimport Utils from '../utils'\n\nclass Ellipse {\n\n  constructor(x, y, width, height) {\n    this.moveable();\n    this.sizeable();\n    this.styleable();\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.width = width;\n    this.vars.height = height;\n  }\n\n  toPolygon(opts, parent) {\n\n    var numVectors = 16;\n\n    // if we're calculating the number of vectors based on spacing\n    // find circumference and divide by spacing.\n    if(opts && opts.spacing) {\n      var circumference = Math.PI * (this.vars.width+this.vars.height);\n      numVectors = circumference / opts.spacing;\n    }\n\n    var vectorAngle = 360/numVectors;\n\n    var poly =  new Polygon(this.vars.x, this.vars.y);\n    for(var i = 0; i < numVectors; i++) {\n      var x = Math.cos(Utils.radians(i * vectorAngle)) * this.vars.width;\n      var y = Math.sin(Utils.radians(i * vectorAngle)) * this.vars.height;\n      poly.lineTo(x, y);\n    }\n\n    Utils.copyMixinVars(this, poly);\n    Utils.groupLogic(poly, this.parent, parent);\n\n    return poly;\n  }\n\n  copy(parent) {\n    var copy = new Ellipse();\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n// Should we figure out a better way to do mixins for ES6?\n_.extend(Ellipse.prototype, Moveable, Sizeable, Styleable, Groupable, {type: \"ellipse\"});\n\nexport default Ellipse;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Utils from '../utils'\n\nclass Line {\n\n  constructor(x, y, x2, y2) {\n    this.moveable();\n    this.styleable();\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.x2 = x2;\n    this.vars.y2 = y2;\n  }\n\n  copy(parent) {\n    var copy = new Line();\n    copy.vars.x2 = this.vars.x2;\n    copy.vars.y2 = this.vars.y2;\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n_.extend(Line.prototype, Moveable, Styleable, Groupable, {type: \"line\"});\n\nexport default Line;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Anchor from '../anchor'\nimport Vector from '../vector'\nimport Polygon from './polygon'\nimport Utils from '../utils'\n\nclass Path {\n\n  constructor(x, y) {\n    this.moveable();\n    this.styleable();\n    this.vars.anchors = [];\n    if(!_.isUndefined(x)) this.vars.x = x;\n    if(!_.isUndefined(y)) this.vars.y = y;\n  }\n\n  moveTo(x, y) {\n    this.vars.anchors.push(new Anchor().setMove(x, y));\n    return this;\n  }\n\n  lineTo(x, y) {\n    this.checkStartMove();\n    this.vars.anchors.push(new Anchor().setLine(x, y));\n    return this;\n  }\n\n  curveTo(a, b, c, d, e, f) {\n    this.checkStartMove();\n    this.vars.anchors.push(new Anchor().setCurve(a, b, c, d, e, f));\n    return this;\n  }\n\n  closePath() {\n    this.checkStartMove();\n    this.vars.anchors.push(new Anchor().setClose());\n    return this;\n  }\n\n  startVector() {\n    return this.vars.anchors[0] && this.vars.anchors[0].command == 'move' ? this.vars.anchors[0].vec1.copy() : new Vector(0, 0);\n  }\n\n  subpaths(parent) {\n    var subs = [];\n    var lastSplit = 0;\n\n    _.each(this.vars.anchors, function(anchor, i) {\n\n      var isMove = anchor.command == 'move';\n      var isAfterClose = this.vars.anchors[i-1] && this.vars.anchors[i-1].command == 'close'\n      var isLast = i == this.vars.anchors.length-1;\n\n      if(i > lastSplit && (isMove || isAfterClose || isLast)) {\n        if(isLast) i++;\n        var sub = this.copy(parent);\n        sub.vars.anchors = sub.vars.anchors.slice(lastSplit, i);\n        subs.push(sub);\n        lastSplit = i;\n      }\n    }, this);\n    return subs;\n  }\n\n  length() {\n\n    var len = 0;\n    var paths = this.subpaths(false);\n\n    for(var p = 0; p < paths.length; p++) {\n\n      var anchors = paths[p].vars.anchors;\n\n      // find length of all anchors in subpath.\n      // if last stop is close, use beginning\n      for(var i = 0; i < anchors.length-1; i++) {\n        var start = anchors[i];\n        var startVec = start.vec3 || start.vec2 || start.vec1;\n        var stop = anchors[i+1];\n\n        // if stop is a close command, replace close anchor\n        // with vector of first point in path.\n        if(stop.command == 'close') {\n          stop = paths[p].startVector();\n        }\n\n        var rel = stop.sub(startVec);\n        len += rel.length()\n      }\n    }\n\n    return len;\n  }\n\n  vectorAtLength(len) {\n    var tmpLen = 0;\n    var paths = this.subpaths(false);\n\n    for(var p = 0; p < paths.length; p++) {\n\n      var anchors = paths[p].vars.anchors;\n\n      // find length of all anchors in subpath.\n      // if last stop is close, use beginning\n      for(var i = 0; i < anchors.length-1; i++) {\n        var start = anchors[i];\n        var startVec = start.vec3 || start.vec2 || start.vec1;\n        var stop = anchors[i+1];\n\n        // if stop is a close command, replace close anchor\n        // with vector of first point in path.\n        if(stop.command == 'close') {\n          var beginning = paths[p].startVector();\n          stop = new Anchor().setLine(beginning.x, beginning.y)\n        }\n\n        var vec = stop.sub(startVec)\n        var veclen = vec.length();\n\n        if(tmpLen + veclen > len) {\n          var remaining = len - tmpLen;\n          return startVec.add(vec.vectorAt(remaining / veclen));\n        }\n\n        tmpLen += veclen;\n      }\n    }\n\n    return this.startVector();\n  }\n\n  vectorAt(scalar) {\n    return this.vectorAtLength(this.length() * scalar);\n  }\n\n  toPolygons(opts, parent) {\n\n    var paths = this.subpaths(false);\n    var polys = [];\n\n    // if splitting the path into vectors with equal spacing\n    if(opts && opts.spacing) {\n\n      _.each(paths, function(path) {\n        var poly = new Polygon(path.vars.x, path.vars.y);\n        var len = path.length();\n        var num = len / opts.spacing;\n        for(var i = 0; i < num; i++) {\n          var vec = path.vectorAtLength(i * opts.spacing);\n          poly.lineTo(vec.x, vec.y)\n        }\n\n        Utils.copyMixinVars(this, poly);\n        Utils.groupLogic(poly, this.parent, parent);\n\n        polys.push(poly);\n      }, this);\n    }\n\n    return polys;\n  }\n\n  copy(parent) {\n    var copy = new Path();\n    copy.vars.anchors = _.map(this.vars.anchors, function(a) { return a.copy(); });\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n  fillRule(val) { this.vars.fillRule = val; return this; }\n\n  // Paths must start with a moveTo. This function is checks if\n  // there is a moveTo at the beginning, and adds one if not.\n  checkStartMove() {\n    if(this.vars.anchors.length == 0) {\n      this.moveTo(0, 0);\n    }\n  }\n\n}\n\n_.extend(Path.prototype, Moveable, Styleable, Groupable, { type: \"path\"});\n\nexport default Path;\n","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Vector from '../vector'\nimport Utils from '../utils'\n\nclass Polygon {\n\n  constructor(x, y) {\n    this.moveable();\n    this.styleable();\n    this.vars.vectors = [];\n    if(!_.isUndefined(x)) this.vars.x = x;\n    if(!_.isUndefined(y)) this.vars.y = y;\n  }\n\n  lineTo(x, y) {\n    this.vars.vectors.push(new Vector(x, y));\n    return this;\n  }\n\n  length() {\n    var len = 0;\n    for(var i = 0; i < this.vars.vectors.length; i++) {\n      var start = this.vars.vectors[i];\n      var stop = this.vars.vectors[(i+1)%this.vars.vectors.length];\n      len += stop.sub(start).length();\n    }\n    return len;\n  }\n\n  vectorAtLength(len) {\n\n    var tmpLen = 0;\n\n    for(var i = 0; i < this.vars.vectors.length; i++) {\n      var start = this.vars.vectors[i];\n      var stop = this.vars.vectors[(i+1)%this.vars.vectors.length];\n      var vec = stop.sub(start);\n      var veclen = vec.length();\n\n      if(tmpLen + veclen > len) {\n        var remaining = len - tmpLen;\n        return start.add(vec.normalize().multiply(remaining));\n      }\n\n      tmpLen += veclen;\n    }\n\n    return _.first(this.vars.vectors).copy();\n  }\n\n  vectorAt(scalar) {\n    return this.vectorAtLength(this.length() * scalar);\n  }\n\n  bounds() {\n    var xmax = undefined;\n    var ymax = undefined;\n    var xmin = undefined;\n    var ymin = undefined;\n\n    _.each(this.vars.vectors, function(vec) {\n      if(_.isUndefined(xmin) || vec.x < xmin)  xmin = vec.x;\n      if(_.isUndefined(xmax) || vec.x > xmax)  xmax = vec.x;\n      if(_.isUndefined(ymin) || vec.y < ymin)  ymin = vec.y;\n      if(_.isUndefined(ymax) || vec.y > ymax)  ymax = vec.y;\n    });\n\n    return {\n      x: xmin,\n      y: ymin,\n      width: xmax - xmin,\n      height: ymax - ymin\n    };\n  }\n\n  centroid() {\n    var ps = this.vars.vectors;\n    var areaAcc = 0.0;\n    var xAcc = 0.0;\n    var yAcc = 0.0;\n\n    for(var i = 0; i < ps.length-1; i++)\n    {\n      areaAcc += ps[i].x * ps[i+1].y - ps[i+1].x * ps[i].y;\n      xAcc += (ps[i].x + ps[i+1].x) * (ps[i].x * ps[i+1].y - ps[i+1].x * ps[i].y);\n      yAcc += (ps[i].y + ps[i+1].y) * (ps[i].x * ps[i+1].y - ps[i+1].x * ps[i].y);\n    }\n\n    areaAcc /= 2.0;\n    var x = xAcc/(6.0*areaAcc);\n    var y = yAcc/(6.0*areaAcc);\n\n    return new Vector(x, y);\n  }\n\n  toPolygon(opts, parent) {\n\n    if(opts && opts.spacing) {\n\n      var poly = new Polygon(this.vars.x, this.vars.y);\n      var len = this.length();\n      var num = len / opts.spacing;\n      for(var i = 0; i < num; i++) {\n        var vec = this.vectorAtLength(i * opts.spacing);\n        poly.lineTo(vec.x, vec.y)\n      }\n\n      Utils.copyMixinVars(this, poly);\n      Utils.groupLogic(poly, this.parent, parent);\n\n      return poly;\n    }\n\n    return this;\n  }\n\n  copy(parent) {\n    var copy = new Polygon();\n    copy.vars.vectors = _.map(this.vars.vectors, function(v) { return v.copy(); });\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n}\n\n_.extend(Polygon.prototype, Moveable, Styleable, Groupable, { type: \"polygon\" });\n\nexport default Polygon;\n","import _ from \"underscore\"\nimport { Moveable, Styleable, Sizeable, Groupable } from \"../mixins\"\nimport Polygon from './polygon'\nimport Utils from '../utils'\n\nclass Rectangle {\n\n  constructor(x, y, width, height) {\n    this.moveable();\n    this.sizeable();\n    this.styleable();\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.width = width;\n    this.vars.height = height;\n  }\n\n  toPolygon(opts, parent) {\n    var poly =  new Polygon(this.vars.x, this.vars.y)\n      .lineTo(0, 0)\n      .lineTo(this.vars.width, 0)\n      .lineTo(this.vars.width, this.vars.height)\n      .lineTo(0, this.vars.height);\n\n    if(opts) poly = poly.toPolygon(opts, false);\n\n    Utils.copyMixinVars(this, poly);\n    Utils.groupLogic(poly, this.parent, parent);\n\n    return poly;\n  }\n\n  copy(parent) {\n    var copy = new Rectangle();\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n}\n\n_.extend(Rectangle.prototype, Moveable, Sizeable, Styleable, Groupable, { type: \"rectangle\" });\n\nexport default Rectangle;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Utils from '../utils'\n\nclass Text {\n\n  constructor(text, x, y) {\n    this.moveable();\n    this.styleable();\n    this.vars.text = text;\n    this.vars.x = x;\n    this.vars.y = y;\n  }\n\n  toPolygon() {\n    throw new Error(\"You need the Rune.Font plugin to convert text to polygon\");\n  }\n\n  textAlign(textAlign) { this.vars.textAlign = textAlign; return this; }\n  fontFamily(fontFamily) { this.vars.fontFamily = fontFamily; return this; }\n  fontStyle(fontStyle) { this.vars.fontStyle = fontStyle; return this; }\n  fontWeight(fontWeight) { this.vars.fontWeight = fontWeight; return this; }\n  fontSize(fontSize) { this.vars.fontSize = fontSize; return this; }\n  letterSpacing(letterSpacing) { this.vars.letterSpacing = letterSpacing; return this; }\n  textDecoration(textDecoration) { this.vars.textDecoration = textDecoration; return this; }\n\n  copy(parent) {\n    var copy = new Text();\n    copy.vars.text = this.vars.text;\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n_.extend(Text.prototype, Moveable, Styleable, Groupable, { type: \"text\" });\n\nexport default Text;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Utils from '../utils'\n\nclass Triangle {\n\n  constructor(x, y, x2, y2, x3, y3) {\n    this.moveable();\n    this.styleable();\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.x2 = x2;\n    this.vars.y2 = y2;\n    this.vars.x3 = x3;\n    this.vars.y3 = y3;\n  }\n\n  copy(parent) {\n    var copy = new Triangle();\n    copy.vars.x2 = this.vars.x2;\n    copy.vars.y2 = this.vars.y2;\n    copy.vars.x3 = this.vars.x3;\n    copy.vars.y3 = this.vars.y3;\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n_.extend(Triangle.prototype, Moveable, Styleable, Groupable, {type: \"triangle\"});\n\nexport default Triangle;","import _ from \"underscore\"\n\nvar Utils = {\n\n  random: function(a, b) {\n    if(_.isUndefined(b)) {\n      b = a;\n      a = 0;\n    }\n    return a + (Math.random() * (b-a));\n  },\n\n  degrees: function(radians) {\n    return radians * (180/Math.PI);\n  },\n\n  radians: function(degrees) {\n    return degrees * (Math.PI/180);\n  },\n\n  groupLogic: function(child, fallback, group) {\n\n    if(group && group.type == \"group\") {\n      group.add(child)\n    }\n\n    else if(group !== false && fallback && fallback.type == \"group\") {\n      fallback.add(child)\n    }\n  },\n\n  copyMixinVars: function(a, b) {\n    if(a.moveable && b.moveable)    b.moveable(a);\n    if(a.sizeable && b.sizeable)    b.sizeable(a);\n    if(a.styleable && b.styleable)  b.styleable(a);\n  }\n\n};\n\nexport default Utils;","import _ from \"underscore\"\nimport Utils from './utils'\n\nclass Vector {\n\n  constructor(x, y) {\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n\n  set(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  add (vec) {\n    return new Vector(this.x + vec.x, this.y + vec.y);\n  }\n\n  sub(vec) {\n    return new Vector(this.x - vec.x, this.y - vec.y);\n  }\n\n  multiply(scalar) {\n    return new Vector(this.x * scalar, this.y * scalar);\n  }\n\n  divide(scalar) {\n    var vec = new Vector(0, 0);\n    if(scalar) {\n      vec.x = this.x / scalar;\n      vec.y = this.y / scalar;\n    }\n    return vec;\n  }\n\n  distance(vec) {\n    return Math.sqrt(this.distanceSquared(vec));\n  }\n\n  distanceSquared(vec) {\n    var dx = this.x - vec.x;\n    var dy = this.y - vec.y;\n    return dx * dx + dy * dy;\n  }\n\n  lerp(vec, scalar) {\n    var x = (vec.x - this.x) * scalar + this.x;\n    var y = (vec.y - this.y) * scalar + this.y;\n    return new Vector(x, y);\n  }\n\n  dot (vec) {\n    return this.x * vec.x + this.y * vec.y;\n  }\n\n  length() {\n    return Math.sqrt(this.lengthSquared());\n  }\n\n  lengthSquared() {\n    return this.x * this.x + this.y * this.y;\n  }\n\n  normalize() {\n    return this.divide(this.length());\n  }\n\n  rotation() {\n    return Utils.degrees(Math.atan2(this.y, this.x));\n  }\n\n  rotate(degrees) {\n    var rad = Utils.radians(this.rotation() + degrees);\n    var len = this.length();\n    var x = Math.cos(rad) * len;\n    var y = Math.sin(rad) * len;\n    return new Vector(x, y);\n  }\n\n  copy() {\n    return new Vector(this.x, this.y);\n  }\n\n  toString() {\n    return \"(x: \" + this.x + \", y: \" + this.y + \")\";\n  }\n\n}\n\nexport default Vector;"]}