!function e(t,r,n){function i(s,u){if(!r[s]){if(!t[s]){var o="function"==typeof require&&require;if(!u&&o)return o(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[s]={exports:{}};t[s][0].call(h.exports,function(e){var r=t[s][1][e];return i(r?r:e)},h,h.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("bezier-js"),l=n(o),h=e("./vector"),v=n(h),c=function(){function e(){i(this,e)}return a(e,[{key:"add",value:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.add(e)),t.vec2&&(t.vec2=t.vec2.add(e)),t.vec3&&(t.vec3=t.vec3.add(e)),t}},{key:"sub",value:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.sub(e)),t.vec2&&(t.vec2=t.vec2.sub(e)),t.vec3&&(t.vec3=t.vec3.sub(e)),t}},{key:"copy",value:function(){var t=new e;return t.command=this.command,this.vec1&&(t.vec1=this.vec1.copy()),this.vec2&&(t.vec2=this.vec2.copy()),this.vec3&&(t.vec3=this.vec3.copy()),t}},{key:"setMove",value:function(e,t){return this.command="move",this.vec1=new v["default"](e,t),this}},{key:"setLine",value:function(e,t){return this.command="line",this.vec1=new v["default"](e,t),this}},{key:"setCurve",value:function(e,t,r,n,i,a){return u["default"].isUndefined(a)?(this.command="quad",this.vec1=new v["default"](e,t),this.vec2=new v["default"](r,n)):(this.command="cubic",this.vec1=new v["default"](e,t),this.vec2=new v["default"](r,n),this.vec3=new v["default"](i,a)),this}},{key:"setClose",value:function(){return this.command="close",this}},{key:"length",value:function(){if("move"==this.command)return 0;if("line"==this.command)return this.vec1.length();if("quad"==this.command)return new l["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).length();if("cubic"==this.command)return new l["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).length();throw new Error("Cannot compute length for this type of anchor")}},{key:"vectorAt",value:function(e){e>1&&(e=1),0>e&&(e=0);if("line"==this.command)return new v["default"](this.vec1.x,this.vec1.y).multiply(e);if("quad"==this.command)return new l["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).get(e);if("cubic"==this.command)return new l["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).get(e);throw new Error("Cannot compute vectorAt for this type of anchor")}}]),e}();r["default"]=c,t.exports=r["default"]},{"./vector":18,"bezier-js":void 0,underscore:void 0}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("color-convert"),l=n(o),h=e("color-string"),v=n(h),c=function(){function e(t,r,n,a,s){if(i(this,e),this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},t instanceof e)return t;if("hsv"==t)this.setValues("hsv",{h:r%360,s:n,v:a}),s&&this.setValues("alpha",s);else if(u["default"].isString(t)){var o=v["default"].getRgba(t);if(o)this.setValues("rgb",o);else if(o=v["default"].getHsla(t))this.setValues("hsl",o);else{if(!(o=v["default"].getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",o)}r&&this.setValues("alpha",r)}else u["default"].isUndefined(n)?(this.setValues("rgb",{r:t,g:t,b:t}),r&&this.setValues("alpha",r)):u["default"].isUndefined(t)||(this.setValues("rgb",{r:t,g:r,b:n}),a&&this.setValues("alpha",a))}return a(e,[{key:"rgb",value:function(e){return this.setSpace("rgb",arguments)}},{key:"hsl",value:function(e){return this.setSpace("hsl",arguments)}},{key:"hsv",value:function(e){return this.setSpace("hsv",arguments)}},{key:"hwb",value:function(e){return this.setSpace("hwb",arguments)}},{key:"cmyk",value:function(e){return this.setSpace("cmyk",arguments)}},{key:"rgbArray",value:function(){return this.values.rgb}},{key:"hslArray",value:function(){return this.values.hsl}},{key:"hsvArray",value:function(){return this.values.hsv}},{key:"hwbArray",value:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb}},{key:"cmykArray",value:function(){return this.values.cmyk}},{key:"rgbaArray",value:function(){var e=this.values.rgb;return e.concat([this.values.alpha])}},{key:"hslaArray",value:function(){var e=this.values.hsl;return e.concat([this.values.alpha])}},{key:"alpha",value:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)}},{key:"red",value:function(e){return this.setChannel("rgb",0,e)}},{key:"green",value:function(e){return this.setChannel("rgb",1,e)}},{key:"blue",value:function(e){return this.setChannel("rgb",2,e)}},{key:"hue",value:function(e){return this.setChannel("hsl",0,e)}},{key:"saturation",value:function(e){return this.setChannel("hsl",1,e)}},{key:"lightness",value:function(e){return this.setChannel("hsl",2,e)}},{key:"saturationv",value:function(e){return this.setChannel("hsv",1,e)}},{key:"whiteness",value:function(e){return this.setChannel("hwb",1,e)}},{key:"blackness",value:function(e){return this.setChannel("hwb",2,e)}},{key:"value",value:function(e){return this.setChannel("hsv",2,e)}},{key:"cyan",value:function(e){return this.setChannel("cmyk",0,e)}},{key:"magenta",value:function(e){return this.setChannel("cmyk",1,e)}},{key:"yellow",value:function(e){return this.setChannel("cmyk",2,e)}},{key:"black",value:function(e){return this.setChannel("cmyk",3,e)}},{key:"hexString",value:function(){return v["default"].hexString(this.values.rgb)}},{key:"rgbString",value:function(){return v["default"].rgbString(this.values.rgb,this.values.alpha)}},{key:"rgbaString",value:function(){return v["default"].rgbaString(this.values.rgb,this.values.alpha)}},{key:"percentString",value:function(){return v["default"].percentString(this.values.rgb,this.values.alpha)}},{key:"hslString",value:function(){return v["default"].hslString(this.values.hsl,this.values.alpha)}},{key:"hslaString",value:function(){return v["default"].hslaString(this.values.hsl,this.values.alpha)}},{key:"hwbString",value:function(){return v["default"].hwbString(this.values.hwb,this.values.alpha)}},{key:"keyword",value:function(){return v["default"].keyword(this.values.rgb,this.values.alpha)}},{key:"rgbNumber",value:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]}},{key:"luminosity",value:function(){for(var e=this.values.rgb,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]}},{key:"contrast",value:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)}},{key:"level",value:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""}},{key:"dark",value:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return 128>t}},{key:"light",value:function(){return!this.dark()}},{key:"negate",value:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this}},{key:"lighten",value:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this}},{key:"darken",value:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this}},{key:"saturate",value:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this}},{key:"desaturate",value:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this}},{key:"whiten",value:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this}},{key:"blacken",value:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this}},{key:"greyscale",value:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this}},{key:"clearer",value:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this}},{key:"opaquer",value:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this}},{key:"rotate",value:function(e){var t=this.values.hsl[0];return t=(t+e)%360,t=0>t?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this}},{key:"mix",value:function(e,t){var r=this,n=e,i=void 0!==t?t:.5,a=2*i-1,s=r.alpha()-n.alpha(),u=((a*s==-1?a:(a+s)/(1+a*s))+1)/2,o=1-u;return this.rgb(u*r.red()+o*n.red(),u*r.green()+o*n.green(),u*r.blue()+o*n.blue()).alpha(r.alpha()*i+n.alpha()*(1-i))}},{key:"toJSON",value:function(){return this.rgb()}},{key:"copy",value:function(){return(new e).rgb(this.rgb())}},{key:"getValues",value:function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=this.values[e][r];return 1!=this.values.alpha&&(t.a=this.values.alpha),t}},{key:"setValues",value:function(e,t){var r={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},n={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},i=1;if("alpha"==e)i=t;else if(t.length)this.values[e]=t.slice(0,e.length),i=t[e.length];else if(void 0!==t[e.charAt(0)]){for(var a=0;a<e.length;a++)this.values[e][a]=t[e.charAt(a)];i=t.a}else if(void 0!==t[r[e][0]]){for(var s=r[e],a=0;a<e.length;a++)this.values[e][a]=t[s[a]];i=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==i?i:this.values.alpha)),"alpha"!=e){for(var a=0;a<e.length;a++){var u=Math.max(0,Math.min(n[e][a],this.values[e][a]));this.values[e][a]=Math.round(u)}for(var o in r){o!=e&&(this.values[o]=l["default"][e][o](this.values[e]));for(var a=0;a<o.length;a++){var u=Math.max(0,Math.min(n[o][a],this.values[o][a]));this.values[o][a]=Math.round(u)}}return!0}}},{key:"setSpace",value:function(e,t){var r=t[0];return void 0===r?this.getValues(e):("number"==typeof r&&(r=Array.prototype.slice.call(t)),this.setValues(e,r),this)}},{key:"setChannel",value:function(e,t,r){return void 0===r?this.values[e][t]:(this.values[e][t]=r,this.setValues(e,this.values[e]),this)}}]),e}();r["default"]=c,t.exports=r["default"]},{"color-convert":void 0,"color-string":void 0,underscore:void 0}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={on:function(e,t){return this._events||(this._events={}),this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){if(this._events[e]&&!t)delete this._events[e];else if(this._events[e]){e=this._events[e];for(var r=e.length;r--;)e[r]===t&&e.splice(r-1,1)}else 0===arguments.length&&(this._events={});return this},trigger:function(e){if(this._events&&this._events[e])for(var t=this._events[e],r=arguments.length>1?[arguments[1]]:[],n=t.length;n--;)t[n].apply(this,r);return this}};r["default"]=n,t.exports=r["default"]},{}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("./mixins"),l=e("./group"),h=n(l),v=function(){function e(t){i(this,e),this.moveable(),this.modules=[];var r=u["default"].defaults(t||{},{x:0,y:0,columns:10,rows:1,gutterWidth:0,gutterHeight:0,moduleWidth:50,moduleHeight:500});u["default"].isUndefined(r.gutter)||(r.gutterWidth=r.gutter,r.gutterHeight=r.gutter),u["default"].isUndefined(r.width)?r.width=r.moduleWidth*r.columns+r.gutterWidth*(r.columns-1):r.moduleWidth=(r.width-(r.columns-1)*r.gutterWidth)/r.columns,u["default"].isUndefined(r.height)?r.height=r.moduleHeight*r.rows+r.gutterHeight*(r.rows-1):r.moduleHeight=(r.height-(r.rows-1)*r.gutterHeight)/r.rows,u["default"].extend(this.vars,r),this.computeGrid()}return a(e,[{key:"add",value:function(e,t,r){if(t||(t=1),r||(r=1),!this.modules[t-1]||!this.modules[t-1][r-1])throw new Error("Column or row does not exist");this.modules[t-1][r-1].add(e)}},{key:"computeGrid",value:function(){this.modules=[];for(var e=0;e<this.vars.columns;e++){this.modules.push([]);for(var t=0;t<this.vars.rows;t++){var r=e*this.vars.moduleWidth+e*this.vars.gutterWidth,n=t*this.vars.moduleHeight+t*this.vars.gutterHeight;this.modules[e].push(new h["default"](r,n))}}}}]),e}();u["default"].extend(v.prototype,o.Shapeable,o.Moveable,{type:"grid"}),r["default"]=v,t.exports=r["default"]},{"./group":5,"./mixins":6,underscore:void 0}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("./mixins"),l=e("./utils"),h=n(l),v=function(){function e(t,r){i(this,e),this.moveable(),this.children=[],u["default"].isUndefined(t)||(this.vars.x=t),u["default"].isUndefined(r)||(this.vars.y=r)}return a(e,[{key:"add",value:function(e){e.parent&&e.parent.remove(e),this.children.push(e),e.parent=this}},{key:"remove",value:function(e){this.children=u["default"].without(this.children,e),e.parent=!1}},{key:"copy",value:function t(r){var t=new e;return u["default"].each(this.children,function(e){e.copy(t)}),h["default"].copyMixinVars(this,t),h["default"].groupLogic(t,this.parent,r),t}}]),e}();u["default"].extend(v.prototype,o.Moveable,o.Groupable,{type:"group"}),r["default"]=v,t.exports=r["default"]},{"./mixins":6,"./utils":17,underscore:void 0}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./utils"),a=(n(i),e("./color")),s=n(a),u={moveable:function(e){this.vars=this.vars||{},this.vars.x=e?e.vars.x:0,this.vars.y=e?e.vars.y:0,this.vars.rotation=e?e.vars.rotation:0,this.vars.rotationX=e?e.vars.rotationX:0,this.vars.rotationY=e?e.vars.rotationY:0},move:function(e,t,r){return this.vars.x=r?this.vars.x+e:e,this.vars.y=r?this.vars.y+t:t,this},rotate:function(e,t,r,n){return this.vars.rotation=e,(t||r)&&(this.vars.rotationX=t||0,this.vars.rotationY=r||0),n&&(this.vars.rotationX+=this.vars.x,this.vars.rotationY+=this.vars.y),this}},o={sizeable:function(e){this.vars=this.vars||{},this.vars.width=e?e.vars.width:0,this.vars.height=e?e.vars.height:0}},l={styleable:function(e){this.vars=this.vars||{},this.vars.fill=new s["default"](128),this.vars.stroke=new s["default"](0),e&&(e.vars.fill===!1?this.vars.fill=!1:e.vars.fill&&(this.vars.fill=e.vars.fill.copy()),e.vars.stroke===!1?this.vars.stroke=!1:e.vars.stroke&&(this.vars.stroke=e.vars.stroke.copy()))},fill:function(e,t,r,n,i){return e===!1?this.vars.fill=!1:this.vars.fill=new s["default"](e,t,r,n,i),this},stroke:function(e,t,r,n,i){return e===!1?this.vars.stroke=!1:this.vars.stroke=new s["default"](e,t,r,n,i),this},strokeWidth:function(e){return this.vars.strokeWidth=e,this},strokeCap:function(e){return this.vars.strokeCap=e,this},strokeJoin:function(e){return this.vars.strokeJoin=e,this},strokeMiterlimit:function(e){return this.vars.strokeMiterlimit=e,this},strokeDash:function(e){return this.vars.strokeDash=e,this},strokeDashOffset:function(e){return this.vars.strokeDashOffset=e,this}},h={addParent:function(e){return e.add(this),this},removeParent:function(){return this.parent&&this.parent.remove(this),this}};r.Moveable=u,r.Sizeable=o,r.Styleable=l,r.Groupable=h},{"./color":2,"./utils":17}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("./shapes/circle"),l=n(o),h=e("./shapes/rectangle"),v=n(h),c=e("./shapes/line"),f=n(c),d=e("virtual-dom/h"),y=(n(d),e("virtual-dom/diff")),p=n(y),g=e("virtual-dom/patch"),b=n(g),m=e("virtual-dom/create-element"),k=n(m),x=e("virtual-dom/virtual-hyperscript/svg"),w=n(x),M=function(){function e(t){i(this,e),this.params=t,this.tree=w["default"]("svg",{width:t.width,height:t.height}),this.el=k["default"](this.tree)}return a(e,[{key:"render",value:function(e,t){var r=w["default"]("svg",{width:this.params.width,height:this.params.height},[this.objectsToSVG(e.children,t)]),n=p["default"](this.tree,r);this.el=b["default"](this.el,n),this.tree=r}},{key:"objectToSVG",value:function(e,t){return this[e.type+"ToSVG"]?this[e.type+"ToSVG"](e,t):void console.error("Rune.Render: Object not recognized",e)}},{key:"objectsToSVG",value:function(e,t){var e=u["default"].map(e,u["default"].bind(function(e){return this.objectToSVG(e,t)},this));return u["default"].flatten(e,!0)}},{key:"rectangleToSVG",value:function(e){var t={x:e.vars.x,y:e.vars.y,width:e.vars.width,height:e.vars.height};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("rect",t)}},{key:"ellipseToSVG",value:function(e){var t={cx:e.vars.x,cy:e.vars.y,rx:e.vars.width/2,ry:e.vars.height/2};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("ellipse",t)}},{key:"circleToSVG",value:function(e){var t={cx:e.vars.x,cy:e.vars.y,r:e.vars.radius};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("circle",t)}},{key:"lineToSVG",value:function(e){var t={x1:e.vars.x,y1:e.vars.y,x2:e.vars.x2,y2:e.vars.y2};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("line",t)}},{key:"triangleToSVG",value:function(e){var t={points:e.vars.x+" "+e.vars.y+" "+e.vars.x2+" "+e.vars.y2+" "+e.vars.x3+" "+e.vars.y3};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("polygon",t)}},{key:"polygonToSVG",value:function(e){var t={points:u["default"].map(e.vars.vectors,function(e){return e.x+" "+e.y}).join(" ")};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("polygon",t)}},{key:"pathToSVG",value:function(e,t){var r={};this.dAttribute(e,r),this.transformAttribute(r,e),this.styleableAttributes(e,r),this.optionalAttributes(e,r,{fillRule:"fill-rule"});var n=[w["default"]("path",r)];return t&&t.debug&&(n=n.concat(this.debugPathToSVG(e))),n}},{key:"textToSVG",value:function(e,t){var r={x:e.vars.x,y:e.vars.y};if(this.transformAttribute(r,e),this.styleableAttributes(e,r),e.vars.textAlign){var n={left:"start",center:"middle",right:"end"};r["text-anchor"]=n[e.vars.textAlign]}if(this.optionalAttributes(e,r,{fontFamily:"font-family",textAlign:"text-align",fontStyle:"font-style",fontWeight:"font-weight",fontSize:"font-size",letterSpacing:"letter-spacing",textDecoration:"text-decoration"}),e.vars.textAlign){var n={left:"start",center:"middle",right:"end"};r["text-anchor"]=n[e.vars.textAlign]}return w["default"]("text",r,e.vars.text)}},{key:"groupToSVG",value:function(e){if(!u["default"].isEmpty(e.children)){var t={};return this.transformAttribute(t,e),w["default"]("g",t,this.objectsToSVG(e.children))}}},{key:"gridToSVG",value:function(e,t){var r={};this.transformAttribute(r,e);var n=[];return u["default"].each(e.modules,u["default"].bind(function(e){n.push(this.objectsToSVG(e))},this)),t&&t.debug&&(n=n.concat(this.debugGridToSVG(e))),w["default"]("g",r,u["default"].flatten(n,!0))}},{key:"debugPathToSVG",value:function(e){var t=this,r=[];return u["default"].each(e.vars.anchors,function(n,i){if("cubic"==n.command){r.push(t.debugLine(e.vars.x+n.vec1.x,e.vars.y+n.vec1.y,e.vars.x+n.vec3.x,e.vars.y+n.vec3.y)),r.push(t.debugLine(e.vars.x+n.vec2.x,e.vars.y+n.vec2.y,e.vars.x+n.vec3.x,e.vars.y+n.vec3.y));for(var i=1;4>i;i++)r.push(t.debugCircle(e.vars.x+n["vec"+i].x,e.vars.y+n["vec"+i].y))}else if("quad"==n.command&&!u["default"].isUndefined(n.vec2)){r.push(t.debugLine(e.vars.x+n.vec1.x,e.vars.y+n.vec1.y,e.vars.x+n.vec2.x,e.vars.y+n.vec2.y));for(var i=1;3>i;i++)r.push(t.debugCircle(e.vars.x+n["vec"+i].x,e.vars.y+n["vec"+i].y))}}),r}},{key:"debugGridToSVG",value:function(e){var t=[];t.push(this.debugRect(0,0,e.vars.width,e.vars.height));for(var r=0,n=0;n<e.vars.columns-1;n++)r+=e.vars.moduleWidth,t.push(this.debugLine(r,0,r,e.vars.height)),r+=e.vars.gutterWidth,t.push(this.debugLine(r,0,r,e.vars.height));for(var i=0,n=0;n<e.vars.rows-1;n++)i+=e.vars.moduleHeight,t.push(this.debugLine(0,i,e.vars.width,i)),i+=e.vars.gutterHeight,t.push(this.debugLine(0,i,e.vars.width,i));return t}},{key:"debugCircle",value:function(e,t){var r=new l["default"](e,t,4).fill(212,18,229).stroke(!1);return this.circleToSVG(r)}},{key:"debugRect",value:function(e,t,r,n){var i=new v["default"](e,t,r,n).stroke(212,18,229).fill(!1);return this.rectangleToSVG(i)}},{key:"debugLine",value:function(e,t,r,n){var i=new f["default"](e,t,r,n).stroke(212,18,229);return this.lineToSVG(i)}},{key:"optionalAttributes",value:function(e,t,r){u["default"].each(r,function(r,n){e.vars[n]&&(t[r]=e.vars[n])},this)}},{key:"sizeableAttributes",value:function(e,t){t.width=e.vars.width,t.height=e.vars.height}},{key:"styleableAttributes",value:function(e,t){e.vars.fill===!1?t.fill="none":e.vars.fill&&(t.fill=e.vars.fill.rgbString()),e.vars.stroke===!1?t.stroke="none":e.vars.stroke&&(t.stroke=e.vars.stroke.rgbString()),e.vars.fill&&(t.fill=e.vars.fill.rgbString()),e.vars.strokeWidth&&(t["stroke-width"]=e.vars.strokeWidth),e.vars.strokeCap&&(t["stroke-linecap"]=e.vars.strokeCap),e.vars.strokeJoin&&(t["stroke-linejoin"]=e.vars.strokeJoin),e.vars.strokeMiterlimit&&(t["stroke-miterlimit"]=e.vars.strokeMiterlimit),e.vars.strokeDash&&(t["stroke-dasharray"]=e.vars.strokeDash),e.vars.strokeDashOffset&&(t["stroke-dashoffset"]=e.vars.strokeDashOffset)}},{key:"transformAttribute",value:function(e,t){var r=t.vars,n=[];if(r.rotation){var i="rotate("+r.rotation;(r.rotationX||r.rotationY)&&(i+=" "+r.rotationX+" "+r.rotationY),n.push(i+")")}"group"!=t.type&&"path"!=t.type&&"polygon"!=t.type&&"grid"!=t.type||!r.x&&!r.y||n.push("translate("+r.x+" "+r.y+")"),n.length>0&&(e.transform=n.join(" ").trim())}},{key:"dAttribute",value:function(e,t){t.d=u["default"].map(e.vars.anchors,function(e){return"move"==e.command?(e.relative?"m":"M")+" "+[e.vec1.x,e.vec1.y].join(" "):"line"==e.command?(e.relative?"l":"L")+" "+[e.vec1.x,e.vec1.y].join(" "):"cubic"==e.command?(e.relative?"c":"C")+" "+[e.vec1.x,e.vec1.y,e.vec2.x,e.vec2.y,e.vec3.x,e.vec3.y].join(" "):"quad"!=e.command||u["default"].isUndefined(e.vec2)?"quad"==e.command?(e.relative?"t":"T")+" "+[e.vec1.x,e.vec1.y].join(" "):"close"==e.command?"Z":void 0:(e.relative?"q":"Q")+" "+[e.vec1.x,e.vec1.y,e.vec2.x,e.vec2.y].join(" ")}).join(" ").trim()}}]),e}();r["default"]=M,t.exports=r["default"]},{"./shapes/circle":9,"./shapes/line":11,"./shapes/rectangle":14,underscore:void 0,"virtual-dom/create-element":void 0,"virtual-dom/diff":void 0,"virtual-dom/h":void 0,"virtual-dom/patch":void 0,"virtual-dom/virtual-hyperscript/svg":void 0}],8:[function(e,t,r){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("underscore"),o=i(u),l=e("./vector"),h=i(l),v=e("./anchor"),c=i(v),f=e("./color"),d=i(f),y=e("./group"),p=i(y),g=e("./grid"),b=i(g),m=e("./utils"),k=i(m),x=e("./events"),w=i(x),M=e("./render"),S=i(M),_=e("./shapes/circle"),V=i(_),A=e("./shapes/ellipse"),T=i(A),C=e("./shapes/line"),j=i(C),P=e("./shapes/triangle"),L=i(P),G=e("./shapes/path"),O=i(G),E=e("./shapes/polygon"),U=i(E),z=e("./shapes/rectangle"),q=i(z),W=e("./shapes/text"),R=i(W),D=e("./mixins"),H=function(){function e(t){a(this,e);var r=o["default"].defaults(t||{},{width:640,height:480,debug:!1,frameRate:60});this.width=r.width,this.height=r.height,this.renderer=new S["default"](r),this.stage=new p["default"],this.debug=r.debug,this.frameCount=1,this.frameRate=r.frameRate,r.container&&(o["default"].isString(r.container)&&(r.container=document.querySelector(r.container)),r.container?this.appendTo(r.container):console.error("Container element not found")),this.initEvents()}return s(e,[{key:"initEvents",value:function(){this.initMouseMove()}},{key:"initMouseMove",value:function(){var e=o["default"].bind(function(e){var t=this.renderer.el.getBoundingClientRect();this.trigger("mousemove",{x:e.pageX-t.left,y:e.pageY-t.top})},this);document.addEventListener("mousemove",e,!1)}},{key:"group",value:function t(e,r,n){var t=new p["default"](e,r);return k["default"].groupLogic(t,this.stage,n),t}},{key:"triangle",value:function(e,t,r,n,i,a,s){var u=new L["default"](e,t,r,n,i,a);return k["default"].groupLogic(u,this.stage,s),u}},{key:"rect",value:function r(e,t,n,i,a){var r=new q["default"](e,t,n,i);return k["default"].groupLogic(r,this.stage,a),r}},{key:"ellipse",value:function(e,t,r,n,i){var a=new T["default"](e,t,r,n);return k["default"].groupLogic(a,this.stage,i),a}},{key:"circle",value:function(e,t,r,n){var i=new V["default"](e,t,r);return k["default"].groupLogic(i,this.stage,n),i}},{key:"line",value:function n(e,t,r,i,a){var n=new j["default"](e,t,r,i);return k["default"].groupLogic(n,this.stage,a),n}},{key:"polygon",value:function(e,t,r){var n=new U["default"](e,t);return k["default"].groupLogic(n,this.stage,r),n}},{key:"path",value:function i(e,t,r){var i=new O["default"](e,t);return k["default"].groupLogic(i,this.stage,r),i}},{key:"text",value:function u(u,e,t,r){var u=new R["default"](u,e,t);return k["default"].groupLogic(u,this.stage,r),u}},{key:"grid",value:function l(e,t){var l=new b["default"](e);return k["default"].groupLogic(l,this.stage,t),l}},{key:"play",value:function(){this.frameRate>=60?this.playNow():setTimeout(o["default"].bind(this.playNow,this),1e3/this.frameRate)}},{key:"playNow",value:function(){this.trigger("draw",{frameCount:this.frameCount}),this.animationFrame=requestAnimationFrame(o["default"].bind(this.play,this)),this.draw()}},{key:"pause",value:function(){cancelAnimationFrame(this.animationFrame)}},{key:"getEl",value:function(){return this.renderer.el}},{key:"appendTo",value:function(e){return e.appendChild(this.renderer.el),this}},{key:"draw",value:function(){this.renderer.render(this.stage,{debug:this.debug}),this.frameCount+=1}}]),e}();o["default"].extend(H,k["default"]),o["default"].extend(H.prototype,w["default"]),H.Vector=h["default"],H.Anchor=c["default"],H.Color=d["default"],H.Group=p["default"],H.Grid=b["default"],H.Circle=V["default"],H.Ellipse=T["default"],H.Line=j["default"],H.Triangle=L["default"],H.Path=O["default"],H.Polygon=U["default"],H.Rectangle=q["default"],H.Text=R["default"],H.Moveable=D.Moveable,H.Styleable=D.Styleable,H.Sizeable=D.Sizeable,H.Groupable=D.Groupable,n.Rune=H,r["default"]=H,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./anchor":1,"./color":2,"./events":3,"./grid":4,"./group":5,"./mixins":6,"./render":7,"./shapes/circle":9,"./shapes/ellipse":10,"./shapes/line":11,"./shapes/path":12,"./shapes/polygon":13,"./shapes/rectangle":14,"./shapes/text":15,"./shapes/triangle":16,"./utils":17,"./vector":18,underscore:void 0}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("../mixins"),l=e("./ellipse"),h=n(l),v=e("../utils"),c=n(v),f=function(){function e(t,r,n){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.radius=n}return a(e,[{key:"toPolygon",value:function(e,t){var r=new h["default"](this.vars.x,this.vars.y,2*this.vars.radius,2*this.vars.radius),n=r.toPolygon(e,!1);return c["default"].copyMixinVars(this,n),c["default"].groupLogic(n,this.parent,t),n}},{key:"copy",value:function t(r){var t=new e;return t.vars.radius=this.vars.radius,c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,r),t}}]),e}();u["default"].extend(f.prototype,o.Moveable,o.Styleable,o.Groupable,{type:"circle"}),r["default"]=f,t.exports=r["default"]},{"../mixins":6,"../utils":17,"./ellipse":10,underscore:void 0}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("../mixins"),l=e("./polygon"),h=n(l),v=e("../utils"),c=n(v),f=function(){function e(t,r,n,a){i(this,e),this.moveable(),this.sizeable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.width=n,this.vars.height=a}return a(e,[{key:"toPolygon",value:function(e,t){var r=16;if(e&&e.spacing){var n=Math.PI*(this.vars.width+this.vars.height);r=n/e.spacing}for(var i=360/r,a=new h["default"](this.vars.x,this.vars.y),s=0;r>s;s++){var u=Math.cos(c["default"].radians(s*i))*this.vars.width,o=Math.sin(c["default"].radians(s*i))*this.vars.height;a.lineTo(u,o)}return c["default"].copyMixinVars(this,a),c["default"].groupLogic(a,this.parent,t),a}},{key:"copy",value:function t(r){var t=new e;return c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,r),t}}]),e}();u["default"].extend(f.prototype,o.Moveable,o.Sizeable,o.Styleable,o.Groupable,{type:"ellipse"}),r["default"]=f,t.exports=r["default"]},{"../mixins":6,"../utils":17,"./polygon":13,underscore:void 0}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);
}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("../mixins"),l=e("../utils"),h=n(l),v=function(){function e(t,r,n,a){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.x2=n,this.vars.y2=a}return a(e,[{key:"copy",value:function t(r){var t=new e;return t.vars.x2=this.vars.x2,t.vars.y2=this.vars.y2,h["default"].copyMixinVars(this,t),h["default"].groupLogic(t,this.parent,r),t}}]),e}();u["default"].extend(v.prototype,o.Moveable,o.Styleable,o.Groupable,{type:"line"}),r["default"]=v,t.exports=r["default"]},{"../mixins":6,"../utils":17,underscore:void 0}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("../mixins"),l=e("../anchor"),h=n(l),v=e("../vector"),c=n(v),f=e("./polygon"),d=n(f),y=e("../utils"),p=n(y),g=function(){function e(t,r){i(this,e),this.moveable(),this.styleable(),this.vars.anchors=[],u["default"].isUndefined(t)||(this.vars.x=t),u["default"].isUndefined(r)||(this.vars.y=r)}return a(e,[{key:"moveTo",value:function(e,t){return this.vars.anchors.push((new h["default"]).setMove(e,t)),this}},{key:"lineTo",value:function(e,t){return this.checkStartMove(),this.vars.anchors.push((new h["default"]).setLine(e,t)),this}},{key:"curveTo",value:function(e,t,r,n,i,a){return this.checkStartMove(),this.vars.anchors.push((new h["default"]).setCurve(e,t,r,n,i,a)),this}},{key:"closePath",value:function(){return this.checkStartMove(),this.vars.anchors.push((new h["default"]).setClose()),this}},{key:"startVector",value:function(){return this.vars.anchors[0]&&"move"==this.vars.anchors[0].command?this.vars.anchors[0].vec1.copy():new c["default"](0,0)}},{key:"subpaths",value:function(e){var t=[],r=0;return u["default"].each(this.vars.anchors,function(n,i){var a="move"==n.command,s=this.vars.anchors[i-1]&&"close"==this.vars.anchors[i-1].command,u=i==this.vars.anchors.length-1;if(i>r&&(a||s||u)){u&&i++;var o=this.copy(e);o.vars.anchors=o.vars.anchors.slice(r,i),t.push(o),r=i}},this),t}},{key:"length",value:function(){for(var e=0,t=this.subpaths(!1),r=0;r<t.length;r++)for(var n=t[r].vars.anchors,i=0;i<n.length-1;i++){var a=n[i],s=a.vec3||a.vec2||a.vec1,u=n[i+1];"close"==u.command&&(u=t[r].startVector());var o=u.sub(s);e+=o.length()}return e}},{key:"vectorAtLength",value:function(e){for(var t=0,r=this.subpaths(!1),n=0;n<r.length;n++)for(var i=r[n].vars.anchors,a=0;a<i.length-1;a++){var s=i[a],u=s.vec3||s.vec2||s.vec1,o=i[a+1];if("close"==o.command){var l=r[n].startVector();o=(new h["default"]).setLine(l.x,l.y)}var v=o.sub(u),c=v.length();if(t+c>e){var f=e-t;return u.add(v.vectorAt(f/c))}t+=c}return this.startVector()}},{key:"vectorAt",value:function(e){return this.vectorAtLength(this.length()*e)}},{key:"toPolygons",value:function(e,t){var r=this.subpaths(!1),n=[];return e&&e.spacing&&u["default"].each(r,function(r){for(var i=new d["default"](r.vars.x,r.vars.y),a=r.length(),s=a/e.spacing,u=0;s>u;u++){var o=r.vectorAtLength(u*e.spacing);i.lineTo(o.x,o.y)}p["default"].copyMixinVars(this,i),p["default"].groupLogic(i,this.parent,t),n.push(i)},this),n}},{key:"copy",value:function t(r){var t=new e;return t.vars.anchors=u["default"].map(this.vars.anchors,function(e){return e.copy()}),p["default"].copyMixinVars(this,t),p["default"].groupLogic(t,this.parent,r),t}},{key:"fillRule",value:function(e){return this.vars.fillRule=e,this}},{key:"checkStartMove",value:function(){0==this.vars.anchors.length&&this.moveTo(0,0)}}]),e}();u["default"].extend(g.prototype,o.Moveable,o.Styleable,o.Groupable,{type:"path"}),r["default"]=g,t.exports=r["default"]},{"../anchor":1,"../mixins":6,"../utils":17,"../vector":18,"./polygon":13,underscore:void 0}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("../mixins"),l=e("../vector"),h=n(l),v=e("../utils"),c=n(v),f=function(){function e(t,r){i(this,e),this.moveable(),this.styleable(),this.vars.vectors=[],u["default"].isUndefined(t)||(this.vars.x=t),u["default"].isUndefined(r)||(this.vars.y=r)}return a(e,[{key:"lineTo",value:function(e,t){return this.vars.vectors.push(new h["default"](e,t)),this}},{key:"length",value:function(){for(var e=0,t=0;t<this.vars.vectors.length;t++){var r=this.vars.vectors[t],n=this.vars.vectors[(t+1)%this.vars.vectors.length];e+=n.sub(r).length()}return e}},{key:"vectorAtLength",value:function(e){for(var t=0,r=0;r<this.vars.vectors.length;r++){var n=this.vars.vectors[r],i=this.vars.vectors[(r+1)%this.vars.vectors.length],a=i.sub(n),s=a.length();if(t+s>e){var o=e-t;return n.add(a.normalize().multiply(o))}t+=s}return u["default"].first(this.vars.vectors).copy()}},{key:"vectorAt",value:function(e){return this.vectorAtLength(this.length()*e)}},{key:"bounds",value:function(){var e=void 0,t=void 0,r=void 0,n=void 0;return u["default"].each(this.vars.vectors,function(i){(u["default"].isUndefined(r)||i.x<r)&&(r=i.x),(u["default"].isUndefined(e)||i.x>e)&&(e=i.x),(u["default"].isUndefined(n)||i.y<n)&&(n=i.y),(u["default"].isUndefined(t)||i.y>t)&&(t=i.y)}),{x:r,y:n,width:e-r,height:t-n}}},{key:"centroid",value:function(){for(var e=this.vars.vectors,t=0,r=0,n=0,i=0;i<e.length-1;i++)t+=e[i].x*e[i+1].y-e[i+1].x*e[i].y,r+=(e[i].x+e[i+1].x)*(e[i].x*e[i+1].y-e[i+1].x*e[i].y),n+=(e[i].y+e[i+1].y)*(e[i].x*e[i+1].y-e[i+1].x*e[i].y);t/=2;var a=r/(6*t),s=n/(6*t);return new h["default"](a,s)}},{key:"toPolygon",value:function(t,r){if(t&&t.spacing){for(var n=new e(this.vars.x,this.vars.y),i=this.length(),a=i/t.spacing,s=0;a>s;s++){var u=this.vectorAtLength(s*t.spacing);n.lineTo(u.x,u.y)}return c["default"].copyMixinVars(this,n),c["default"].groupLogic(n,this.parent,r),n}return this}},{key:"copy",value:function t(r){var t=new e;return t.vars.vectors=u["default"].map(this.vars.vectors,function(e){return e.copy()}),c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,r),t}}]),e}();u["default"].extend(f.prototype,o.Moveable,o.Styleable,o.Groupable,{type:"polygon"}),r["default"]=f,t.exports=r["default"]},{"../mixins":6,"../utils":17,"../vector":18,underscore:void 0}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("../mixins"),l=e("./polygon"),h=n(l),v=e("../utils"),c=n(v),f=function(){function e(t,r,n,a){i(this,e),this.moveable(),this.sizeable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.width=n,this.vars.height=a}return a(e,[{key:"toPolygon",value:function(e,t){var r=new h["default"](this.vars.x,this.vars.y).lineTo(0,0).lineTo(this.vars.width,0).lineTo(this.vars.width,this.vars.height).lineTo(0,this.vars.height);return e&&(r=r.toPolygon(e,!1)),c["default"].copyMixinVars(this,r),c["default"].groupLogic(r,this.parent,t),r}},{key:"copy",value:function t(r){var t=new e;return c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,r),t}}]),e}();u["default"].extend(f.prototype,o.Moveable,o.Sizeable,o.Styleable,o.Groupable,{type:"rectangle"}),r["default"]=f,t.exports=r["default"]},{"../mixins":6,"../utils":17,"./polygon":13,underscore:void 0}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("../mixins"),l=e("../utils"),h=n(l),v=function(){function e(t,r,n){i(this,e),this.moveable(),this.styleable(),this.vars.text=t,this.vars.x=r,this.vars.y=n}return a(e,[{key:"toPolygon",value:function(){throw new Error("You need the Rune.Font plugin to convert text to polygon")}},{key:"textAlign",value:function(e){return this.vars.textAlign=e,this}},{key:"fontFamily",value:function(e){return this.vars.fontFamily=e,this}},{key:"fontStyle",value:function(e){return this.vars.fontStyle=e,this}},{key:"fontWeight",value:function(e){return this.vars.fontWeight=e,this}},{key:"fontSize",value:function(e){return this.vars.fontSize=e,this}},{key:"letterSpacing",value:function(e){return this.vars.letterSpacing=e,this}},{key:"textDecoration",value:function(e){return this.vars.textDecoration=e,this}},{key:"copy",value:function t(r){var t=new e;return t.vars.text=this.vars.text,h["default"].copyMixinVars(this,t),h["default"].groupLogic(t,this.parent,r),t}}]),e}();u["default"].extend(v.prototype,o.Moveable,o.Styleable,o.Groupable,{type:"text"}),r["default"]=v,t.exports=r["default"]},{"../mixins":6,"../utils":17,underscore:void 0}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=n(s),o=e("../mixins"),l=e("../utils"),h=n(l),v=function(){function e(t,r,n,a,s,u){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.x2=n,this.vars.y2=a,this.vars.x3=s,this.vars.y3=u}return a(e,[{key:"copy",value:function t(r){var t=new e;return t.vars.x2=this.vars.x2,t.vars.y2=this.vars.y2,t.vars.x3=this.vars.x3,t.vars.y3=this.vars.y3,h["default"].copyMixinVars(this,t),h["default"].groupLogic(t,this.parent,r),t}}]),e}();u["default"].extend(v.prototype,o.Moveable,o.Styleable,o.Groupable,{type:"triangle"}),r["default"]=v,t.exports=r["default"]},{"../mixins":6,"../utils":17,underscore:void 0}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("underscore"),a=n(i),s={random:function(e,t){return a["default"].isUndefined(t)&&(t=e,e=0),e+Math.random()*(t-e)},degrees:function(e){return e*(180/Math.PI)},radians:function(e){return e*(Math.PI/180)},groupLogic:function(e,t,r){r&&"group"==r.type?r.add(e):r!==!1&&t&&"group"==t.type&&t.add(e)},copyMixinVars:function(e,t){e.moveable&&t.moveable&&t.moveable(e),e.sizeable&&t.sizeable&&t.sizeable(e),e.styleable&&t.styleable&&t.styleable(e)}};r["default"]=s,t.exports=r["default"]},{underscore:void 0}],18:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("underscore"),u=(n(s),e("./utils")),o=n(u),l=function(){function e(t,r){i(this,e),this.x=t||0,this.y=r||0}return a(e,[{key:"set",value:function(e,t){this.x=e,this.y=t}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(t){return new e(this.x*t,this.y*t)}},{key:"divide",value:function(t){var r=new e(0,0);return t&&(r.x=this.x/t,r.y=this.y/t),r}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r}},{key:"lerp",value:function(t,r){var n=(t.x-this.x)*r+this.x,i=(t.y-this.y)*r+this.y;return new e(n,i)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"length",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",value:function(){return this.divide(this.length())}},{key:"rotation",value:function(){return o["default"].degrees(Math.atan2(this.y,this.x))}},{key:"rotate",value:function(t){var r=o["default"].radians(this.rotation()+t),n=this.length(),i=Math.cos(r)*n,a=Math.sin(r)*n;return new e(i,a)}},{key:"copy",value:function(){return new e(this.x,this.y)}},{key:"toString",value:function(){return"(x: "+this.x+", y: "+this.y+")"}}]),e}();r["default"]=l,t.exports=r["default"]},{"./utils":17,underscore:void 0}]},{},[8]);