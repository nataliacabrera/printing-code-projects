{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/bezier-js/lib/bezier.js","node_modules/bezier-js/lib/index.js","node_modules/browserify/node_modules/browser-resolve/empty.js","node_modules/color-convert/conversions.js","node_modules/color-convert/index.js","node_modules/color-string/color-string.js","node_modules/color-string/node_modules/color-name/index.json","node_modules/underscore/underscore.js","node_modules/virtual-dom/create-element.js","node_modules/virtual-dom/diff.js","node_modules/virtual-dom/h.js","node_modules/virtual-dom/node_modules/browser-split/index.js","node_modules/virtual-dom/node_modules/ev-store/index.js","node_modules/virtual-dom/node_modules/ev-store/node_modules/individual/index.js","node_modules/virtual-dom/node_modules/ev-store/node_modules/individual/one-version.js","node_modules/virtual-dom/node_modules/global/document.js","node_modules/virtual-dom/node_modules/is-object/index.js","node_modules/virtual-dom/node_modules/x-is-array/index.js","node_modules/virtual-dom/patch.js","node_modules/virtual-dom/vdom/apply-properties.js","node_modules/virtual-dom/vdom/create-element.js","node_modules/virtual-dom/vdom/dom-index.js","node_modules/virtual-dom/vdom/patch-op.js","node_modules/virtual-dom/vdom/patch.js","node_modules/virtual-dom/vdom/update-widget.js","node_modules/virtual-dom/virtual-hyperscript/hooks/attribute-hook.js","node_modules/virtual-dom/virtual-hyperscript/hooks/ev-hook.js","node_modules/virtual-dom/virtual-hyperscript/hooks/soft-set-hook.js","node_modules/virtual-dom/virtual-hyperscript/index.js","node_modules/virtual-dom/virtual-hyperscript/parse-tag.js","node_modules/virtual-dom/virtual-hyperscript/svg-attribute-namespace.js","node_modules/virtual-dom/virtual-hyperscript/svg.js","node_modules/virtual-dom/vnode/handle-thunk.js","node_modules/virtual-dom/vnode/is-thunk.js","node_modules/virtual-dom/vnode/is-vhook.js","node_modules/virtual-dom/vnode/is-vnode.js","node_modules/virtual-dom/vnode/is-vtext.js","node_modules/virtual-dom/vnode/is-widget.js","node_modules/virtual-dom/vnode/version.js","node_modules/virtual-dom/vnode/vnode.js","node_modules/virtual-dom/vnode/vpatch.js","node_modules/virtual-dom/vnode/vtext.js","node_modules/virtual-dom/vtree/diff-props.js","node_modules/virtual-dom/vtree/diff.js","src/anchor.js","src/color.js","src/events.js","src/grid.js","src/group.js","src/mixins.js","src/render.js","src/rune.js","src/shapes/circle.js","src/shapes/ellipse.js","src/shapes/line.js","src/shapes/path.js","src/shapes/polygon.js","src/shapes/rectangle.js","src/shapes/text.js","src/shapes/triangle.js","src/utils.js","src/vector.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnoCA;;ACAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1rBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5gDA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;0BC3ac,YAAY;;;;wBACP,WAAW;;;;sBACX,UAAU;;;;IAEvB,MAAM;WAAN,MAAM;0BAAN,MAAM;;;eAAN,MAAM;;WAEP,aAAC,GAAG,EAAE;AACP,UAAI,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;AACpB,UAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACpC,UAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACpC,UAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAA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","file":"rune.browser.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n\n  This code is MIT licensed.\n**/\n(function() {\n  \"use strict\";\n\n  // Math functions. I hate the Math namespace with a passion.\n  var abs = Math.abs,\n      min = Math.min,\n      max = Math.max,\n      cos = Math.cos,\n      sin = Math.sin,\n      acos = Math.acos,\n      asin = Math.asin,\n      atan2 = Math.atan2,\n      sqrt = Math.sqrt,\n      // cube root function yielding real roots\n      crt = function(v) { if(v<0) return -Math.pow(-v,1/3); return Math.pow(v,1/3); },\n      pi = Math.PI,\n      tau = 2*pi,\n      quart = pi/2;\n\n  // a zero coordinate, which is surprisingly useful\n  var ZERO = {x:0,y:0,z:0};\n\n  // Bezier utility functions\n  var utils = {\n    // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n    Tvalues: [\n      -0.0640568928626056260850430826247450385909,\n       0.0640568928626056260850430826247450385909,\n      -0.1911188674736163091586398207570696318404,\n       0.1911188674736163091586398207570696318404,\n      -0.3150426796961633743867932913198102407864,\n       0.3150426796961633743867932913198102407864,\n      -0.4337935076260451384870842319133497124524,\n       0.4337935076260451384870842319133497124524,\n      -0.5454214713888395356583756172183723700107,\n       0.5454214713888395356583756172183723700107,\n      -0.6480936519369755692524957869107476266696,\n       0.6480936519369755692524957869107476266696,\n      -0.7401241915785543642438281030999784255232,\n       0.7401241915785543642438281030999784255232,\n      -0.8200019859739029219539498726697452080761,\n       0.8200019859739029219539498726697452080761,\n      -0.8864155270044010342131543419821967550873,\n       0.8864155270044010342131543419821967550873,\n      -0.9382745520027327585236490017087214496548,\n       0.9382745520027327585236490017087214496548,\n      -0.9747285559713094981983919930081690617411,\n       0.9747285559713094981983919930081690617411,\n      -0.9951872199970213601799974097007368118745,\n       0.9951872199970213601799974097007368118745\n    ],\n\n    // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n    Cvalues: [\n      0.1279381953467521569740561652246953718517,\n      0.1279381953467521569740561652246953718517,\n      0.1258374563468282961213753825111836887264,\n      0.1258374563468282961213753825111836887264,\n      0.1216704729278033912044631534762624256070,\n      0.1216704729278033912044631534762624256070,\n      0.1155056680537256013533444839067835598622,\n      0.1155056680537256013533444839067835598622,\n      0.1074442701159656347825773424466062227946,\n      0.1074442701159656347825773424466062227946,\n      0.0976186521041138882698806644642471544279,\n      0.0976186521041138882698806644642471544279,\n      0.0861901615319532759171852029837426671850,\n      0.0861901615319532759171852029837426671850,\n      0.0733464814110803057340336152531165181193,\n      0.0733464814110803057340336152531165181193,\n      0.0592985849154367807463677585001085845412,\n      0.0592985849154367807463677585001085845412,\n      0.0442774388174198061686027482113382288593,\n      0.0442774388174198061686027482113382288593,\n      0.0285313886289336631813078159518782864491,\n      0.0285313886289336631813078159518782864491,\n      0.0123412297999871995468056670700372915759,\n      0.0123412297999871995468056670700372915759\n    ],\n    arcfn: function(t, derivativeFn) {\n      var d = derivativeFn(t);\n      var l = d.x*d.x + d.y*d.y;\n      if(typeof d.z !== \"undefined\") {\n        l += d.z*d.z;\n      }\n      return sqrt(l);\n    },\n    length: function(derivativeFn) {\n      var z=0.5,sum=0,len=this.Tvalues.length,i,t;\n      for(i=0; i<len; i++) {\n        t = z * this.Tvalues[i] + z;\n        sum += this.Cvalues[i] * this.arcfn(t,derivativeFn);\n      }\n      return z * sum;\n    },\n    map: function(v, ds,de, ts,te) {\n      var d1 = de-ds, d2 = te-ts, v2 =  v-ds, r = v2/d1;\n      return ts + d2*r;\n    },\n    lerp: function(r, v1, v2) {\n      var ret = {\n        x: v1.x + r*(v2.x-v1.x),\n        y: v1.y + r*(v2.y-v1.y)\n      };\n      if(!!v1.z && !!v2.z) {\n        ret.z =  v1.z + r*(v2.z-v1.z);\n      }\n      return ret;\n    },\n    pointToString: function(p) {\n      var s = p.x+\"/\"+p.y;\n      if(typeof p.z !== \"undefined\") {\n        s += \"/\"+p.z;\n      }\n      return s;\n    },\n    pointsToString: function(points) {\n      return \"[\" + points.map(this.pointToString).join(\", \") + \"]\";\n    },\n    copy: function(obj) {\n      return JSON.parse(JSON.stringify(obj));\n    },\n    angle: function(o,v1,v2) {\n      var dx1 = v1.x - o.x,\n          dy1 = v1.y - o.y,\n          dx2 = v2.x - o.x,\n          dy2 = v2.y - o.y,\n          cross = dx1*dy2 - dy1*dx2,\n          m1 = sqrt(dx1*dx1+dy1*dy1),\n          m2 = sqrt(dx2*dx2+dy2*dy2),\n          dot;\n      dx1/=m1; dy1/=m1; dx2/=m2; dy2/=m2;\n      dot = dx1*dx2 + dy1*dy2;\n      return atan2(cross, dot);\n    },\n    dist: function(p1, p2) {\n      var dx = p1.x - p2.x,\n          dy = p1.y - p2.y;\n      return sqrt(dx*dx+dy*dy);\n    },\n    lli8: function(x1,y1,x2,y2,x3,y3,x4,y4) {\n      var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),\n          ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),\n          d=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);\n      if(d==0) { return false; }\n      return { x: nx/d, y: ny/d };\n    },\n    lli4: function(p1,p2,p3,p4) {\n      var x1 = p1.x, y1 = p1.y,\n          x2 = p2.x, y2 = p2.y,\n          x3 = p3.x, y3 = p3.y,\n          x4 = p4.x, y4 = p4.y;\n      return this.lli8(x1,y1,x2,y2,x3,y3,x4,y4);\n    },\n    lli: function(v1, v2) {\n      return this.lli4(v1,v1.c,v2,v2.c);\n    },\n    makeline: function(p1,p2) {\n      var x1 = p1.x, y1 = p1.y, x2 = p2.x, y2 = p2.y, dx = (x2-x1)/3, dy = (y2-y1)/3;\n      return new Bezier(x1, y1, x1+dx, y1+dy, x1+2*dx, y1+2*dy, x2, y2);\n    },\n    findbbox: function(sections) {\n      var mx=99999999,my=mx,MX=-mx,MY=MX;\n      sections.forEach(function(s) {\n        var bbox = s.bbox();\n        if(mx > bbox.x.min) mx = bbox.x.min;\n        if(my > bbox.y.min) my = bbox.y.min;\n        if(MX < bbox.x.max) MX = bbox.x.max;\n        if(MY < bbox.y.max) MY = bbox.y.max;\n      });\n      return {\n        x: { min: mx, mid:(mx+MX)/2, max: MX, size:MX-mx },\n        y: { min: my, mid:(my+MY)/2, max: MY, size:MY-my }\n      }\n    },\n    shapeintersections: function(s1, bbox1, s2, bbox2) {\n      if(!this.bboxoverlap(bbox1, bbox2)) return [];\n      var intersections = [];\n      var a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n      var a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n      a1.forEach(function(l1) {\n        if(l1.virtual) return;\n        a2.forEach(function(l2) {\n          if(l2.virtual) return;\n          var iss = l1.intersects(l2);\n          if(iss.length>0) {\n            iss.c1 = l1;\n            iss.c2 = l2;\n            iss.s1 = s1;\n            iss.s2 = s2;\n            intersections.push(iss);\n          }\n        });\n      });\n      return intersections;\n    },\n    makeshape: function(forward, back) {\n      var bpl = back.points.length;\n      var fpl = forward.points.length;\n      var start  = this.makeline(back.points[bpl-1], forward.points[0]);\n      var end    = this.makeline(forward.points[fpl-1], back.points[0]);\n      var shape  = {\n        startcap: start,\n        forward: forward,\n        back: back,\n        endcap: end,\n        bbox: this.findbbox([start, forward, back, end])\n      };\n      var self = this;\n      shape.intersections = function(s2) {\n        return self.shapeintersections(shape,shape.bbox,s2,s2.bbox);\n      };\n      return shape;\n    },\n    getminmax: function(curve, d, list) {\n      if(!list) return { min:0, max:0 };\n      var min=0xFFFFFFFFFFFFFFFF, max=-min,t,c;\n      if(list.indexOf(0)===-1) { list = [0].concat(list); }\n      if(list.indexOf(1)===-1) { list.push(1); }\n      for(var i=0,len=list.length; i<len; i++) {\n        t = list[i];\n        c = curve.get(t);\n        if(c[d] < min) { min = c[d]; }\n        if(c[d] > max) { max = c[d]; }\n      }\n      return { min:min, mid:(min+max)/2, max:max, size:max-min };\n    },\n    align: function(points, line) {\n      var tx = line.p1.x,\n          ty = line.p1.y,\n          a = -atan2(line.p2.y-ty, line.p2.x-tx),\n          d = function(v) {\n            return {\n              x: (v.x-tx)*cos(a) - (v.y-ty)*sin(a),\n              y: (v.x-tx)*sin(a) + (v.y-ty)*cos(a)\n            };\n          };\n      return points.map(d);\n    },\n    roots: function(points, line) {\n      line = line || {p1:{x:0,y:0},p2:{x:1,y:0}};\n      var order = points.length - 1;\n      var p = this.align(points, line);\n      var reduce = function(t) { return 0<=t && t <=1; };\n\n      if (order === 2) {\n        var a = p[0].y,\n            b = p[1].y,\n            c = p[2].y,\n            d = a - 2*b + c;\n        if(d!==0) {\n          var m1 = -sqrt(b*b-a*c),\n              m2 = -a+b,\n              v1 = -( m1+m2)/d,\n              v2 = -(-m1+m2)/d;\n          return [v1, v2].filter(reduce);\n        }\n        else if(b!==c && d===0) {\n          return [ (2*b-c)/2*(b-c) ].filter(reduce);\n        }\n        return [];\n      }\n\n      // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n      var pa = p[0].y,\n          pb = p[1].y,\n          pc = p[2].y,\n          pd = p[3].y,\n          d = (-pa + 3*pb - 3*pc + pd),\n          a = (3*pa - 6*pb + 3*pc) / d,\n          b = (-3*pa + 3*pb) / d,\n          c = pa / d,\n          p = (3*b - a*a)/3,\n          p3 = p/3,\n          q = (2*a*a*a - 9*a*b + 27*c)/27,\n          q2 = q/2,\n          discriminant = q2*q2 + p3*p3*p3,\n          u1,v1,x1,x2,x3;\n       if (discriminant < 0) {\n        var mp3 = -p/3,\n            mp33 = mp3*mp3*mp3,\n            r = sqrt( mp33 ),\n            t = -q/(2*r),\n            cosphi = t<-1 ? -1 : t>1 ? 1 : t,\n            phi = acos(cosphi),\n            crtr = crt(r),\n            t1 = 2*crtr;\n        x1 = t1 * cos(phi/3) - a/3;\n        x2 = t1 * cos((phi+tau)/3) - a/3;\n        x3 = t1 * cos((phi+2*tau)/3) - a/3;\n        return [x1, x2, x3].filter(reduce);\n      } else if(discriminant === 0) {\n        u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n        x1 = 2*u1-a/3;\n        x2 = -u1 - a/3;\n        return [x1,x2].filter(reduce);\n      } else {\n        var sd = sqrt(discriminant);\n        u1 = crt(-q2+sd);\n        v1 = crt(q2+sd);\n        return [u1-v1-a/3].filter(reduce);;\n      }\n    },\n    droots: function(p) {\n      // quadratic roots are easy\n      if(p.length === 3) {\n        var a = p[0],\n            b = p[1],\n            c = p[2],\n            d = a - 2*b + c;\n        if(d!==0) {\n          var m1 = -sqrt(b*b-a*c),\n              m2 = -a+b,\n              v1 = -( m1+m2)/d,\n              v2 = -(-m1+m2)/d;\n          return [v1, v2];\n        }\n        else if(b!==c && d===0) {\n          return [ (2*b-c)/(2*(b-c)) ];\n        }\n        return [];\n      }\n\n      // linear roots are even easier\n      if(p.length === 2) {\n        var a = p[0], b = p[1];\n        if(a!==b) { return [a/(a-b)]; }\n        return [];\n      }\n    },\n    bboxoverlap: function(b1,b2) {\n      var dims=['x','y'],len=dims.length,i,dim,l,t,d\n      for(i=0; i<len; i++) {\n        dim = dims[i];\n        l = b1[dim].mid;\n        t = b2[dim].mid;\n        d = (b1[dim].size + b2[dim].size)/2;\n        if(abs(l-t) >= d) return false;\n      }\n      return true;\n    },\n    expandbox: function(bbox, _bbox) {\n      if(_bbox.x.min < bbox.x.min) { bbox.x.min = _bbox.x.min; }\n      if(_bbox.y.min < bbox.y.min) { bbox.y.min = _bbox.y.min; }\n      if(_bbox.z && _bbox.z.min < bbox.z.min) { bbox.z.min = _bbox.z.min; }\n      if(_bbox.x.max > bbox.x.max) { bbox.x.max = _bbox.x.max; }\n      if(_bbox.y.max > bbox.y.max) { bbox.y.max = _bbox.y.max; }\n      if(_bbox.z && _bbox.z.max > bbox.z.max) { bbox.z.max = _bbox.z.max; }\n      bbox.x.mid = (bbox.x.min + bbox.x.max)/2;\n      bbox.y.mid = (bbox.y.min + bbox.y.max)/2;\n      if(bbox.z) { bbox.z.mid = (bbox.z.min + bbox.z.max)/2; }\n      bbox.x.size = bbox.x.max - bbox.x.min;\n      bbox.y.size = bbox.y.max - bbox.y.min;\n      if(bbox.z) { bbox.z.size = bbox.z.max - bbox.z.min; }\n    },\n    pairiteration: function(c1,c2) {\n      var c1b = c1.bbox(),\n          c2b = c2.bbox(),\n          r = 100000,\n          threshold = 0.5;\n      if(c1b.x.size + c1b.y.size < threshold && c2b.x.size + c2b.y.size < threshold) {\n        return [ ((r * (c1._t1+c1._t2)/2)|0)/r + \"/\" + ((r * (c2._t1+c2._t2)/2)|0)/r ];\n      }\n      var cc1 = c1.split(0.5),\n          cc2 = c2.split(0.5),\n          pairs = [\n            {left: cc1.left, right: cc2.left },\n            {left: cc1.left, right: cc2.right },\n            {left: cc1.right, right: cc2.right },\n            {left: cc1.right, right: cc2.left }];\n      pairs = pairs.filter(function(pair) {\n        return utils.bboxoverlap(pair.left.bbox(),pair.right.bbox());\n      });\n      var results = [];\n      if(pairs.length === 0) return results;\n      pairs.forEach(function(pair) {\n        results = results.concat(\n          utils.pairiteration(pair.left, pair.right)\n        );\n      })\n      results = results.filter(function(v,i) {\n        return results.indexOf(v) === i;\n      });\n      return results;\n    },\n    getccenter: function(p1,p2,p3) {\n      var dx1 = (p2.x - p1.x),\n          dy1 = (p2.y - p1.y),\n          dx2 = (p3.x - p2.x),\n          dy2 = (p3.y - p2.y);\n      var dx1p = dx1 * cos(quart) - dy1 * sin(quart),\n          dy1p = dx1 * sin(quart) + dy1 * cos(quart),\n          dx2p = dx2 * cos(quart) - dy2 * sin(quart),\n          dy2p = dx2 * sin(quart) + dy2 * cos(quart);\n      // chord midpoints\n      var mx1 = (p1.x + p2.x)/2,\n          my1 = (p1.y + p2.y)/2,\n          mx2 = (p2.x + p3.x)/2,\n          my2 = (p2.y + p3.y)/2;\n      // midpoint offsets\n      var mx1n = mx1 + dx1p,\n          my1n = my1 + dy1p,\n          mx2n = mx2 + dx2p,\n          my2n = my2 + dy2p;\n      // intersection of these lines:\n      var arc = utils.lli8(mx1,my1,mx1n,my1n, mx2,my2,mx2n,my2n),\n          r = utils.dist(arc,p1),\n          // arc start/end values, over mid point:\n          s = atan2(p1.y - arc.y, p1.x - arc.x),\n          m = atan2(p2.y - arc.y, p2.x - arc.x),\n          e = atan2(p3.y - arc.y, p3.x - arc.x),\n          _;\n      // determine arc direction (cw/ccw correction)\n      if (s<e) {\n        // if s<m<e, arc(s, e)\n        // if m<s<e, arc(e, s + tau)\n        // if s<e<m, arc(e, s + tau)\n        if (s>m || m>e) { s += tau; }\n        if (s>e) { _=e; e=s; s=_; }\n      } else {\n        // if e<m<s, arc(e, s)\n        // if m<e<s, arc(s, e + tau)\n        // if e<s<m, arc(s, e + tau)\n        if (e<m && m<s) { _=e; e=s; s=_; } else { e += tau; }\n      }\n      // assign and done.\n      arc.s = s;\n      arc.e = e;\n      arc.r = r;\n      return arc;\n    }\n  };\n\n  /**\n   * Poly Bezier\n   * @param {[type]} curves [description]\n   */\n  var PolyBezier = function(curves) {\n    this.curves = [];\n    this._3d = false;\n    if(!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  }\n\n  PolyBezier.prototype = {\n    valueOf: function() {\n      return this.toString();\n    },\n    toString: function() {\n      return utils.pointsToString(this.points);\n    },\n    addCurve: function(curve) {\n      this.curves.push(curve);\n      this._3d = this._3d || curve._3d;\n    },\n    length: function() {\n      return this.curves.map(function(v) { return v.length(); }).reduce(function(a,b) { return a+b; });\n    },\n    curve: function(idx) {\n      return this.curves[idx];\n    },\n    bbox: function() {\n      var c = this.curves;\n      var bbox = c[0].bbox();\n      for(var i=1; i<c.length; i++) {\n        utils.expandbox(bbox, c[i].bbox());\n      }\n      return bbox;\n    },\n    offset: function(d) {\n      var offset = [];\n      this.curves.forEach(function(v) {\n        offset = offset.concat(v.offset(d));\n      });\n      return new PolyBezier(offset);\n    }\n  };\n\n\n  /**\n   * Bezier curve constructor. The constructor argument can be one of three things:\n   *\n   * 1. array/4 of {x:..., y:..., z:...}, z optional\n   * 2. numerical array/8 ordered x1,y1,x2,y2,x3,y3,x4,y4\n   * 3. numerical array/12 ordered x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4\n   *\n   */\n  var Bezier = function(coords) {\n    var args = (coords && coords.forEach ? coords : arguments);\n    if(typeof args[0] === \"object\") {\n      args = [];\n      for(var i=0; i<coords.length; i++) {\n        ['x','y','z'].forEach(function(d) {\n          if(typeof coords[i][d] !== \"undefined\") {\n            args.push(coords[i][d]);\n          }\n        });\n      }\n    }\n    var len = args.length;\n    if(len!==6 && len!==8 && len!==9 && len!==12) {\n      console.log(coords);\n      throw new Error(\"This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)\");\n    }\n    var _3d = (len === 9 || len === 12);\n    this._3d = _3d;\n    var points = [];\n    for(var idx=0, step=(_3d ? 3 : 2); idx<len; idx+=step) {\n      var point = {\n        x: args[idx],\n        y: args[idx+1]\n      };\n      if(_3d) { point.z = args[idx+2] };\n      points.push(point);\n    }\n    this.order = points.length - 1;\n    this.points = points;\n    var dims = ['x','y'];\n    if(_3d) dims.push('z');\n    this.dims = dims;\n    this.dimlen = dims.length;\n    (function(curve) {\n      var a = utils.align(points, {p1:points[0], p2:points[curve.order]});\n      for(var i=0; i<a.length; i++) {\n        if(abs(a[i].y) > 0.0001) {\n          curve._linear = false;\n          return;\n        }\n      }\n      curve._linear = true;\n    }(this));\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  };\n\n  Bezier.fromSVG = function(svgString) {\n    var list = svgString.match(/[-+]?\\d*\\.?\\d+(?:[eE][-+]?\\d+)?/g).map(parseFloat);\n    var relative = /[cq]/.test(svgString);\n    if(!relative) return new Bezier(list);\n    list = list.map(function(v,i) {\n      return i < 2 ? v : v + list[i % 2];\n    });\n    return new Bezier(list);\n  };\n\n  Bezier.utils = utils;\n\n  Bezier.prototype = {\n    valueOf: function() {\n      return this.toString();\n    },\n    toString: function() {\n      return utils.pointsToString(this.points);\n    },\n    toSVG: function(relative) {\n      if(this._3d) return false;\n      var p = this.points,\n          x = p[0].x,\n          y = p[0].y,\n          s = [\"M\", x, y, (this.order===2 ? \"Q\":\"C\")];\n      for(var i=1, last=p.length; i<last; i++) {\n        s.push(p[i].x);\n        s.push(p[i].y);\n      }\n      return s.join(\" \");\n    },\n    update: function() {\n      // one-time compute derivative coordinates\n      this.dpoints = [];\n      for(var p=this.points, d=p.length, c=d-1; d>1; d--, c--) {\n        var list = [];\n        for(var j=0, dpt; j<c; j++) {\n          dpt = {\n            x: c * (p[j+1].x - p[j].x),\n            y: c * (p[j+1].y - p[j].y)\n          };\n          if(this._3d) {\n            dpt.z = c * (p[j+1].z - p[j].z);\n          }\n          list.push(dpt);\n        }\n        this.dpoints.push(list);\n        p = list;\n      };\n      this.computedirection();\n    },\n    computedirection: function() {\n      var points = this.points;\n      var angle = utils.angle(points[0], points[this.order], points[1]);\n      this.clockwise = angle > 0;\n    },\n    length: function() {\n      return utils.length(this.derivative.bind(this));\n    },\n    getLUT: function(steps) {\n      steps = steps || 100;\n      var points = [];\n      for(var t=0; t<=steps; t++) {\n        points.push(this.compute(t/steps));\n      }\n      return points;\n    },\n    get: function(t) {\n      return this.compute(t);\n    },\n    point: function(idx) {\n      return this.points[idx];\n    },\n    compute: function(t) {\n      // shortcuts\n      if(t===0) { return this.points[0]; }\n      if(t===1) { return this.points[this.order]; }\n      // plain computation\n      var mt = 1-t,\n          mt2 = mt*mt,\n          t2 = t*t,\n          a,b,c,d = 0,\n          p = this.points;\n      if(this.order===2) {\n        p = [p[0], p[1], p[2], ZERO];\n        a = mt2;\n        b = mt*t*2;\n        c = t2;\n      }\n      if(this.order===3) {\n        a = mt2*mt;\n        b = mt2*t*3;\n        c = mt*t2*3;\n        d = t*t2;\n      }\n      var ret = {\n        x: a*p[0].x + b*p[1].x + c*p[2].x + d*p[3].x,\n        y: a*p[0].y + b*p[1].y + c*p[2].y + d*p[3].y\n      };\n      if(this._3d) {\n        ret.z = a*p[0].z + b*p[1].z + c*p[2].z + d*p[3].z;\n      }\n      return ret;\n    },\n    raise: function() {\n      var p = this.points, np = [p[0]], i, k=p.length, pi, pim;\n      for (var i=1; i<k; i++) {\n        pi = p[i];\n        pim = p[i-1];\n        np[i] = {\n          x: (k-i)/k * pi.x + i/k * pim.x,\n          y: (k-i)/k * pi.y + i/k * pim.y\n        };\n      }\n      np[k] = p[k-1];\n      return new Bezier(np);\n    },\n    derivative: function(t) {\n      var mt = 1-t,\n          a,b,c=0,\n          p = this.dpoints[0];\n      if(this.order===2) { p = [p[0], p[1], ZERO]; a = mt; b = t; }\n      if(this.order===3) { a = mt*mt; b = mt*t*2; c = t*t; }\n      var ret = {\n        x: a*p[0].x + b*p[1].x + c*p[2].x,\n        y: a*p[0].y + b*p[1].y + c*p[2].y\n      };\n      if(this._3d) {\n        ret.z = a*p[0].z + b*p[1].z + c*p[2].z;\n      }\n      return ret;\n    },\n    normal: function(t) {\n      return this._3d ? this.__normal3(t) : this.__normal2(t);\n    },\n    __normal2: function(t) {\n      var d = this.derivative(t);\n      var q = sqrt(d.x*d.x + d.y*d.y)\n      return { x: -d.y/q, y: d.x/q };\n    },\n    __normal3: function() {\n      // see http://stackoverflow.com/questions/25453159\n      var r1 = this.derivative(t),\n          r2 = this.derivative(t+0.01),\n          q1 = sqrt(r1.x*r1.x + r1.y*r1.y + r1.z*r1.z),\n          q2 = sqrt(r2.x*r2.x + r2.y*r2.y + r2.z*r2.z);\n      r1.x /= q1; r1.y /= q1; r1.z /= q1;\n      r2.x /= q2; r2.y /= q2; r2.z /= q2;\n      // cross product\n      var c = {\n        x: r2.y*r1.z - r2.z*r1.y,\n        y: r2.z*r1.x - r2.x*r1.z,\n        z: r2.x*r1.y - r2.y*r1.x\n      };\n      var m = sqrt(c.x*c.x + c.y*c.y + c.z*c.z);\n      c.x /= m; c.y /= m; c.z /= m;\n      // rotation matrix\n      var R = [   c.x*c.x,   c.x*c.y-c.z, c.x*c.z+c.y,\n                c.x*c.y+c.z,   c.y*c.y,   c.y*c.z-c.x,\n                c.x*c.z-c.y, c.y*c.z+c.x,   c.z*c.z    ];\n      // normal vector:\n      var n = {\n        x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n        y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n        z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z\n      };\n      return n;\n    },\n    split: function(t1, t2) {\n      // shortcuts\n      if(t1===0 && !!t2) { return this.split(t2).left; }\n      if(t2===1) { return this.split(t1).right; }\n      // no shortcut: use \"de Casteljau\" iteration.\n      var p = this.points,\n          _p = [],\n          pt,\n          q = [],\n          idx = 0,\n          i=0,\n          l=0;\n      q[idx++] = p[0];\n      q[idx++] = p[1];\n      q[idx++] = p[2];\n      if(this.order === 3) { q[idx++] = p[3]; }\n      // we lerp between all points at each iteration, until we have 1 point left.\n      while(p.length>1) {\n        _p = [];\n        for(i=0, l=p.length-1; i<l; i++) {\n          pt = utils.lerp(t1,p[i],p[i+1]);\n          q[idx++] = pt;\n          _p.push(pt);\n        }\n        p = _p;\n      }\n      var result = {\n        left: this.order === 2 ? new Bezier([q[0],q[3],q[5]]) : new Bezier([q[0],q[4],q[7],q[9]]),\n        right: this.order === 2 ? new Bezier([q[5],q[4],q[2]]) : new Bezier([q[9],q[8],q[6],q[3]]),\n        span: q\n      };\n\n      // make sure we bind _t1/_t2 information!\n      result.left._t1  = utils.map(0,  0,1, this._t1,this._t2);\n      result.left._t2  = utils.map(t1, 0,1, this._t1,this._t2);\n      result.right._t1 = utils.map(t1, 0,1, this._t1,this._t2);\n      result.right._t2 = utils.map(1,  0,1, this._t1,this._t2);\n\n      // if we have no t2, we're done\n      if(!t2) { return result; }\n\n      // if we have a t2, split again:\n      t2 = utils.map(t2,t1,1,0,1);\n      var subsplit = result.right.split(t2);\n      return subsplit.left;\n    },\n    inflections: function() {\n      var dims = this.dims,\n          len = this.dimlen,\n          result={},\n          roots=[],\n          p, mfn;\n      dims.forEach(function(dim) {\n        mfn = function(v) { return v[dim]; };\n        p = this.dpoints[0].map(mfn);\n        result[dim] = utils.droots(p);\n        if(this.order === 3) {\n          p = this.dpoints[1].map(mfn);\n          result[dim] = result[dim].concat(utils.droots(p));\n        }\n        result[dim] = result[dim].filter(function(t) { return (t>=0 && t<=1); });\n        roots = roots.concat(result[dim].sort());\n      }.bind(this));\n      roots.sort();\n      result.values = roots;\n      return result;\n    },\n    bbox: function() {\n      var inflections = this.inflections(), result = {};\n      this.dims.forEach(function(d) {\n        result[d] = utils.getminmax(this, d, inflections[d]);\n      }.bind(this));\n      return result;\n    },\n    overlaps: function(curve) {\n      var lbbox = this.bbox(),\n          tbbox = curve.bbox();\n      return utils.bboxoverlap(lbbox,tbbox);\n    },\n    offset: function(t, d) {\n      if(typeof d !== \"undefined\") {\n        var c = this.get(t);\n        var n = this.normal(t);\n        var ret = {\n          c: c,\n          n: n,\n          x: c.x + n.x * d,\n          y: c.y + n.y * d\n        };\n        if(this._3d) {\n          ret.z = c.z + n.z * d;\n        };\n        return ret;\n      }\n      if(this._linear) {\n        var nv = this.normal(0);\n        var coords = this.points.map(function(p) {\n          var ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y\n          };\n          if(p.z && n.z) { ret.z = p.z + t * nv.z; }\n          return ret;\n        });\n        return [new Bezier(coords)];\n      }\n      var reduced = this.reduce();\n      return reduced.map(function(s) {\n        return s.scale(t);\n      });\n    },\n    simple: function() {\n      if(this.order===3) {\n        var a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n        var a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n        if(a1>0 && a2<0 || a1<0 && a2>0) return false;\n      }\n      var n1 = this.normal(0);\n      var n2 = this.normal(1);\n      var s = n1.x*n2.x + n1.y*n2.y;\n      if(this._3d) { s += n1.z*n2.z; }\n      var angle = abs(acos(s));\n      return angle < pi/3;\n    },\n    reduce: function() {\n      var i, t1=0, t2=0, step=0.01, segment, pass1=[], pass2=[];\n      // first pass: split on inflections\n      var inflections = this.inflections().values;\n      if(inflections.indexOf(0)===-1) { inflections = [0].concat(inflections); }\n      if(inflections.indexOf(1)===-1) { inflections.push(1); }\n      for(t1=inflections[0], i=1; i<inflections.length; i++) {\n        t2 = inflections[i];\n        segment = this.split(t1,t2);\n        segment._t1 = t1;\n        segment._t2 = t2;\n        pass1.push(segment);\n        t1 = t2;\n      }\n      // second pass: further reduce these segments to simple segments\n      pass1.forEach(function(p1) {\n        t1=0;\n        t2=0;\n        while(t2 <= 1) {\n          for(t2=t1+step; t2<=1+step; t2+=step) {\n            segment = p1.split(t1,t2);\n            if(!segment.simple()) {\n              t2 -= step;\n              if(abs(t1-t2)<step) {\n                // we can never form a reduction\n                return [];\n              }\n              segment = p1.split(t1,t2);\n              segment._t1 = utils.map(t1,0,1,p1._t1,p1._t2);\n              segment._t2 = utils.map(t2,0,1,p1._t1,p1._t2);\n              pass2.push(segment);\n              t1 = t2;\n              break;\n            }\n          }\n        }\n        if(t1<1) {\n          segment = p1.split(t1,1);\n          segment._t1 = utils.map(t1,0,1,p1._t1,p1._t2);\n          segment._t2 = p1._t2;\n          pass2.push(segment);\n        }\n      });\n      return pass2;\n    },\n    scale: function(d) {\n      var order = this.order;\n      var distanceFn = false\n      if(typeof d === \"function\") { distanceFn = d; }\n      if(distanceFn && order === 2) { return this.raise().scale(distanceFn); }\n\n      // TODO: add special handling for degenerate (=linear) curves.\n      var clockwise = this.clockwise;\n      var r1 = distanceFn ? distanceFn(0) : d;\n      var r2 = distanceFn ? distanceFn(1) : d;\n      var v = [ this.offset(0,10), this.offset(1,10) ];\n      var o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n      if(!o) { throw \"cannot scale this curve. Try reducing it first.\"; }\n      // move all points by distance 'd' wrt the origin 'o'\n      var points=this.points, np=[];\n\n      // move end points by fixed distance along normal.\n      [0,1].forEach(function(t) {\n        var p = np[t*order] = utils.copy(points[t*order]);\n        p.x += (t?r2:r1) * v[t].n.x;\n        p.y += (t?r2:r1) * v[t].n.y;\n      }.bind(this));\n\n      if (!distanceFn) {\n        // move control points to lie on the intersection of the offset\n        // derivative vector, and the origin-through-control vector\n        [0,1].forEach(function(t) {\n          if(this.order===2 && !!t) return;\n          var p = np[t*order];\n          var d = this.derivative(t);\n          var p2 = { x: p.x + d.x, y: p.y + d.y };\n          np[t+1] = utils.lli4(p, p2, o, points[t+1]);\n        }.bind(this));\n        return new Bezier(np);\n      }\n\n      // move control points by \"however much necessary to\n      // ensure the correct tangent to endpoint\".\n      [0,1].forEach(function(t) {\n        if(this.order===2 && !!t) return;\n        var p = points[t+1];\n        var ov = {\n          x: p.x - o.x,\n          y: p.y - o.y\n        };\n        var rc = distanceFn ? distanceFn((t+1)/order) : d;\n        if(distanceFn && !clockwise) rc = -rc;\n        var m = sqrt(ov.x*ov.x + ov.y*ov.y);\n        ov.x /= m;\n        ov.y /= m;\n        np[t+1] = {\n          x: p.x + rc*ov.x,\n          y: p.y + rc*ov.y\n        }\n      }.bind(this));\n      return new Bezier(np);\n    },\n    outline: function(d1, d2, d3, d4) {\n      d2 = (typeof d2 === \"undefined\") ? d1 : d2;\n      var reduced = this.reduce(),\n          len = reduced.length,\n          order = this.order,\n          fcurves = [],\n          bcurves = [],\n          i, p, last,\n          alen = 0,\n          tlen = this.length();\n\n      var graduated = (typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\");\n\n      function linearDistanceFunction(s,e, tlen,alen,slen) {\n        return function (v) {\n          var f1 = alen/tlen, f2 = (alen+slen)/tlen, d = e-s;\n          return utils.map(v, 0,1, s+f1*d, s+f2*d);\n        };\n      };\n\n      // form curve oulines\n      reduced.forEach(function(segment) {\n        slen = segment.length();\n        if (graduated) {\n          fcurves.push(segment.scale(  linearDistanceFunction( d1, d3, tlen,alen,slen)  ));\n          bcurves.push(segment.scale(  linearDistanceFunction(-d2,-d4, tlen,alen,slen)  ));\n        } else {\n          fcurves.push(segment.scale( d1));\n          bcurves.push(segment.scale(-d2));\n        }\n        alen += slen;\n      });\n\n      // reverse the \"return\" outline\n      bcurves = bcurves.map(function(s) {\n        p = s.points;\n        if(p[3]) { s.points = [p[3],p[2],p[1],p[0]]; }\n        else { s.points = [p[2],p[1],p[0]]; }\n        return s;\n      }).reverse();\n\n      // form the endcaps as lines\n      var fs = fcurves[0].points[0],\n          fe = fcurves[len-1].points[fcurves[len-1].points.length-1],\n          bs = bcurves[len-1].points[bcurves[len-1].points.length-1],\n          be = bcurves[0].points[0],\n          ls = utils.makeline(bs,fs),\n          le = utils.makeline(fe,be),\n          segments = [ls].concat(fcurves).concat([le]).concat(bcurves),\n          slen = segments.length;\n\n      return new PolyBezier(segments);\n    },\n    outlineshapes: function(d1,d2) {\n      d2 = d2 || d1;\n      var outline = this.outline(d1,d2).curves;\n      var shapes = [];\n      for(var i=1, len=outline.length; i < len/2; i++) {\n        var shape = utils.makeshape(outline[i], outline[len-i]);\n        shape.startcap.virtual = (i > 1);\n        shape.endcap.virtual = (i < len/2-1);\n        shapes.push(shape);\n      }\n      return shapes;\n    },\n    intersects: function(curve) {\n      if(!curve) return this.selfintersects();\n      if(curve.p1 && curve.p2) {\n        return this.lineIntersects(curve);\n      }\n      if(curve instanceof Bezier) { curve = curve.reduce(); }\n      return this.curveintersects(this.reduce(), curve);\n    },\n    lineIntersects: function(line) {\n      var mx = min(line.p1.x, line.p2.x),\n          my = min(line.p1.y, line.p2.y),\n          MX = max(line.p1.x, line.p2.x),\n          MY = max(line.p1.y, line.p2.y),\n          self=this;\n      return utils.roots(this.points, line).filter(function(t) {\n        var p = self.get(t);\n        return (mx <= p.x && p.x <= MX && my <= p.y && p.y <= MY);\n      });\n    },\n    selfintersects: function() {\n      var reduced = this.reduce();\n      // \"simple\" curves cannot intersect with their direct\n      // neighbour, so for each segment X we check whether\n      // it intersects [0:x-2][x+2:last].\n      var i,len=reduced.length-2,results=[],result,left,right;\n      for(i=0; i<len; i++) {\n        left = reduced.slice(i,i+1);\n        right = reduced.slice(i+2);\n        result = this.curveintersects(left, right);\n        results = results.concat( result );\n      }\n      return results;\n    },\n    curveintersects: function(c1,c2) {\n      var pairs = [];\n      // step 1: pair off any overlapping segments\n      c1.forEach(function(l) {\n        c2.forEach(function(r) {\n          if(l.overlaps(r)) {\n            pairs.push({ left: l, right: r });\n          }\n        });\n      });\n      // step 2: for each pairing, run through the convergence algorithm.\n      var intersections = [];\n      pairs.forEach(function(pair) {\n        var result = utils.pairiteration(pair.left, pair.right);\n        if(result.length > 0) {\n          intersections = intersections.concat(result);\n        }\n      });\n      return intersections;\n    },\n    arcs: function(errorThreshold) {\n      errorThreshold = errorThreshold || 0.5;\n      var circles = [];\n      return this._iterate(errorThreshold, circles);\n    },\n    _error: function(pc, np1, s, e) {\n      var q = (e - s) / 4,\n          c1 = this.get(s + q),\n          c2 = this.get(e - q),\n          ref = utils.dist(pc, np1),\n          d1  = utils.dist(pc, c1),\n          d2  = utils.dist(pc, c2);\n      return abs(d1-ref) + abs(d2-ref);\n    },\n    _iterate: function(errorThreshold, circles) {\n      var s = 0, e = 1, safety;\n      // we do a binary search to find the \"good `t` closest to no-longer-good\"\n      do {\n        safety=0;\n\n        // step 1: start with the maximum possible arc\n        e = 1;\n\n        // points:\n        var np1 = this.get(s), np2, o_np2, np3, o_np3, arc, prev_arc;\n\n        // booleans:\n        var curr_good = false, prev_good = false, done;\n\n        // numbers:\n        var m = e, prev_e = 1, step = 0;\n\n        // step 2: find the best possible arc\n        do {\n          prev_good = curr_good;\n          prev_arc = arc;\n          m = (s + e)/2;\n          step++;\n\n          np2 = this.get(m);\n          np3 = this.get(e);\n\n          arc = utils.getccenter(np1, np2, np3);\n          var error = this._error(arc, np1, s, e);\n          curr_good = (error <= errorThreshold);\n\n          done = prev_good && !curr_good;\n          if(!done) prev_e = e;\n\n          // this arc is fine: we can move 'e' up to see if we can find a wider arc\n          if(curr_good) {\n            // if e is already at max, then we're done for this arc.\n            if (e >= 1) {\n              prev_e = 1;\n              prev_arc = arc;\n              break;\n            }\n            // if not, move it up by half the iteration distance\n            e = e + (e-s)/2;\n          }\n\n          // this is a bad arc: we need to move 'e' down to find a good arc\n          else {\n            e = m;\n          }\n        }\n        while(!done && safety++<100);\n\n        if(safety>=100) {\n          console.error(\"arc abstraction somehow failed...\");\n          break;\n        }\n\n        // console.log(\"[F] arc found\", s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);\n\n        prev_arc = (prev_arc ? prev_arc : arc);\n        circles.push(prev_arc);\n        s = prev_e;\n      }\n      while(e < 1);\n      return circles;\n    }\n  };\n\n\n  if(typeof module !== \"undefined\" && module.exports) {\n    module.exports = Bezier;\n  }\n\n  else if(typeof define !== \"undefined\") {\n    define(function() { return Bezier; });\n  }\n\n  else if(typeof window !== \"undefined\") {\n    window.Bezier = Bezier;\n  }\n\n}());\n","module.exports = require(\"./bezier\");","","/* MIT license */\n\nmodule.exports = {\n  rgb2hsl: rgb2hsl,\n  rgb2hsv: rgb2hsv,\n  rgb2hwb: rgb2hwb,\n  rgb2cmyk: rgb2cmyk,\n  rgb2keyword: rgb2keyword,\n  rgb2xyz: rgb2xyz,\n  rgb2lab: rgb2lab,\n  rgb2lch: rgb2lch,\n\n  hsl2rgb: hsl2rgb,\n  hsl2hsv: hsl2hsv,\n  hsl2hwb: hsl2hwb,\n  hsl2cmyk: hsl2cmyk,\n  hsl2keyword: hsl2keyword,\n\n  hsv2rgb: hsv2rgb,\n  hsv2hsl: hsv2hsl,\n  hsv2hwb: hsv2hwb,\n  hsv2cmyk: hsv2cmyk,\n  hsv2keyword: hsv2keyword,\n\n  hwb2rgb: hwb2rgb,\n  hwb2hsl: hwb2hsl,\n  hwb2hsv: hwb2hsv,\n  hwb2cmyk: hwb2cmyk,\n  hwb2keyword: hwb2keyword,\n\n  cmyk2rgb: cmyk2rgb,\n  cmyk2hsl: cmyk2hsl,\n  cmyk2hsv: cmyk2hsv,\n  cmyk2hwb: cmyk2hwb,\n  cmyk2keyword: cmyk2keyword,\n\n  keyword2rgb: keyword2rgb,\n  keyword2hsl: keyword2hsl,\n  keyword2hsv: keyword2hsv,\n  keyword2hwb: keyword2hwb,\n  keyword2cmyk: keyword2cmyk,\n  keyword2lab: keyword2lab,\n  keyword2xyz: keyword2xyz,\n\n  xyz2rgb: xyz2rgb,\n  xyz2lab: xyz2lab,\n  xyz2lch: xyz2lch,\n\n  lab2xyz: lab2xyz,\n  lab2rgb: lab2rgb,\n  lab2lch: lab2lch,\n\n  lch2lab: lch2lab,\n  lch2xyz: lch2xyz,\n  lch2rgb: lch2rgb\n}\n\n\nfunction rgb2hsl(rgb) {\n  var r = rgb[0]/255,\n      g = rgb[1]/255,\n      b = rgb[2]/255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, l;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g)/ delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  l = (min + max) / 2;\n\n  if (max == min)\n    s = 0;\n  else if (l <= 0.5)\n    s = delta / (max + min);\n  else\n    s = delta / (2 - max - min);\n\n  return [h, s * 100, l * 100];\n}\n\nfunction rgb2hsv(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, v;\n\n  if (max == 0)\n    s = 0;\n  else\n    s = (delta/max * 1000)/10;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g) / delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  v = ((max / 255) * 1000) / 10;\n\n  return [h, s, v];\n}\n\nfunction rgb2hwb(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      h = rgb2hsl(rgb)[0],\n      w = 1/255 * Math.min(r, Math.min(g, b)),\n      b = 1 - 1/255 * Math.max(r, Math.max(g, b));\n\n  return [h, w * 100, b * 100];\n}\n\nfunction rgb2cmyk(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255,\n      c, m, y, k;\n\n  k = Math.min(1 - r, 1 - g, 1 - b);\n  c = (1 - r - k) / (1 - k) || 0;\n  m = (1 - g - k) / (1 - k) || 0;\n  y = (1 - b - k) / (1 - k) || 0;\n  return [c * 100, m * 100, y * 100, k * 100];\n}\n\nfunction rgb2keyword(rgb) {\n  return reverseKeywords[JSON.stringify(rgb)];\n}\n\nfunction rgb2xyz(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255;\n\n  // assume sRGB\n  r = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n  g = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n  b = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n  var x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n  var y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n  var z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n  return [x * 100, y *100, z * 100];\n}\n\nfunction rgb2lab(rgb) {\n  var xyz = rgb2xyz(rgb),\n        x = xyz[0],\n        y = xyz[1],\n        z = xyz[2],\n        l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction rgb2lch(args) {\n  return lab2lch(rgb2lab(args));\n}\n\nfunction hsl2rgb(hsl) {\n  var h = hsl[0] / 360,\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      t1, t2, t3, rgb, val;\n\n  if (s == 0) {\n    val = l * 255;\n    return [val, val, val];\n  }\n\n  if (l < 0.5)\n    t2 = l * (1 + s);\n  else\n    t2 = l + s - l * s;\n  t1 = 2 * l - t2;\n\n  rgb = [0, 0, 0];\n  for (var i = 0; i < 3; i++) {\n    t3 = h + 1 / 3 * - (i - 1);\n    t3 < 0 && t3++;\n    t3 > 1 && t3--;\n\n    if (6 * t3 < 1)\n      val = t1 + (t2 - t1) * 6 * t3;\n    else if (2 * t3 < 1)\n      val = t2;\n    else if (3 * t3 < 2)\n      val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n    else\n      val = t1;\n\n    rgb[i] = val * 255;\n  }\n\n  return rgb;\n}\n\nfunction hsl2hsv(hsl) {\n  var h = hsl[0],\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      sv, v;\n\n  if(l === 0) {\n      // no need to do calc on black\n      // also avoids divide by 0 error\n      return [0, 0, 0];\n  }\n\n  l *= 2;\n  s *= (l <= 1) ? l : 2 - l;\n  v = (l + s) / 2;\n  sv = (2 * s) / (l + s);\n  return [h, sv * 100, v * 100];\n}\n\nfunction hsl2hwb(args) {\n  return rgb2hwb(hsl2rgb(args));\n}\n\nfunction hsl2cmyk(args) {\n  return rgb2cmyk(hsl2rgb(args));\n}\n\nfunction hsl2keyword(args) {\n  return rgb2keyword(hsl2rgb(args));\n}\n\n\nfunction hsv2rgb(hsv) {\n  var h = hsv[0] / 60,\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      hi = Math.floor(h) % 6;\n\n  var f = h - Math.floor(h),\n      p = 255 * v * (1 - s),\n      q = 255 * v * (1 - (s * f)),\n      t = 255 * v * (1 - (s * (1 - f))),\n      v = 255 * v;\n\n  switch(hi) {\n    case 0:\n      return [v, t, p];\n    case 1:\n      return [q, v, p];\n    case 2:\n      return [p, v, t];\n    case 3:\n      return [p, q, v];\n    case 4:\n      return [t, p, v];\n    case 5:\n      return [v, p, q];\n  }\n}\n\nfunction hsv2hsl(hsv) {\n  var h = hsv[0],\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      sl, l;\n\n  l = (2 - s) * v;\n  sl = s * v;\n  sl /= (l <= 1) ? l : 2 - l;\n  sl = sl || 0;\n  l /= 2;\n  return [h, sl * 100, l * 100];\n}\n\nfunction hsv2hwb(args) {\n  return rgb2hwb(hsv2rgb(args))\n}\n\nfunction hsv2cmyk(args) {\n  return rgb2cmyk(hsv2rgb(args));\n}\n\nfunction hsv2keyword(args) {\n  return rgb2keyword(hsv2rgb(args));\n}\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nfunction hwb2rgb(hwb) {\n  var h = hwb[0] / 360,\n      wh = hwb[1] / 100,\n      bl = hwb[2] / 100,\n      ratio = wh + bl,\n      i, v, f, n;\n\n  // wh + bl cant be > 1\n  if (ratio > 1) {\n    wh /= ratio;\n    bl /= ratio;\n  }\n\n  i = Math.floor(6 * h);\n  v = 1 - bl;\n  f = 6 * h - i;\n  if ((i & 0x01) != 0) {\n    f = 1 - f;\n  }\n  n = wh + f * (v - wh);  // linear interpolation\n\n  switch (i) {\n    default:\n    case 6:\n    case 0: r = v; g = n; b = wh; break;\n    case 1: r = n; g = v; b = wh; break;\n    case 2: r = wh; g = v; b = n; break;\n    case 3: r = wh; g = n; b = v; break;\n    case 4: r = n; g = wh; b = v; break;\n    case 5: r = v; g = wh; b = n; break;\n  }\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction hwb2hsl(args) {\n  return rgb2hsl(hwb2rgb(args));\n}\n\nfunction hwb2hsv(args) {\n  return rgb2hsv(hwb2rgb(args));\n}\n\nfunction hwb2cmyk(args) {\n  return rgb2cmyk(hwb2rgb(args));\n}\n\nfunction hwb2keyword(args) {\n  return rgb2keyword(hwb2rgb(args));\n}\n\nfunction cmyk2rgb(cmyk) {\n  var c = cmyk[0] / 100,\n      m = cmyk[1] / 100,\n      y = cmyk[2] / 100,\n      k = cmyk[3] / 100,\n      r, g, b;\n\n  r = 1 - Math.min(1, c * (1 - k) + k);\n  g = 1 - Math.min(1, m * (1 - k) + k);\n  b = 1 - Math.min(1, y * (1 - k) + k);\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction cmyk2hsl(args) {\n  return rgb2hsl(cmyk2rgb(args));\n}\n\nfunction cmyk2hsv(args) {\n  return rgb2hsv(cmyk2rgb(args));\n}\n\nfunction cmyk2hwb(args) {\n  return rgb2hwb(cmyk2rgb(args));\n}\n\nfunction cmyk2keyword(args) {\n  return rgb2keyword(cmyk2rgb(args));\n}\n\n\nfunction xyz2rgb(xyz) {\n  var x = xyz[0] / 100,\n      y = xyz[1] / 100,\n      z = xyz[2] / 100,\n      r, g, b;\n\n  r = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n  g = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n  b = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n  // assume sRGB\n  r = r > 0.0031308 ? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n    : r = (r * 12.92);\n\n  g = g > 0.0031308 ? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n    : g = (g * 12.92);\n\n  b = b > 0.0031308 ? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n    : b = (b * 12.92);\n\n  r = Math.min(Math.max(0, r), 1);\n  g = Math.min(Math.max(0, g), 1);\n  b = Math.min(Math.max(0, b), 1);\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction xyz2lab(xyz) {\n  var x = xyz[0],\n      y = xyz[1],\n      z = xyz[2],\n      l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction xyz2lch(args) {\n  return lab2lch(xyz2lab(args));\n}\n\nfunction lab2xyz(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      x, y, z, y2;\n\n  if (l <= 8) {\n    y = (l * 100) / 903.3;\n    y2 = (7.787 * (y / 100)) + (16 / 116);\n  } else {\n    y = 100 * Math.pow((l + 16) / 116, 3);\n    y2 = Math.pow(y / 100, 1/3);\n  }\n\n  x = x / 95.047 <= 0.008856 ? x = (95.047 * ((a / 500) + y2 - (16 / 116))) / 7.787 : 95.047 * Math.pow((a / 500) + y2, 3);\n\n  z = z / 108.883 <= 0.008859 ? z = (108.883 * (y2 - (b / 200) - (16 / 116))) / 7.787 : 108.883 * Math.pow(y2 - (b / 200), 3);\n\n  return [x, y, z];\n}\n\nfunction lab2lch(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      hr, h, c;\n\n  hr = Math.atan2(b, a);\n  h = hr * 360 / 2 / Math.PI;\n  if (h < 0) {\n    h += 360;\n  }\n  c = Math.sqrt(a * a + b * b);\n  return [l, c, h];\n}\n\nfunction lab2rgb(args) {\n  return xyz2rgb(lab2xyz(args));\n}\n\nfunction lch2lab(lch) {\n  var l = lch[0],\n      c = lch[1],\n      h = lch[2],\n      a, b, hr;\n\n  hr = h / 360 * 2 * Math.PI;\n  a = c * Math.cos(hr);\n  b = c * Math.sin(hr);\n  return [l, a, b];\n}\n\nfunction lch2xyz(args) {\n  return lab2xyz(lch2lab(args));\n}\n\nfunction lch2rgb(args) {\n  return lab2rgb(lch2lab(args));\n}\n\nfunction keyword2rgb(keyword) {\n  return cssKeywords[keyword];\n}\n\nfunction keyword2hsl(args) {\n  return rgb2hsl(keyword2rgb(args));\n}\n\nfunction keyword2hsv(args) {\n  return rgb2hsv(keyword2rgb(args));\n}\n\nfunction keyword2hwb(args) {\n  return rgb2hwb(keyword2rgb(args));\n}\n\nfunction keyword2cmyk(args) {\n  return rgb2cmyk(keyword2rgb(args));\n}\n\nfunction keyword2lab(args) {\n  return rgb2lab(keyword2rgb(args));\n}\n\nfunction keyword2xyz(args) {\n  return rgb2xyz(keyword2rgb(args));\n}\n\nvar cssKeywords = {\n  aliceblue:  [240,248,255],\n  antiquewhite: [250,235,215],\n  aqua: [0,255,255],\n  aquamarine: [127,255,212],\n  azure:  [240,255,255],\n  beige:  [245,245,220],\n  bisque: [255,228,196],\n  black:  [0,0,0],\n  blanchedalmond: [255,235,205],\n  blue: [0,0,255],\n  blueviolet: [138,43,226],\n  brown:  [165,42,42],\n  burlywood:  [222,184,135],\n  cadetblue:  [95,158,160],\n  chartreuse: [127,255,0],\n  chocolate:  [210,105,30],\n  coral:  [255,127,80],\n  cornflowerblue: [100,149,237],\n  cornsilk: [255,248,220],\n  crimson:  [220,20,60],\n  cyan: [0,255,255],\n  darkblue: [0,0,139],\n  darkcyan: [0,139,139],\n  darkgoldenrod:  [184,134,11],\n  darkgray: [169,169,169],\n  darkgreen:  [0,100,0],\n  darkgrey: [169,169,169],\n  darkkhaki:  [189,183,107],\n  darkmagenta:  [139,0,139],\n  darkolivegreen: [85,107,47],\n  darkorange: [255,140,0],\n  darkorchid: [153,50,204],\n  darkred:  [139,0,0],\n  darksalmon: [233,150,122],\n  darkseagreen: [143,188,143],\n  darkslateblue:  [72,61,139],\n  darkslategray:  [47,79,79],\n  darkslategrey:  [47,79,79],\n  darkturquoise:  [0,206,209],\n  darkviolet: [148,0,211],\n  deeppink: [255,20,147],\n  deepskyblue:  [0,191,255],\n  dimgray:  [105,105,105],\n  dimgrey:  [105,105,105],\n  dodgerblue: [30,144,255],\n  firebrick:  [178,34,34],\n  floralwhite:  [255,250,240],\n  forestgreen:  [34,139,34],\n  fuchsia:  [255,0,255],\n  gainsboro:  [220,220,220],\n  ghostwhite: [248,248,255],\n  gold: [255,215,0],\n  goldenrod:  [218,165,32],\n  gray: [128,128,128],\n  green:  [0,128,0],\n  greenyellow:  [173,255,47],\n  grey: [128,128,128],\n  honeydew: [240,255,240],\n  hotpink:  [255,105,180],\n  indianred:  [205,92,92],\n  indigo: [75,0,130],\n  ivory:  [255,255,240],\n  khaki:  [240,230,140],\n  lavender: [230,230,250],\n  lavenderblush:  [255,240,245],\n  lawngreen:  [124,252,0],\n  lemonchiffon: [255,250,205],\n  lightblue:  [173,216,230],\n  lightcoral: [240,128,128],\n  lightcyan:  [224,255,255],\n  lightgoldenrodyellow: [250,250,210],\n  lightgray:  [211,211,211],\n  lightgreen: [144,238,144],\n  lightgrey:  [211,211,211],\n  lightpink:  [255,182,193],\n  lightsalmon:  [255,160,122],\n  lightseagreen:  [32,178,170],\n  lightskyblue: [135,206,250],\n  lightslategray: [119,136,153],\n  lightslategrey: [119,136,153],\n  lightsteelblue: [176,196,222],\n  lightyellow:  [255,255,224],\n  lime: [0,255,0],\n  limegreen:  [50,205,50],\n  linen:  [250,240,230],\n  magenta:  [255,0,255],\n  maroon: [128,0,0],\n  mediumaquamarine: [102,205,170],\n  mediumblue: [0,0,205],\n  mediumorchid: [186,85,211],\n  mediumpurple: [147,112,219],\n  mediumseagreen: [60,179,113],\n  mediumslateblue:  [123,104,238],\n  mediumspringgreen:  [0,250,154],\n  mediumturquoise:  [72,209,204],\n  mediumvioletred:  [199,21,133],\n  midnightblue: [25,25,112],\n  mintcream:  [245,255,250],\n  mistyrose:  [255,228,225],\n  moccasin: [255,228,181],\n  navajowhite:  [255,222,173],\n  navy: [0,0,128],\n  oldlace:  [253,245,230],\n  olive:  [128,128,0],\n  olivedrab:  [107,142,35],\n  orange: [255,165,0],\n  orangered:  [255,69,0],\n  orchid: [218,112,214],\n  palegoldenrod:  [238,232,170],\n  palegreen:  [152,251,152],\n  paleturquoise:  [175,238,238],\n  palevioletred:  [219,112,147],\n  papayawhip: [255,239,213],\n  peachpuff:  [255,218,185],\n  peru: [205,133,63],\n  pink: [255,192,203],\n  plum: [221,160,221],\n  powderblue: [176,224,230],\n  purple: [128,0,128],\n  rebeccapurple: [102, 51, 153],\n  red:  [255,0,0],\n  rosybrown:  [188,143,143],\n  royalblue:  [65,105,225],\n  saddlebrown:  [139,69,19],\n  salmon: [250,128,114],\n  sandybrown: [244,164,96],\n  seagreen: [46,139,87],\n  seashell: [255,245,238],\n  sienna: [160,82,45],\n  silver: [192,192,192],\n  skyblue:  [135,206,235],\n  slateblue:  [106,90,205],\n  slategray:  [112,128,144],\n  slategrey:  [112,128,144],\n  snow: [255,250,250],\n  springgreen:  [0,255,127],\n  steelblue:  [70,130,180],\n  tan:  [210,180,140],\n  teal: [0,128,128],\n  thistle:  [216,191,216],\n  tomato: [255,99,71],\n  turquoise:  [64,224,208],\n  violet: [238,130,238],\n  wheat:  [245,222,179],\n  white:  [255,255,255],\n  whitesmoke: [245,245,245],\n  yellow: [255,255,0],\n  yellowgreen:  [154,205,50]\n};\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n  reverseKeywords[JSON.stringify(cssKeywords[key])] = key;\n}\n","var conversions = require(\"./conversions\");\n\nvar convert = function() {\n   return new Converter();\n}\n\nfor (var func in conversions) {\n  // export Raw versions\n  convert[func + \"Raw\"] =  (function(func) {\n    // accept array or plain args\n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      return conversions[func](arg);\n    }\n  })(func);\n\n  var pair = /(\\w+)2(\\w+)/.exec(func),\n      from = pair[1],\n      to = pair[2];\n\n  // export rgb2hsl and [\"rgb\"][\"hsl\"]\n  convert[from] = convert[from] || {};\n\n  convert[from][to] = convert[func] = (function(func) { \n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      \n      var val = conversions[func](arg);\n      if (typeof val == \"string\" || val === undefined)\n        return val; // keyword\n\n      for (var i = 0; i < val.length; i++)\n        val[i] = Math.round(val[i]);\n      return val;\n    }\n  })(func);\n}\n\n\n/* Converter does lazy conversion and caching */\nvar Converter = function() {\n   this.convs = {};\n};\n\n/* Either get the values for a space or\n  set the values for a space, depending on args */\nConverter.prototype.routeSpace = function(space, args) {\n   var values = args[0];\n   if (values === undefined) {\n      // color.rgb()\n      return this.getValues(space);\n   }\n   // color.rgb(10, 10, 10)\n   if (typeof values == \"number\") {\n      values = Array.prototype.slice.call(args);        \n   }\n\n   return this.setValues(space, values);\n};\n  \n/* Set the values for a space, invalidating cache */\nConverter.prototype.setValues = function(space, values) {\n   this.space = space;\n   this.convs = {};\n   this.convs[space] = values;\n   return this;\n};\n\n/* Get the values for a space. If there's already\n  a conversion for the space, fetch it, otherwise\n  compute it */\nConverter.prototype.getValues = function(space) {\n   var vals = this.convs[space];\n   if (!vals) {\n      var fspace = this.space,\n          from = this.convs[fspace];\n      vals = convert[fspace][space](from);\n\n      this.convs[space] = vals;\n   }\n  return vals;\n};\n\n[\"rgb\", \"hsl\", \"hsv\", \"cmyk\", \"keyword\"].forEach(function(space) {\n   Converter.prototype[space] = function(vals) {\n      return this.routeSpace(space, arguments);\n   }\n});\n\nmodule.exports = convert;","/* MIT license */\nvar colorNames = require('color-name');\n\nmodule.exports = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n}\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3})$/,\n       hex =  /^#([a-fA-F0-9]{6})$/,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/,\n       keyword = /(\\D+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr);\n   if (match) {\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n   }\n   else if (match = string.match(hex)) {\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorNames[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgb) {\n   return \"#\" + hexDouble(rgb[0]) + hexDouble(rgb[1])\n              + hexDouble(rgb[2]);\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorNames) {\n   reverseNames[colorNames[name]] = name;\n}\n","module.exports={\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n}","//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n","var createElement = require(\"./vdom/create-element.js\")\n\nmodule.exports = createElement\n","var diff = require(\"./vtree/diff.js\")\n\nmodule.exports = diff\n","var h = require(\"./virtual-hyperscript/index.js\")\n\nmodule.exports = h\n","/*!\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n * ECMAScript compliant, uniform cross-browser split method\n */\n\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * split('a b c d', ' ');\n * // -> ['a', 'b', 'c', 'd']\n *\n * // With limit\n * split('a b c d', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * split('..word1 word2..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', ' ', 'word', '2', '..']\n */\nmodule.exports = (function split(undef) {\n\n  var nativeSplit = String.prototype.split,\n    compliantExecNpcg = /()??/.exec(\"\")[1] === undef,\n    // NPCG: nonparticipating capturing group\n    self;\n\n  self = function(str, separator, limit) {\n    // If `separator` is not a regex, use `nativeSplit`\n    if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n      return nativeSplit.call(str, separator, limit);\n    }\n    var output = [],\n      flags = (separator.ignoreCase ? \"i\" : \"\") + (separator.multiline ? \"m\" : \"\") + (separator.extended ? \"x\" : \"\") + // Proposed for ES6\n      (separator.sticky ? \"y\" : \"\"),\n      // Firefox 3+\n      lastLastIndex = 0,\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      separator = new RegExp(separator.source, flags + \"g\"),\n      separator2, match, lastIndex, lastLength;\n    str += \"\"; // Type-convert\n    if (!compliantExecNpcg) {\n      // Doesn't need flags gy, but they don't hurt\n      separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n    }\n    /* Values for `limit`, per the spec:\n     * If undefined: 4294967295 // Math.pow(2, 32) - 1\n     * If 0, Infinity, or NaN: 0\n     * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n     * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n     * If other: Type-convert, then use the above rules\n     */\n    limit = limit === undef ? -1 >>> 0 : // Math.pow(2, 32) - 1\n    limit >>> 0; // ToUint32(limit)\n    while (match = separator.exec(str)) {\n      // `separator.lastIndex` is not reliable cross-browser\n      lastIndex = match.index + match[0].length;\n      if (lastIndex > lastLastIndex) {\n        output.push(str.slice(lastLastIndex, match.index));\n        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n        // nonparticipating capturing groups\n        if (!compliantExecNpcg && match.length > 1) {\n          match[0].replace(separator2, function() {\n            for (var i = 1; i < arguments.length - 2; i++) {\n              if (arguments[i] === undef) {\n                match[i] = undef;\n              }\n            }\n          });\n        }\n        if (match.length > 1 && match.index < str.length) {\n          Array.prototype.push.apply(output, match.slice(1));\n        }\n        lastLength = match[0].length;\n        lastLastIndex = lastIndex;\n        if (output.length >= limit) {\n          break;\n        }\n      }\n      if (separator.lastIndex === match.index) {\n        separator.lastIndex++; // Avoid an infinite loop\n      }\n    }\n    if (lastLastIndex === str.length) {\n      if (lastLength || !separator.test(\"\")) {\n        output.push(\"\");\n      }\n    } else {\n      output.push(str.slice(lastLastIndex));\n    }\n    return output.length > limit ? output.slice(0, limit) : output;\n  };\n\n  return self;\n})();\n","'use strict';\n\nvar OneVersionConstraint = require('individual/one-version');\n\nvar MY_VERSION = '7';\nOneVersionConstraint('ev-store', MY_VERSION);\n\nvar hashKey = '__EV_STORE_KEY@' + MY_VERSION;\n\nmodule.exports = EvStore;\n\nfunction EvStore(elem) {\n    var hash = elem[hashKey];\n\n    if (!hash) {\n        hash = elem[hashKey] = {};\n    }\n\n    return hash;\n}\n","'use strict';\n\n/*global window, global*/\n\nvar root = typeof window !== 'undefined' ?\n    window : typeof global !== 'undefined' ?\n    global : {};\n\nmodule.exports = Individual;\n\nfunction Individual(key, value) {\n    if (key in root) {\n        return root[key];\n    }\n\n    root[key] = value;\n\n    return value;\n}\n","'use strict';\n\nvar Individual = require('./index.js');\n\nmodule.exports = OneVersion;\n\nfunction OneVersion(moduleName, version, defaultValue) {\n    var key = '__INDIVIDUAL_ONE_VERSION_' + moduleName;\n    var enforceKey = key + '_ENFORCE_SINGLETON';\n\n    var versionValue = Individual(enforceKey, version);\n\n    if (versionValue !== version) {\n        throw new Error('Can only have one copy of ' +\n            moduleName + '.\\n' +\n            'You already have version ' + versionValue +\n            ' installed.\\n' +\n            'This means you cannot install version ' + version);\n    }\n\n    return Individual(key, defaultValue);\n}\n","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nif (typeof document !== 'undefined') {\n    module.exports = document;\n} else {\n    var doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n\n    module.exports = doccy;\n}\n","\"use strict\";\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === \"object\" && x !== null;\n};\n","var nativeIsArray = Array.isArray\nvar toString = Object.prototype.toString\n\nmodule.exports = nativeIsArray || isArray\n\nfunction isArray(obj) {\n    return toString.call(obj) === \"[object Array]\"\n}\n","var patch = require(\"./vdom/patch.js\")\n\nmodule.exports = patch\n","var isObject = require(\"is-object\")\nvar isHook = require(\"../vnode/is-vhook.js\")\n\nmodule.exports = applyProperties\n\nfunction applyProperties(node, props, previous) {\n    for (var propName in props) {\n        var propValue = props[propName]\n\n        if (propValue === undefined) {\n            removeProperty(node, propName, propValue, previous);\n        } else if (isHook(propValue)) {\n            removeProperty(node, propName, propValue, previous)\n            if (propValue.hook) {\n                propValue.hook(node,\n                    propName,\n                    previous ? previous[propName] : undefined)\n            }\n        } else {\n            if (isObject(propValue)) {\n                patchObject(node, props, previous, propName, propValue);\n            } else {\n                node[propName] = propValue\n            }\n        }\n    }\n}\n\nfunction removeProperty(node, propName, propValue, previous) {\n    if (previous) {\n        var previousValue = previous[propName]\n\n        if (!isHook(previousValue)) {\n            if (propName === \"attributes\") {\n                for (var attrName in previousValue) {\n                    node.removeAttribute(attrName)\n                }\n            } else if (propName === \"style\") {\n                for (var i in previousValue) {\n                    node.style[i] = \"\"\n                }\n            } else if (typeof previousValue === \"string\") {\n                node[propName] = \"\"\n            } else {\n                node[propName] = null\n            }\n        } else if (previousValue.unhook) {\n            previousValue.unhook(node, propName, propValue)\n        }\n    }\n}\n\nfunction patchObject(node, props, previous, propName, propValue) {\n    var previousValue = previous ? previous[propName] : undefined\n\n    // Set attributes\n    if (propName === \"attributes\") {\n        for (var attrName in propValue) {\n            var attrValue = propValue[attrName]\n\n            if (attrValue === undefined) {\n                node.removeAttribute(attrName)\n            } else {\n                node.setAttribute(attrName, attrValue)\n            }\n        }\n\n        return\n    }\n\n    if(previousValue && isObject(previousValue) &&\n        getPrototype(previousValue) !== getPrototype(propValue)) {\n        node[propName] = propValue\n        return\n    }\n\n    if (!isObject(node[propName])) {\n        node[propName] = {}\n    }\n\n    var replacer = propName === \"style\" ? \"\" : undefined\n\n    for (var k in propValue) {\n        var value = propValue[k]\n        node[propName][k] = (value === undefined) ? replacer : value\n    }\n}\n\nfunction getPrototype(value) {\n    if (Object.getPrototypeOf) {\n        return Object.getPrototypeOf(value)\n    } else if (value.__proto__) {\n        return value.__proto__\n    } else if (value.constructor) {\n        return value.constructor.prototype\n    }\n}\n","var document = require(\"global/document\")\n\nvar applyProperties = require(\"./apply-properties\")\n\nvar isVNode = require(\"../vnode/is-vnode.js\")\nvar isVText = require(\"../vnode/is-vtext.js\")\nvar isWidget = require(\"../vnode/is-widget.js\")\nvar handleThunk = require(\"../vnode/handle-thunk.js\")\n\nmodule.exports = createElement\n\nfunction createElement(vnode, opts) {\n    var doc = opts ? opts.document || document : document\n    var warn = opts ? opts.warn : null\n\n    vnode = handleThunk(vnode).a\n\n    if (isWidget(vnode)) {\n        return vnode.init()\n    } else if (isVText(vnode)) {\n        return doc.createTextNode(vnode.text)\n    } else if (!isVNode(vnode)) {\n        if (warn) {\n            warn(\"Item is not a valid virtual dom node\", vnode)\n        }\n        return null\n    }\n\n    var node = (vnode.namespace === null) ?\n        doc.createElement(vnode.tagName) :\n        doc.createElementNS(vnode.namespace, vnode.tagName)\n\n    var props = vnode.properties\n    applyProperties(node, props)\n\n    var children = vnode.children\n\n    for (var i = 0; i < children.length; i++) {\n        var childNode = createElement(children[i], opts)\n        if (childNode) {\n            node.appendChild(childNode)\n        }\n    }\n\n    return node\n}\n","// Maps a virtual DOM tree onto a real DOM tree in an efficient manner.\n// We don't want to read all of the DOM nodes in the tree so we use\n// the in-order tree indexing to eliminate recursion down certain branches.\n// We only recurse into a DOM node if we know that it contains a child of\n// interest.\n\nvar noChild = {}\n\nmodule.exports = domIndex\n\nfunction domIndex(rootNode, tree, indices, nodes) {\n    if (!indices || indices.length === 0) {\n        return {}\n    } else {\n        indices.sort(ascending)\n        return recurse(rootNode, tree, indices, nodes, 0)\n    }\n}\n\nfunction recurse(rootNode, tree, indices, nodes, rootIndex) {\n    nodes = nodes || {}\n\n\n    if (rootNode) {\n        if (indexInRange(indices, rootIndex, rootIndex)) {\n            nodes[rootIndex] = rootNode\n        }\n\n        var vChildren = tree.children\n\n        if (vChildren) {\n\n            var childNodes = rootNode.childNodes\n\n            for (var i = 0; i < tree.children.length; i++) {\n                rootIndex += 1\n\n                var vChild = vChildren[i] || noChild\n                var nextIndex = rootIndex + (vChild.count || 0)\n\n                // skip recursion down the tree if there are no nodes down here\n                if (indexInRange(indices, rootIndex, nextIndex)) {\n                    recurse(childNodes[i], vChild, indices, nodes, rootIndex)\n                }\n\n                rootIndex = nextIndex\n            }\n        }\n    }\n\n    return nodes\n}\n\n// Binary search for an index in the interval [left, right]\nfunction indexInRange(indices, left, right) {\n    if (indices.length === 0) {\n        return false\n    }\n\n    var minIndex = 0\n    var maxIndex = indices.length - 1\n    var currentIndex\n    var currentItem\n\n    while (minIndex <= maxIndex) {\n        currentIndex = ((maxIndex + minIndex) / 2) >> 0\n        currentItem = indices[currentIndex]\n\n        if (minIndex === maxIndex) {\n            return currentItem >= left && currentItem <= right\n        } else if (currentItem < left) {\n            minIndex = currentIndex + 1\n        } else  if (currentItem > right) {\n            maxIndex = currentIndex - 1\n        } else {\n            return true\n        }\n    }\n\n    return false;\n}\n\nfunction ascending(a, b) {\n    return a > b ? 1 : -1\n}\n","var applyProperties = require(\"./apply-properties\")\n\nvar isWidget = require(\"../vnode/is-widget.js\")\nvar VPatch = require(\"../vnode/vpatch.js\")\n\nvar updateWidget = require(\"./update-widget\")\n\nmodule.exports = applyPatch\n\nfunction applyPatch(vpatch, domNode, renderOptions) {\n    var type = vpatch.type\n    var vNode = vpatch.vNode\n    var patch = vpatch.patch\n\n    switch (type) {\n        case VPatch.REMOVE:\n            return removeNode(domNode, vNode)\n        case VPatch.INSERT:\n            return insertNode(domNode, patch, renderOptions)\n        case VPatch.VTEXT:\n            return stringPatch(domNode, vNode, patch, renderOptions)\n        case VPatch.WIDGET:\n            return widgetPatch(domNode, vNode, patch, renderOptions)\n        case VPatch.VNODE:\n            return vNodePatch(domNode, vNode, patch, renderOptions)\n        case VPatch.ORDER:\n            reorderChildren(domNode, patch)\n            return domNode\n        case VPatch.PROPS:\n            applyProperties(domNode, patch, vNode.properties)\n            return domNode\n        case VPatch.THUNK:\n            return replaceRoot(domNode,\n                renderOptions.patch(domNode, patch, renderOptions))\n        default:\n            return domNode\n    }\n}\n\nfunction removeNode(domNode, vNode) {\n    var parentNode = domNode.parentNode\n\n    if (parentNode) {\n        parentNode.removeChild(domNode)\n    }\n\n    destroyWidget(domNode, vNode);\n\n    return null\n}\n\nfunction insertNode(parentNode, vNode, renderOptions) {\n    var newNode = renderOptions.render(vNode, renderOptions)\n\n    if (parentNode) {\n        parentNode.appendChild(newNode)\n    }\n\n    return parentNode\n}\n\nfunction stringPatch(domNode, leftVNode, vText, renderOptions) {\n    var newNode\n\n    if (domNode.nodeType === 3) {\n        domNode.replaceData(0, domNode.length, vText.text)\n        newNode = domNode\n    } else {\n        var parentNode = domNode.parentNode\n        newNode = renderOptions.render(vText, renderOptions)\n\n        if (parentNode && newNode !== domNode) {\n            parentNode.replaceChild(newNode, domNode)\n        }\n    }\n\n    return newNode\n}\n\nfunction widgetPatch(domNode, leftVNode, widget, renderOptions) {\n    var updating = updateWidget(leftVNode, widget)\n    var newNode\n\n    if (updating) {\n        newNode = widget.update(leftVNode, domNode) || domNode\n    } else {\n        newNode = renderOptions.render(widget, renderOptions)\n    }\n\n    var parentNode = domNode.parentNode\n\n    if (parentNode && newNode !== domNode) {\n        parentNode.replaceChild(newNode, domNode)\n    }\n\n    if (!updating) {\n        destroyWidget(domNode, leftVNode)\n    }\n\n    return newNode\n}\n\nfunction vNodePatch(domNode, leftVNode, vNode, renderOptions) {\n    var parentNode = domNode.parentNode\n    var newNode = renderOptions.render(vNode, renderOptions)\n\n    if (parentNode && newNode !== domNode) {\n        parentNode.replaceChild(newNode, domNode)\n    }\n\n    return newNode\n}\n\nfunction destroyWidget(domNode, w) {\n    if (typeof w.destroy === \"function\" && isWidget(w)) {\n        w.destroy(domNode)\n    }\n}\n\nfunction reorderChildren(domNode, moves) {\n    var childNodes = domNode.childNodes\n    var keyMap = {}\n    var node\n    var remove\n    var insert\n\n    for (var i = 0; i < moves.removes.length; i++) {\n        remove = moves.removes[i]\n        node = childNodes[remove.from]\n        if (remove.key) {\n            keyMap[remove.key] = node\n        }\n        domNode.removeChild(node)\n    }\n\n    var length = childNodes.length\n    for (var j = 0; j < moves.inserts.length; j++) {\n        insert = moves.inserts[j]\n        node = keyMap[insert.key]\n        // this is the weirdest bug i've ever seen in webkit\n        domNode.insertBefore(node, insert.to >= length++ ? null : childNodes[insert.to])\n    }\n}\n\nfunction replaceRoot(oldRoot, newRoot) {\n    if (oldRoot && newRoot && oldRoot !== newRoot && oldRoot.parentNode) {\n        oldRoot.parentNode.replaceChild(newRoot, oldRoot)\n    }\n\n    return newRoot;\n}\n","var document = require(\"global/document\")\nvar isArray = require(\"x-is-array\")\n\nvar render = require(\"./create-element\")\nvar domIndex = require(\"./dom-index\")\nvar patchOp = require(\"./patch-op\")\nmodule.exports = patch\n\nfunction patch(rootNode, patches, renderOptions) {\n    renderOptions = renderOptions || {}\n    renderOptions.patch = renderOptions.patch && renderOptions.patch !== patch\n        ? renderOptions.patch\n        : patchRecursive\n    renderOptions.render = renderOptions.render || render\n\n    return renderOptions.patch(rootNode, patches, renderOptions)\n}\n\nfunction patchRecursive(rootNode, patches, renderOptions) {\n    var indices = patchIndices(patches)\n\n    if (indices.length === 0) {\n        return rootNode\n    }\n\n    var index = domIndex(rootNode, patches.a, indices)\n    var ownerDocument = rootNode.ownerDocument\n\n    if (!renderOptions.document && ownerDocument !== document) {\n        renderOptions.document = ownerDocument\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n        var nodeIndex = indices[i]\n        rootNode = applyPatch(rootNode,\n            index[nodeIndex],\n            patches[nodeIndex],\n            renderOptions)\n    }\n\n    return rootNode\n}\n\nfunction applyPatch(rootNode, domNode, patchList, renderOptions) {\n    if (!domNode) {\n        return rootNode\n    }\n\n    var newNode\n\n    if (isArray(patchList)) {\n        for (var i = 0; i < patchList.length; i++) {\n            newNode = patchOp(patchList[i], domNode, renderOptions)\n\n            if (domNode === rootNode) {\n                rootNode = newNode\n            }\n        }\n    } else {\n        newNode = patchOp(patchList, domNode, renderOptions)\n\n        if (domNode === rootNode) {\n            rootNode = newNode\n        }\n    }\n\n    return rootNode\n}\n\nfunction patchIndices(patches) {\n    var indices = []\n\n    for (var key in patches) {\n        if (key !== \"a\") {\n            indices.push(Number(key))\n        }\n    }\n\n    return indices\n}\n","var isWidget = require(\"../vnode/is-widget.js\")\n\nmodule.exports = updateWidget\n\nfunction updateWidget(a, b) {\n    if (isWidget(a) && isWidget(b)) {\n        if (\"name\" in a && \"name\" in b) {\n            return a.id === b.id\n        } else {\n            return a.init === b.init\n        }\n    }\n\n    return false\n}\n","'use strict';\n\nmodule.exports = AttributeHook;\n\nfunction AttributeHook(namespace, value) {\n    if (!(this instanceof AttributeHook)) {\n        return new AttributeHook(namespace, value);\n    }\n\n    this.namespace = namespace;\n    this.value = value;\n}\n\nAttributeHook.prototype.hook = function (node, prop, prev) {\n    if (prev && prev.type === 'AttributeHook' &&\n        prev.value === this.value &&\n        prev.namespace === this.namespace) {\n        return;\n    }\n\n    node.setAttributeNS(this.namespace, prop, this.value);\n};\n\nAttributeHook.prototype.unhook = function (node, prop, next) {\n    if (next && next.type === 'AttributeHook' &&\n        next.namespace === this.namespace) {\n        return;\n    }\n\n    var colonPosition = prop.indexOf(':');\n    var localName = colonPosition > -1 ? prop.substr(colonPosition + 1) : prop;\n    node.removeAttributeNS(this.namespace, localName);\n};\n\nAttributeHook.prototype.type = 'AttributeHook';\n","'use strict';\n\nvar EvStore = require('ev-store');\n\nmodule.exports = EvHook;\n\nfunction EvHook(value) {\n    if (!(this instanceof EvHook)) {\n        return new EvHook(value);\n    }\n\n    this.value = value;\n}\n\nEvHook.prototype.hook = function (node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = this.value;\n};\n\nEvHook.prototype.unhook = function(node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = undefined;\n};\n","'use strict';\n\nmodule.exports = SoftSetHook;\n\nfunction SoftSetHook(value) {\n    if (!(this instanceof SoftSetHook)) {\n        return new SoftSetHook(value);\n    }\n\n    this.value = value;\n}\n\nSoftSetHook.prototype.hook = function (node, propertyName) {\n    if (node[propertyName] !== this.value) {\n        node[propertyName] = this.value;\n    }\n};\n","'use strict';\n\nvar isArray = require('x-is-array');\n\nvar VNode = require('../vnode/vnode.js');\nvar VText = require('../vnode/vtext.js');\nvar isVNode = require('../vnode/is-vnode');\nvar isVText = require('../vnode/is-vtext');\nvar isWidget = require('../vnode/is-widget');\nvar isHook = require('../vnode/is-vhook');\nvar isVThunk = require('../vnode/is-thunk');\n\nvar parseTag = require('./parse-tag.js');\nvar softSetHook = require('./hooks/soft-set-hook.js');\nvar evHook = require('./hooks/ev-hook.js');\n\nmodule.exports = h;\n\nfunction h(tagName, properties, children) {\n    var childNodes = [];\n    var tag, props, key, namespace;\n\n    if (!children && isChildren(properties)) {\n        children = properties;\n        props = {};\n    }\n\n    props = props || properties || {};\n    tag = parseTag(tagName, props);\n\n    // support keys\n    if (props.hasOwnProperty('key')) {\n        key = props.key;\n        props.key = undefined;\n    }\n\n    // support namespace\n    if (props.hasOwnProperty('namespace')) {\n        namespace = props.namespace;\n        props.namespace = undefined;\n    }\n\n    // fix cursor bug\n    if (tag === 'INPUT' &&\n        !namespace &&\n        props.hasOwnProperty('value') &&\n        props.value !== undefined &&\n        !isHook(props.value)\n    ) {\n        props.value = softSetHook(props.value);\n    }\n\n    transformProperties(props);\n\n    if (children !== undefined && children !== null) {\n        addChild(children, childNodes, tag, props);\n    }\n\n\n    return new VNode(tag, props, childNodes, key, namespace);\n}\n\nfunction addChild(c, childNodes, tag, props) {\n    if (typeof c === 'string') {\n        childNodes.push(new VText(c));\n    } else if (typeof c === 'number') {\n        childNodes.push(new VText(String(c)));\n    } else if (isChild(c)) {\n        childNodes.push(c);\n    } else if (isArray(c)) {\n        for (var i = 0; i < c.length; i++) {\n            addChild(c[i], childNodes, tag, props);\n        }\n    } else if (c === null || c === undefined) {\n        return;\n    } else {\n        throw UnexpectedVirtualElement({\n            foreignObject: c,\n            parentVnode: {\n                tagName: tag,\n                properties: props\n            }\n        });\n    }\n}\n\nfunction transformProperties(props) {\n    for (var propName in props) {\n        if (props.hasOwnProperty(propName)) {\n            var value = props[propName];\n\n            if (isHook(value)) {\n                continue;\n            }\n\n            if (propName.substr(0, 3) === 'ev-') {\n                // add ev-foo support\n                props[propName] = evHook(value);\n            }\n        }\n    }\n}\n\nfunction isChild(x) {\n    return isVNode(x) || isVText(x) || isWidget(x) || isVThunk(x);\n}\n\nfunction isChildren(x) {\n    return typeof x === 'string' || isArray(x) || isChild(x);\n}\n\nfunction UnexpectedVirtualElement(data) {\n    var err = new Error();\n\n    err.type = 'virtual-hyperscript.unexpected.virtual-element';\n    err.message = 'Unexpected virtual child passed to h().\\n' +\n        'Expected a VNode / Vthunk / VWidget / string but:\\n' +\n        'got:\\n' +\n        errorString(data.foreignObject) +\n        '.\\n' +\n        'The parent vnode is:\\n' +\n        errorString(data.parentVnode)\n        '\\n' +\n        'Suggested fix: change your `h(..., [ ... ])` callsite.';\n    err.foreignObject = data.foreignObject;\n    err.parentVnode = data.parentVnode;\n\n    return err;\n}\n\nfunction errorString(obj) {\n    try {\n        return JSON.stringify(obj, null, '    ');\n    } catch (e) {\n        return String(obj);\n    }\n}\n","'use strict';\n\nvar split = require('browser-split');\n\nvar classIdSplit = /([\\.#]?[a-zA-Z0-9\\u007F-\\uFFFF_:-]+)/;\nvar notClassId = /^\\.|#/;\n\nmodule.exports = parseTag;\n\nfunction parseTag(tag, props) {\n    if (!tag) {\n        return 'DIV';\n    }\n\n    var noId = !(props.hasOwnProperty('id'));\n\n    var tagParts = split(tag, classIdSplit);\n    var tagName = null;\n\n    if (notClassId.test(tagParts[1])) {\n        tagName = 'DIV';\n    }\n\n    var classes, part, type, i;\n\n    for (i = 0; i < tagParts.length; i++) {\n        part = tagParts[i];\n\n        if (!part) {\n            continue;\n        }\n\n        type = part.charAt(0);\n\n        if (!tagName) {\n            tagName = part;\n        } else if (type === '.') {\n            classes = classes || [];\n            classes.push(part.substring(1, part.length));\n        } else if (type === '#' && noId) {\n            props.id = part.substring(1, part.length);\n        }\n    }\n\n    if (classes) {\n        if (props.className) {\n            classes.push(props.className);\n        }\n\n        props.className = classes.join(' ');\n    }\n\n    return props.namespace ? tagName : tagName.toUpperCase();\n}\n","'use strict';\n\nvar DEFAULT_NAMESPACE = null;\nvar EV_NAMESPACE = 'http://www.w3.org/2001/xml-events';\nvar XLINK_NAMESPACE = 'http://www.w3.org/1999/xlink';\nvar XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace';\n\n// http://www.w3.org/TR/SVGTiny12/attributeTable.html\n// http://www.w3.org/TR/SVG/attindex.html\nvar SVG_PROPERTIES = {\n    'about': DEFAULT_NAMESPACE,\n    'accent-height': DEFAULT_NAMESPACE,\n    'accumulate': DEFAULT_NAMESPACE,\n    'additive': DEFAULT_NAMESPACE,\n    'alignment-baseline': DEFAULT_NAMESPACE,\n    'alphabetic': DEFAULT_NAMESPACE,\n    'amplitude': DEFAULT_NAMESPACE,\n    'arabic-form': DEFAULT_NAMESPACE,\n    'ascent': DEFAULT_NAMESPACE,\n    'attributeName': DEFAULT_NAMESPACE,\n    'attributeType': DEFAULT_NAMESPACE,\n    'azimuth': DEFAULT_NAMESPACE,\n    'bandwidth': DEFAULT_NAMESPACE,\n    'baseFrequency': DEFAULT_NAMESPACE,\n    'baseProfile': DEFAULT_NAMESPACE,\n    'baseline-shift': DEFAULT_NAMESPACE,\n    'bbox': DEFAULT_NAMESPACE,\n    'begin': DEFAULT_NAMESPACE,\n    'bias': DEFAULT_NAMESPACE,\n    'by': DEFAULT_NAMESPACE,\n    'calcMode': DEFAULT_NAMESPACE,\n    'cap-height': DEFAULT_NAMESPACE,\n    'class': DEFAULT_NAMESPACE,\n    'clip': DEFAULT_NAMESPACE,\n    'clip-path': DEFAULT_NAMESPACE,\n    'clip-rule': DEFAULT_NAMESPACE,\n    'clipPathUnits': DEFAULT_NAMESPACE,\n    'color': DEFAULT_NAMESPACE,\n    'color-interpolation': DEFAULT_NAMESPACE,\n    'color-interpolation-filters': DEFAULT_NAMESPACE,\n    'color-profile': DEFAULT_NAMESPACE,\n    'color-rendering': DEFAULT_NAMESPACE,\n    'content': DEFAULT_NAMESPACE,\n    'contentScriptType': DEFAULT_NAMESPACE,\n    'contentStyleType': DEFAULT_NAMESPACE,\n    'cursor': DEFAULT_NAMESPACE,\n    'cx': DEFAULT_NAMESPACE,\n    'cy': DEFAULT_NAMESPACE,\n    'd': DEFAULT_NAMESPACE,\n    'datatype': DEFAULT_NAMESPACE,\n    'defaultAction': DEFAULT_NAMESPACE,\n    'descent': DEFAULT_NAMESPACE,\n    'diffuseConstant': DEFAULT_NAMESPACE,\n    'direction': DEFAULT_NAMESPACE,\n    'display': DEFAULT_NAMESPACE,\n    'divisor': DEFAULT_NAMESPACE,\n    'dominant-baseline': DEFAULT_NAMESPACE,\n    'dur': DEFAULT_NAMESPACE,\n    'dx': DEFAULT_NAMESPACE,\n    'dy': DEFAULT_NAMESPACE,\n    'edgeMode': DEFAULT_NAMESPACE,\n    'editable': DEFAULT_NAMESPACE,\n    'elevation': DEFAULT_NAMESPACE,\n    'enable-background': DEFAULT_NAMESPACE,\n    'end': DEFAULT_NAMESPACE,\n    'ev:event': EV_NAMESPACE,\n    'event': DEFAULT_NAMESPACE,\n    'exponent': DEFAULT_NAMESPACE,\n    'externalResourcesRequired': DEFAULT_NAMESPACE,\n    'fill': DEFAULT_NAMESPACE,\n    'fill-opacity': DEFAULT_NAMESPACE,\n    'fill-rule': DEFAULT_NAMESPACE,\n    'filter': DEFAULT_NAMESPACE,\n    'filterRes': DEFAULT_NAMESPACE,\n    'filterUnits': DEFAULT_NAMESPACE,\n    'flood-color': DEFAULT_NAMESPACE,\n    'flood-opacity': DEFAULT_NAMESPACE,\n    'focusHighlight': DEFAULT_NAMESPACE,\n    'focusable': DEFAULT_NAMESPACE,\n    'font-family': DEFAULT_NAMESPACE,\n    'font-size': DEFAULT_NAMESPACE,\n    'font-size-adjust': DEFAULT_NAMESPACE,\n    'font-stretch': DEFAULT_NAMESPACE,\n    'font-style': DEFAULT_NAMESPACE,\n    'font-variant': DEFAULT_NAMESPACE,\n    'font-weight': DEFAULT_NAMESPACE,\n    'format': DEFAULT_NAMESPACE,\n    'from': DEFAULT_NAMESPACE,\n    'fx': DEFAULT_NAMESPACE,\n    'fy': DEFAULT_NAMESPACE,\n    'g1': DEFAULT_NAMESPACE,\n    'g2': DEFAULT_NAMESPACE,\n    'glyph-name': DEFAULT_NAMESPACE,\n    'glyph-orientation-horizontal': DEFAULT_NAMESPACE,\n    'glyph-orientation-vertical': DEFAULT_NAMESPACE,\n    'glyphRef': DEFAULT_NAMESPACE,\n    'gradientTransform': DEFAULT_NAMESPACE,\n    'gradientUnits': DEFAULT_NAMESPACE,\n    'handler': DEFAULT_NAMESPACE,\n    'hanging': DEFAULT_NAMESPACE,\n    'height': DEFAULT_NAMESPACE,\n    'horiz-adv-x': DEFAULT_NAMESPACE,\n    'horiz-origin-x': DEFAULT_NAMESPACE,\n    'horiz-origin-y': DEFAULT_NAMESPACE,\n    'id': DEFAULT_NAMESPACE,\n    'ideographic': DEFAULT_NAMESPACE,\n    'image-rendering': DEFAULT_NAMESPACE,\n    'in': DEFAULT_NAMESPACE,\n    'in2': DEFAULT_NAMESPACE,\n    'initialVisibility': DEFAULT_NAMESPACE,\n    'intercept': DEFAULT_NAMESPACE,\n    'k': DEFAULT_NAMESPACE,\n    'k1': DEFAULT_NAMESPACE,\n    'k2': DEFAULT_NAMESPACE,\n    'k3': DEFAULT_NAMESPACE,\n    'k4': DEFAULT_NAMESPACE,\n    'kernelMatrix': DEFAULT_NAMESPACE,\n    'kernelUnitLength': DEFAULT_NAMESPACE,\n    'kerning': DEFAULT_NAMESPACE,\n    'keyPoints': DEFAULT_NAMESPACE,\n    'keySplines': DEFAULT_NAMESPACE,\n    'keyTimes': DEFAULT_NAMESPACE,\n    'lang': DEFAULT_NAMESPACE,\n    'lengthAdjust': DEFAULT_NAMESPACE,\n    'letter-spacing': DEFAULT_NAMESPACE,\n    'lighting-color': DEFAULT_NAMESPACE,\n    'limitingConeAngle': DEFAULT_NAMESPACE,\n    'local': DEFAULT_NAMESPACE,\n    'marker-end': DEFAULT_NAMESPACE,\n    'marker-mid': DEFAULT_NAMESPACE,\n    'marker-start': DEFAULT_NAMESPACE,\n    'markerHeight': DEFAULT_NAMESPACE,\n    'markerUnits': DEFAULT_NAMESPACE,\n    'markerWidth': DEFAULT_NAMESPACE,\n    'mask': DEFAULT_NAMESPACE,\n    'maskContentUnits': DEFAULT_NAMESPACE,\n    'maskUnits': DEFAULT_NAMESPACE,\n    'mathematical': DEFAULT_NAMESPACE,\n    'max': DEFAULT_NAMESPACE,\n    'media': DEFAULT_NAMESPACE,\n    'mediaCharacterEncoding': DEFAULT_NAMESPACE,\n    'mediaContentEncodings': DEFAULT_NAMESPACE,\n    'mediaSize': DEFAULT_NAMESPACE,\n    'mediaTime': DEFAULT_NAMESPACE,\n    'method': DEFAULT_NAMESPACE,\n    'min': DEFAULT_NAMESPACE,\n    'mode': DEFAULT_NAMESPACE,\n    'name': DEFAULT_NAMESPACE,\n    'nav-down': DEFAULT_NAMESPACE,\n    'nav-down-left': DEFAULT_NAMESPACE,\n    'nav-down-right': DEFAULT_NAMESPACE,\n    'nav-left': DEFAULT_NAMESPACE,\n    'nav-next': DEFAULT_NAMESPACE,\n    'nav-prev': DEFAULT_NAMESPACE,\n    'nav-right': DEFAULT_NAMESPACE,\n    'nav-up': DEFAULT_NAMESPACE,\n    'nav-up-left': DEFAULT_NAMESPACE,\n    'nav-up-right': DEFAULT_NAMESPACE,\n    'numOctaves': DEFAULT_NAMESPACE,\n    'observer': DEFAULT_NAMESPACE,\n    'offset': DEFAULT_NAMESPACE,\n    'opacity': DEFAULT_NAMESPACE,\n    'operator': DEFAULT_NAMESPACE,\n    'order': DEFAULT_NAMESPACE,\n    'orient': DEFAULT_NAMESPACE,\n    'orientation': DEFAULT_NAMESPACE,\n    'origin': DEFAULT_NAMESPACE,\n    'overflow': DEFAULT_NAMESPACE,\n    'overlay': DEFAULT_NAMESPACE,\n    'overline-position': DEFAULT_NAMESPACE,\n    'overline-thickness': DEFAULT_NAMESPACE,\n    'panose-1': DEFAULT_NAMESPACE,\n    'path': DEFAULT_NAMESPACE,\n    'pathLength': DEFAULT_NAMESPACE,\n    'patternContentUnits': DEFAULT_NAMESPACE,\n    'patternTransform': DEFAULT_NAMESPACE,\n    'patternUnits': DEFAULT_NAMESPACE,\n    'phase': DEFAULT_NAMESPACE,\n    'playbackOrder': DEFAULT_NAMESPACE,\n    'pointer-events': DEFAULT_NAMESPACE,\n    'points': DEFAULT_NAMESPACE,\n    'pointsAtX': DEFAULT_NAMESPACE,\n    'pointsAtY': DEFAULT_NAMESPACE,\n    'pointsAtZ': DEFAULT_NAMESPACE,\n    'preserveAlpha': DEFAULT_NAMESPACE,\n    'preserveAspectRatio': DEFAULT_NAMESPACE,\n    'primitiveUnits': DEFAULT_NAMESPACE,\n    'propagate': DEFAULT_NAMESPACE,\n    'property': DEFAULT_NAMESPACE,\n    'r': DEFAULT_NAMESPACE,\n    'radius': DEFAULT_NAMESPACE,\n    'refX': DEFAULT_NAMESPACE,\n    'refY': DEFAULT_NAMESPACE,\n    'rel': DEFAULT_NAMESPACE,\n    'rendering-intent': DEFAULT_NAMESPACE,\n    'repeatCount': DEFAULT_NAMESPACE,\n    'repeatDur': DEFAULT_NAMESPACE,\n    'requiredExtensions': DEFAULT_NAMESPACE,\n    'requiredFeatures': DEFAULT_NAMESPACE,\n    'requiredFonts': DEFAULT_NAMESPACE,\n    'requiredFormats': DEFAULT_NAMESPACE,\n    'resource': DEFAULT_NAMESPACE,\n    'restart': DEFAULT_NAMESPACE,\n    'result': DEFAULT_NAMESPACE,\n    'rev': DEFAULT_NAMESPACE,\n    'role': DEFAULT_NAMESPACE,\n    'rotate': DEFAULT_NAMESPACE,\n    'rx': DEFAULT_NAMESPACE,\n    'ry': DEFAULT_NAMESPACE,\n    'scale': DEFAULT_NAMESPACE,\n    'seed': DEFAULT_NAMESPACE,\n    'shape-rendering': DEFAULT_NAMESPACE,\n    'slope': DEFAULT_NAMESPACE,\n    'snapshotTime': DEFAULT_NAMESPACE,\n    'spacing': DEFAULT_NAMESPACE,\n    'specularConstant': DEFAULT_NAMESPACE,\n    'specularExponent': DEFAULT_NAMESPACE,\n    'spreadMethod': DEFAULT_NAMESPACE,\n    'startOffset': DEFAULT_NAMESPACE,\n    'stdDeviation': DEFAULT_NAMESPACE,\n    'stemh': DEFAULT_NAMESPACE,\n    'stemv': DEFAULT_NAMESPACE,\n    'stitchTiles': DEFAULT_NAMESPACE,\n    'stop-color': DEFAULT_NAMESPACE,\n    'stop-opacity': DEFAULT_NAMESPACE,\n    'strikethrough-position': DEFAULT_NAMESPACE,\n    'strikethrough-thickness': DEFAULT_NAMESPACE,\n    'string': DEFAULT_NAMESPACE,\n    'stroke': DEFAULT_NAMESPACE,\n    'stroke-dasharray': DEFAULT_NAMESPACE,\n    'stroke-dashoffset': DEFAULT_NAMESPACE,\n    'stroke-linecap': DEFAULT_NAMESPACE,\n    'stroke-linejoin': DEFAULT_NAMESPACE,\n    'stroke-miterlimit': DEFAULT_NAMESPACE,\n    'stroke-opacity': DEFAULT_NAMESPACE,\n    'stroke-width': DEFAULT_NAMESPACE,\n    'surfaceScale': DEFAULT_NAMESPACE,\n    'syncBehavior': DEFAULT_NAMESPACE,\n    'syncBehaviorDefault': DEFAULT_NAMESPACE,\n    'syncMaster': DEFAULT_NAMESPACE,\n    'syncTolerance': DEFAULT_NAMESPACE,\n    'syncToleranceDefault': DEFAULT_NAMESPACE,\n    'systemLanguage': DEFAULT_NAMESPACE,\n    'tableValues': DEFAULT_NAMESPACE,\n    'target': DEFAULT_NAMESPACE,\n    'targetX': DEFAULT_NAMESPACE,\n    'targetY': DEFAULT_NAMESPACE,\n    'text-anchor': DEFAULT_NAMESPACE,\n    'text-decoration': DEFAULT_NAMESPACE,\n    'text-rendering': DEFAULT_NAMESPACE,\n    'textLength': DEFAULT_NAMESPACE,\n    'timelineBegin': DEFAULT_NAMESPACE,\n    'title': DEFAULT_NAMESPACE,\n    'to': DEFAULT_NAMESPACE,\n    'transform': DEFAULT_NAMESPACE,\n    'transformBehavior': DEFAULT_NAMESPACE,\n    'type': DEFAULT_NAMESPACE,\n    'typeof': DEFAULT_NAMESPACE,\n    'u1': DEFAULT_NAMESPACE,\n    'u2': DEFAULT_NAMESPACE,\n    'underline-position': DEFAULT_NAMESPACE,\n    'underline-thickness': DEFAULT_NAMESPACE,\n    'unicode': DEFAULT_NAMESPACE,\n    'unicode-bidi': DEFAULT_NAMESPACE,\n    'unicode-range': DEFAULT_NAMESPACE,\n    'units-per-em': DEFAULT_NAMESPACE,\n    'v-alphabetic': DEFAULT_NAMESPACE,\n    'v-hanging': DEFAULT_NAMESPACE,\n    'v-ideographic': DEFAULT_NAMESPACE,\n    'v-mathematical': DEFAULT_NAMESPACE,\n    'values': DEFAULT_NAMESPACE,\n    'version': DEFAULT_NAMESPACE,\n    'vert-adv-y': DEFAULT_NAMESPACE,\n    'vert-origin-x': DEFAULT_NAMESPACE,\n    'vert-origin-y': DEFAULT_NAMESPACE,\n    'viewBox': DEFAULT_NAMESPACE,\n    'viewTarget': DEFAULT_NAMESPACE,\n    'visibility': DEFAULT_NAMESPACE,\n    'width': DEFAULT_NAMESPACE,\n    'widths': DEFAULT_NAMESPACE,\n    'word-spacing': DEFAULT_NAMESPACE,\n    'writing-mode': DEFAULT_NAMESPACE,\n    'x': DEFAULT_NAMESPACE,\n    'x-height': DEFAULT_NAMESPACE,\n    'x1': DEFAULT_NAMESPACE,\n    'x2': DEFAULT_NAMESPACE,\n    'xChannelSelector': DEFAULT_NAMESPACE,\n    'xlink:actuate': XLINK_NAMESPACE,\n    'xlink:arcrole': XLINK_NAMESPACE,\n    'xlink:href': XLINK_NAMESPACE,\n    'xlink:role': XLINK_NAMESPACE,\n    'xlink:show': XLINK_NAMESPACE,\n    'xlink:title': XLINK_NAMESPACE,\n    'xlink:type': XLINK_NAMESPACE,\n    'xml:base': XML_NAMESPACE,\n    'xml:id': XML_NAMESPACE,\n    'xml:lang': XML_NAMESPACE,\n    'xml:space': XML_NAMESPACE,\n    'y': DEFAULT_NAMESPACE,\n    'y1': DEFAULT_NAMESPACE,\n    'y2': DEFAULT_NAMESPACE,\n    'yChannelSelector': DEFAULT_NAMESPACE,\n    'z': DEFAULT_NAMESPACE,\n    'zoomAndPan': DEFAULT_NAMESPACE\n};\n\nmodule.exports = SVGAttributeNamespace;\n\nfunction SVGAttributeNamespace(value) {\n  if (SVG_PROPERTIES.hasOwnProperty(value)) {\n    return SVG_PROPERTIES[value];\n  }\n}\n","'use strict';\n\nvar isArray = require('x-is-array');\n\nvar h = require('./index.js');\n\n\nvar SVGAttributeNamespace = require('./svg-attribute-namespace');\nvar attributeHook = require('./hooks/attribute-hook');\n\nvar SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n\nmodule.exports = svg;\n\nfunction svg(tagName, properties, children) {\n    if (!children && isChildren(properties)) {\n        children = properties;\n        properties = {};\n    }\n\n    properties = properties || {};\n\n    // set namespace for svg\n    properties.namespace = SVG_NAMESPACE;\n\n    var attributes = properties.attributes || (properties.attributes = {});\n\n    for (var key in properties) {\n        if (!properties.hasOwnProperty(key)) {\n            continue;\n        }\n\n        var namespace = SVGAttributeNamespace(key);\n\n        if (namespace === undefined) { // not a svg attribute\n            continue;\n        }\n\n        var value = properties[key];\n\n        if (typeof value !== 'string' &&\n            typeof value !== 'number' &&\n            typeof value !== 'boolean'\n        ) {\n            continue;\n        }\n\n        if (namespace !== null) { // namespaced attribute\n            properties[key] = attributeHook(namespace, value);\n            continue;\n        }\n\n        attributes[key] = value\n        properties[key] = undefined\n    }\n\n    return h(tagName, properties, children);\n}\n\nfunction isChildren(x) {\n    return typeof x === 'string' || isArray(x);\n}\n","var isVNode = require(\"./is-vnode\")\nvar isVText = require(\"./is-vtext\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\n\nmodule.exports = handleThunk\n\nfunction handleThunk(a, b) {\n    var renderedA = a\n    var renderedB = b\n\n    if (isThunk(b)) {\n        renderedB = renderThunk(b, a)\n    }\n\n    if (isThunk(a)) {\n        renderedA = renderThunk(a, null)\n    }\n\n    return {\n        a: renderedA,\n        b: renderedB\n    }\n}\n\nfunction renderThunk(thunk, previous) {\n    var renderedThunk = thunk.vnode\n\n    if (!renderedThunk) {\n        renderedThunk = thunk.vnode = thunk.render(previous)\n    }\n\n    if (!(isVNode(renderedThunk) ||\n            isVText(renderedThunk) ||\n            isWidget(renderedThunk))) {\n        throw new Error(\"thunk did not return a valid node\");\n    }\n\n    return renderedThunk\n}\n","module.exports = isThunk\r\n\r\nfunction isThunk(t) {\r\n    return t && t.type === \"Thunk\"\r\n}\r\n","module.exports = isHook\n\nfunction isHook(hook) {\n    return hook &&\n      (typeof hook.hook === \"function\" && !hook.hasOwnProperty(\"hook\") ||\n       typeof hook.unhook === \"function\" && !hook.hasOwnProperty(\"unhook\"))\n}\n","var version = require(\"./version\")\n\nmodule.exports = isVirtualNode\n\nfunction isVirtualNode(x) {\n    return x && x.type === \"VirtualNode\" && x.version === version\n}\n","var version = require(\"./version\")\n\nmodule.exports = isVirtualText\n\nfunction isVirtualText(x) {\n    return x && x.type === \"VirtualText\" && x.version === version\n}\n","module.exports = isWidget\n\nfunction isWidget(w) {\n    return w && w.type === \"Widget\"\n}\n","module.exports = \"2\"\n","var version = require(\"./version\")\nvar isVNode = require(\"./is-vnode\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\nvar isVHook = require(\"./is-vhook\")\n\nmodule.exports = VirtualNode\n\nvar noProperties = {}\nvar noChildren = []\n\nfunction VirtualNode(tagName, properties, children, key, namespace) {\n    this.tagName = tagName\n    this.properties = properties || noProperties\n    this.children = children || noChildren\n    this.key = key != null ? String(key) : undefined\n    this.namespace = (typeof namespace === \"string\") ? namespace : null\n\n    var count = (children && children.length) || 0\n    var descendants = 0\n    var hasWidgets = false\n    var hasThunks = false\n    var descendantHooks = false\n    var hooks\n\n    for (var propName in properties) {\n        if (properties.hasOwnProperty(propName)) {\n            var property = properties[propName]\n            if (isVHook(property) && property.unhook) {\n                if (!hooks) {\n                    hooks = {}\n                }\n\n                hooks[propName] = property\n            }\n        }\n    }\n\n    for (var i = 0; i < count; i++) {\n        var child = children[i]\n        if (isVNode(child)) {\n            descendants += child.count || 0\n\n            if (!hasWidgets && child.hasWidgets) {\n                hasWidgets = true\n            }\n\n            if (!hasThunks && child.hasThunks) {\n                hasThunks = true\n            }\n\n            if (!descendantHooks && (child.hooks || child.descendantHooks)) {\n                descendantHooks = true\n            }\n        } else if (!hasWidgets && isWidget(child)) {\n            if (typeof child.destroy === \"function\") {\n                hasWidgets = true\n            }\n        } else if (!hasThunks && isThunk(child)) {\n            hasThunks = true;\n        }\n    }\n\n    this.count = count + descendants\n    this.hasWidgets = hasWidgets\n    this.hasThunks = hasThunks\n    this.hooks = hooks\n    this.descendantHooks = descendantHooks\n}\n\nVirtualNode.prototype.version = version\nVirtualNode.prototype.type = \"VirtualNode\"\n","var version = require(\"./version\")\n\nVirtualPatch.NONE = 0\nVirtualPatch.VTEXT = 1\nVirtualPatch.VNODE = 2\nVirtualPatch.WIDGET = 3\nVirtualPatch.PROPS = 4\nVirtualPatch.ORDER = 5\nVirtualPatch.INSERT = 6\nVirtualPatch.REMOVE = 7\nVirtualPatch.THUNK = 8\n\nmodule.exports = VirtualPatch\n\nfunction VirtualPatch(type, vNode, patch) {\n    this.type = Number(type)\n    this.vNode = vNode\n    this.patch = patch\n}\n\nVirtualPatch.prototype.version = version\nVirtualPatch.prototype.type = \"VirtualPatch\"\n","var version = require(\"./version\")\n\nmodule.exports = VirtualText\n\nfunction VirtualText(text) {\n    this.text = String(text)\n}\n\nVirtualText.prototype.version = version\nVirtualText.prototype.type = \"VirtualText\"\n","var isObject = require(\"is-object\")\nvar isHook = require(\"../vnode/is-vhook\")\n\nmodule.exports = diffProps\n\nfunction diffProps(a, b) {\n    var diff\n\n    for (var aKey in a) {\n        if (!(aKey in b)) {\n            diff = diff || {}\n            diff[aKey] = undefined\n        }\n\n        var aValue = a[aKey]\n        var bValue = b[aKey]\n\n        if (aValue === bValue) {\n            continue\n        } else if (isObject(aValue) && isObject(bValue)) {\n            if (getPrototype(bValue) !== getPrototype(aValue)) {\n                diff = diff || {}\n                diff[aKey] = bValue\n            } else if (isHook(bValue)) {\n                 diff = diff || {}\n                 diff[aKey] = bValue\n            } else {\n                var objectDiff = diffProps(aValue, bValue)\n                if (objectDiff) {\n                    diff = diff || {}\n                    diff[aKey] = objectDiff\n                }\n            }\n        } else {\n            diff = diff || {}\n            diff[aKey] = bValue\n        }\n    }\n\n    for (var bKey in b) {\n        if (!(bKey in a)) {\n            diff = diff || {}\n            diff[bKey] = b[bKey]\n        }\n    }\n\n    return diff\n}\n\nfunction getPrototype(value) {\n  if (Object.getPrototypeOf) {\n    return Object.getPrototypeOf(value)\n  } else if (value.__proto__) {\n    return value.__proto__\n  } else if (value.constructor) {\n    return value.constructor.prototype\n  }\n}\n","var isArray = require(\"x-is-array\")\n\nvar VPatch = require(\"../vnode/vpatch\")\nvar isVNode = require(\"../vnode/is-vnode\")\nvar isVText = require(\"../vnode/is-vtext\")\nvar isWidget = require(\"../vnode/is-widget\")\nvar isThunk = require(\"../vnode/is-thunk\")\nvar handleThunk = require(\"../vnode/handle-thunk\")\n\nvar diffProps = require(\"./diff-props\")\n\nmodule.exports = diff\n\nfunction diff(a, b) {\n    var patch = { a: a }\n    walk(a, b, patch, 0)\n    return patch\n}\n\nfunction walk(a, b, patch, index) {\n    if (a === b) {\n        return\n    }\n\n    var apply = patch[index]\n    var applyClear = false\n\n    if (isThunk(a) || isThunk(b)) {\n        thunks(a, b, patch, index)\n    } else if (b == null) {\n\n        // If a is a widget we will add a remove patch for it\n        // Otherwise any child widgets/hooks must be destroyed.\n        // This prevents adding two remove patches for a widget.\n        if (!isWidget(a)) {\n            clearState(a, patch, index)\n            apply = patch[index]\n        }\n\n        apply = appendPatch(apply, new VPatch(VPatch.REMOVE, a, b))\n    } else if (isVNode(b)) {\n        if (isVNode(a)) {\n            if (a.tagName === b.tagName &&\n                a.namespace === b.namespace &&\n                a.key === b.key) {\n                var propsPatch = diffProps(a.properties, b.properties)\n                if (propsPatch) {\n                    apply = appendPatch(apply,\n                        new VPatch(VPatch.PROPS, a, propsPatch))\n                }\n                apply = diffChildren(a, b, patch, apply, index)\n            } else {\n                apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b))\n                applyClear = true\n            }\n        } else {\n            apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b))\n            applyClear = true\n        }\n    } else if (isVText(b)) {\n        if (!isVText(a)) {\n            apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b))\n            applyClear = true\n        } else if (a.text !== b.text) {\n            apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b))\n        }\n    } else if (isWidget(b)) {\n        if (!isWidget(a)) {\n            applyClear = true\n        }\n\n        apply = appendPatch(apply, new VPatch(VPatch.WIDGET, a, b))\n    }\n\n    if (apply) {\n        patch[index] = apply\n    }\n\n    if (applyClear) {\n        clearState(a, patch, index)\n    }\n}\n\nfunction diffChildren(a, b, patch, apply, index) {\n    var aChildren = a.children\n    var orderedSet = reorder(aChildren, b.children)\n    var bChildren = orderedSet.children\n\n    var aLen = aChildren.length\n    var bLen = bChildren.length\n    var len = aLen > bLen ? aLen : bLen\n\n    for (var i = 0; i < len; i++) {\n        var leftNode = aChildren[i]\n        var rightNode = bChildren[i]\n        index += 1\n\n        if (!leftNode) {\n            if (rightNode) {\n                // Excess nodes in b need to be added\n                apply = appendPatch(apply,\n                    new VPatch(VPatch.INSERT, null, rightNode))\n            }\n        } else {\n            walk(leftNode, rightNode, patch, index)\n        }\n\n        if (isVNode(leftNode) && leftNode.count) {\n            index += leftNode.count\n        }\n    }\n\n    if (orderedSet.moves) {\n        // Reorder nodes last\n        apply = appendPatch(apply, new VPatch(\n            VPatch.ORDER,\n            a,\n            orderedSet.moves\n        ))\n    }\n\n    return apply\n}\n\nfunction clearState(vNode, patch, index) {\n    // TODO: Make this a single walk, not two\n    unhook(vNode, patch, index)\n    destroyWidgets(vNode, patch, index)\n}\n\n// Patch records for all destroyed widgets must be added because we need\n// a DOM node reference for the destroy function\nfunction destroyWidgets(vNode, patch, index) {\n    if (isWidget(vNode)) {\n        if (typeof vNode.destroy === \"function\") {\n            patch[index] = appendPatch(\n                patch[index],\n                new VPatch(VPatch.REMOVE, vNode, null)\n            )\n        }\n    } else if (isVNode(vNode) && (vNode.hasWidgets || vNode.hasThunks)) {\n        var children = vNode.children\n        var len = children.length\n        for (var i = 0; i < len; i++) {\n            var child = children[i]\n            index += 1\n\n            destroyWidgets(child, patch, index)\n\n            if (isVNode(child) && child.count) {\n                index += child.count\n            }\n        }\n    } else if (isThunk(vNode)) {\n        thunks(vNode, null, patch, index)\n    }\n}\n\n// Create a sub-patch for thunks\nfunction thunks(a, b, patch, index) {\n    var nodes = handleThunk(a, b)\n    var thunkPatch = diff(nodes.a, nodes.b)\n    if (hasPatches(thunkPatch)) {\n        patch[index] = new VPatch(VPatch.THUNK, null, thunkPatch)\n    }\n}\n\nfunction hasPatches(patch) {\n    for (var index in patch) {\n        if (index !== \"a\") {\n            return true\n        }\n    }\n\n    return false\n}\n\n// Execute hooks when two nodes are identical\nfunction unhook(vNode, patch, index) {\n    if (isVNode(vNode)) {\n        if (vNode.hooks) {\n            patch[index] = appendPatch(\n                patch[index],\n                new VPatch(\n                    VPatch.PROPS,\n                    vNode,\n                    undefinedKeys(vNode.hooks)\n                )\n            )\n        }\n\n        if (vNode.descendantHooks || vNode.hasThunks) {\n            var children = vNode.children\n            var len = children.length\n            for (var i = 0; i < len; i++) {\n                var child = children[i]\n                index += 1\n\n                unhook(child, patch, index)\n\n                if (isVNode(child) && child.count) {\n                    index += child.count\n                }\n            }\n        }\n    } else if (isThunk(vNode)) {\n        thunks(vNode, null, patch, index)\n    }\n}\n\nfunction undefinedKeys(obj) {\n    var result = {}\n\n    for (var key in obj) {\n        result[key] = undefined\n    }\n\n    return result\n}\n\n// List diff, naive left to right reordering\nfunction reorder(aChildren, bChildren) {\n    // O(M) time, O(M) memory\n    var bChildIndex = keyIndex(bChildren)\n    var bKeys = bChildIndex.keys\n    var bFree = bChildIndex.free\n\n    if (bFree.length === bChildren.length) {\n        return {\n            children: bChildren,\n            moves: null\n        }\n    }\n\n    // O(N) time, O(N) memory\n    var aChildIndex = keyIndex(aChildren)\n    var aKeys = aChildIndex.keys\n    var aFree = aChildIndex.free\n\n    if (aFree.length === aChildren.length) {\n        return {\n            children: bChildren,\n            moves: null\n        }\n    }\n\n    // O(MAX(N, M)) memory\n    var newChildren = []\n\n    var freeIndex = 0\n    var freeCount = bFree.length\n    var deletedItems = 0\n\n    // Iterate through a and match a node in b\n    // O(N) time,\n    for (var i = 0 ; i < aChildren.length; i++) {\n        var aItem = aChildren[i]\n        var itemIndex\n\n        if (aItem.key) {\n            if (bKeys.hasOwnProperty(aItem.key)) {\n                // Match up the old keys\n                itemIndex = bKeys[aItem.key]\n                newChildren.push(bChildren[itemIndex])\n\n            } else {\n                // Remove old keyed items\n                itemIndex = i - deletedItems++\n                newChildren.push(null)\n            }\n        } else {\n            // Match the item in a with the next free item in b\n            if (freeIndex < freeCount) {\n                itemIndex = bFree[freeIndex++]\n                newChildren.push(bChildren[itemIndex])\n            } else {\n                // There are no free items in b to match with\n                // the free items in a, so the extra free nodes\n                // are deleted.\n                itemIndex = i - deletedItems++\n                newChildren.push(null)\n            }\n        }\n    }\n\n    var lastFreeIndex = freeIndex >= bFree.length ?\n        bChildren.length :\n        bFree[freeIndex]\n\n    // Iterate through b and append any new keys\n    // O(M) time\n    for (var j = 0; j < bChildren.length; j++) {\n        var newItem = bChildren[j]\n\n        if (newItem.key) {\n            if (!aKeys.hasOwnProperty(newItem.key)) {\n                // Add any new keyed items\n                // We are adding new items to the end and then sorting them\n                // in place. In future we should insert new items in place.\n                newChildren.push(newItem)\n            }\n        } else if (j >= lastFreeIndex) {\n            // Add any leftover non-keyed items\n            newChildren.push(newItem)\n        }\n    }\n\n    var simulate = newChildren.slice()\n    var simulateIndex = 0\n    var removes = []\n    var inserts = []\n    var simulateItem\n\n    for (var k = 0; k < bChildren.length;) {\n        var wantedItem = bChildren[k]\n        simulateItem = simulate[simulateIndex]\n\n        // remove items\n        while (simulateItem === null && simulate.length) {\n            removes.push(remove(simulate, simulateIndex, null))\n            simulateItem = simulate[simulateIndex]\n        }\n\n        if (!simulateItem || simulateItem.key !== wantedItem.key) {\n            // if we need a key in this position...\n            if (wantedItem.key) {\n                if (simulateItem && simulateItem.key) {\n                    // if an insert doesn't put this key in place, it needs to move\n                    if (bKeys[simulateItem.key] !== k + 1) {\n                        removes.push(remove(simulate, simulateIndex, simulateItem.key))\n                        simulateItem = simulate[simulateIndex]\n                        // if the remove didn't put the wanted item in place, we need to insert it\n                        if (!simulateItem || simulateItem.key !== wantedItem.key) {\n                            inserts.push({key: wantedItem.key, to: k})\n                        }\n                        // items are matching, so skip ahead\n                        else {\n                            simulateIndex++\n                        }\n                    }\n                    else {\n                        inserts.push({key: wantedItem.key, to: k})\n                    }\n                }\n                else {\n                    inserts.push({key: wantedItem.key, to: k})\n                }\n                k++\n            }\n            // a key in simulate has no matching wanted key, remove it\n            else if (simulateItem && simulateItem.key) {\n                removes.push(remove(simulate, simulateIndex, simulateItem.key))\n            }\n        }\n        else {\n            simulateIndex++\n            k++\n        }\n    }\n\n    // remove all the remaining nodes from simulate\n    while(simulateIndex < simulate.length) {\n        simulateItem = simulate[simulateIndex]\n        removes.push(remove(simulate, simulateIndex, simulateItem && simulateItem.key))\n    }\n\n    // If the only moves we have are deletes then we can just\n    // let the delete patch remove these items.\n    if (removes.length === deletedItems && !inserts.length) {\n        return {\n            children: newChildren,\n            moves: null\n        }\n    }\n\n    return {\n        children: newChildren,\n        moves: {\n            removes: removes,\n            inserts: inserts\n        }\n    }\n}\n\nfunction remove(arr, index, key) {\n    arr.splice(index, 1)\n\n    return {\n        from: index,\n        key: key\n    }\n}\n\nfunction keyIndex(children) {\n    var keys = {}\n    var free = []\n    var length = children.length\n\n    for (var i = 0; i < length; i++) {\n        var child = children[i]\n\n        if (child.key) {\n            keys[child.key] = i\n        } else {\n            free.push(i)\n        }\n    }\n\n    return {\n        keys: keys,     // A hash of key name to index\n        free: free      // An array of unkeyed item indices\n    }\n}\n\nfunction appendPatch(apply, patch) {\n    if (apply) {\n        if (isArray(apply)) {\n            apply.push(patch)\n        } else {\n            apply = [apply, patch]\n        }\n\n        return apply\n    } else {\n        return patch\n    }\n}\n","import _ from \"underscore\"\nimport Bezier from \"bezier-js\"\nimport Vector from \"./vector\"\n\nclass Anchor {\n\n  add(vec) {\n    var a = this.copy();\n    if(a.vec1) a.vec1 = a.vec1.add(vec);\n    if(a.vec2) a.vec2 = a.vec2.add(vec);\n    if(a.vec3) a.vec3 = a.vec3.add(vec);\n    return a;\n  }\n\n  sub(vec) {\n    var a = this.copy();\n    if(a.vec1) a.vec1 = a.vec1.sub(vec);\n    if(a.vec2) a.vec2 = a.vec2.sub(vec);\n    if(a.vec3) a.vec3 = a.vec3.sub(vec);\n    return a;\n  }\n\n  copy() {\n    var a = new Anchor();\n    a.command = this.command;\n    if(this.vec1) a.vec1 = this.vec1.copy();\n    if(this.vec2) a.vec2 = this.vec2.copy();\n    if(this.vec3) a.vec3 = this.vec3.copy();\n    return a;\n  }\n\n  setMove(x, y) {\n    this.command = 'move';\n    this.vec1 = new Vector(x, y);\n    return this;\n  }\n\n  setLine(x, y) {\n    this.command = 'line';\n    this.vec1 = new Vector(x, y);\n    return this;\n  }\n\n  setCurve(a, b, c, d, e, f) {\n\n    // cubic bezier with two control points\n    if(!_.isUndefined(f)) {\n      this.command = 'cubic';\n      this.vec1 = new Vector(a, b);\n      this.vec2 = new Vector(c, d);\n      this.vec3 = new Vector(e, f);\n    }\n\n    // quad bezier with one control point\n    else {\n      this.command = 'quad';\n      this.vec1 = new Vector(a, b);\n      this.vec2 = new Vector(c, d);\n    }\n\n    return this;\n  }\n\n  setClose() {\n    this.command = 'close';\n    return this;\n  }\n\n  length() {\n    if(this.command == 'move') {\n      return 0;\n    }\n    else if(this.command == 'line') {\n      return this.vec1.length();\n    }\n    else if(this.command == 'quad') {\n      return new Bezier(0, 0, this.vec1.x, this.vec1.y, this.vec2.x, this.vec2.y).length();\n    }\n    else if(this.command == 'cubic') {\n      return new Bezier(0, 0, this.vec1.x, this.vec1.y, this.vec2.x, this.vec2.y, this.vec3.x, this.vec3.y).length();\n    }\n    else {\n      throw new Error(\"Cannot compute length for this type of anchor\")\n    }\n  }\n\n  vectorAt(scalar) {\n\n    if(scalar > 1) scalar = 1;\n    if(scalar < 0) scalar = 0;\n\n    var ax, bx, cx;\n    var ay, by, cy;\n    var tSquared, tDoubled, tCubed;\n    var dx, dy;\n\n    if(this.command == 'line') {\n      return new Vector(this.vec1.x, this.vec1.y).multiply(scalar)\n    }\n    else if(this.command == 'quad') {\n      return new Bezier(0, 0, this.vec1.x, this.vec1.y, this.vec2.x, this.vec2.y).get(scalar);\n    }\n    else if(this.command == 'cubic') {\n      return new Bezier(0, 0, this.vec1.x, this.vec1.y, this.vec2.x, this.vec2.y, this.vec3.x, this.vec3.y).get(scalar);\n    }\n    else {\n      throw new Error(\"Cannot compute vectorAt for this type of anchor\")\n    }\n  }\n\n}\n\nexport default Anchor;","// This code was adapted from the brillinat color-js by harthur\n// See more here: https://github.com/harthur/color\nimport _ from \"underscore\";\nimport colorConvert from 'color-convert';\nimport colorString from 'color-string';\n\nclass Color {\n\n  constructor(a, b, c, d, e) {\n\n    this.values = {\n      rgb: [0, 0, 0],\n      hsl: [0, 0, 0],\n      hsv: [0, 0, 0],\n      hwb: [0, 0, 0],\n      cmyk: [0, 0, 0, 0],\n      alpha: 1\n    }\n\n    // COLOR\n    if(a instanceof Color) {\n      return a;\n    }\n\n    // HSB\n    else if(a == 'hsv') {\n      this.setValues('hsv', {h:b % 360, s:c, v:d});\n      if(e) this.setValues('alpha', e);\n    }\n\n    // HEX\n    else if(_.isString(a)) {\n      var vals = colorString.getRgba(a);\n      if (vals)                             this.setValues('rgb', vals);\n      else if (vals = colorString.getHsla(a))  this.setValues('hsl', vals);\n      else if(vals = colorString.getHwb(a))    this.setValues('hwb', vals);\n      else throw new Error(\"Unable to parse color from string \\\"\" + a + \"\\\"\");\n      if(b) this.setValues('alpha', b);\n    }\n\n    // GRAYSCALE\n    else if(_.isUndefined(c)) {\n      this.setValues('rgb', {r:a, g:a, b:a});\n      if(b) this.setValues('alpha', b);\n    }\n\n    // RGB\n    else if(!_.isUndefined(a)) {\n      this.setValues('rgb', {r:a, g:b, b:c});\n      if(d) this.setValues('alpha', d);\n    }\n\n  }\n\n  rgb(vals) {\n    return this.setSpace(\"rgb\", arguments);\n  }\n\n  hsl(vals) {\n    return this.setSpace(\"hsl\", arguments);\n  }\n\n  hsv(vals) {\n    return this.setSpace(\"hsv\", arguments);\n  }\n\n  hwb(vals) {\n    return this.setSpace(\"hwb\", arguments);\n  }\n\n  cmyk(vals) {\n    return this.setSpace(\"cmyk\", arguments);\n  }\n\n  rgbArray() {\n    return this.values.rgb;\n  }\n\n  hslArray() {\n    return this.values.hsl;\n  }\n\n  hsvArray() {\n    return this.values.hsv;\n  }\n\n  hwbArray() {\n    if (this.values.alpha !== 1) {\n      return this.values.hwb.concat([this.values.alpha])\n    }\n    return this.values.hwb;\n  }\n\n  cmykArray() {\n    return this.values.cmyk;\n  }\n\n  rgbaArray() {\n    var rgb = this.values.rgb;\n    return rgb.concat([this.values.alpha]);\n  }\n\n  hslaArray() {\n    var hsl = this.values.hsl;\n    return hsl.concat([this.values.alpha]);\n  }\n\n  alpha(val) {\n    if (val === undefined) {\n       return this.values.alpha;\n    }\n    this.setValues(\"alpha\", val);\n    return this;\n  }\n\n  red(val) {\n    return this.setChannel(\"rgb\", 0, val);\n  }\n\n  green(val) {\n    return this.setChannel(\"rgb\", 1, val);\n  }\n\n  blue(val) {\n    return this.setChannel(\"rgb\", 2, val);\n  }\n\n  hue(val) {\n    return this.setChannel(\"hsl\", 0, val);\n  }\n\n  saturation(val) {\n    return this.setChannel(\"hsl\", 1, val);\n  }\n\n  lightness(val) {\n    return this.setChannel(\"hsl\", 2, val);\n  }\n\n  saturationv(val) {\n    return this.setChannel(\"hsv\", 1, val);\n  }\n\n  whiteness(val) {\n    return this.setChannel(\"hwb\", 1, val);\n  }\n\n  blackness(val) {\n    return this.setChannel(\"hwb\", 2, val);\n  }\n\n  value(val) {\n    return this.setChannel(\"hsv\", 2, val);\n  }\n\n  cyan(val) {\n    return this.setChannel(\"cmyk\", 0, val);\n  }\n\n  magenta(val) {\n    return this.setChannel(\"cmyk\", 1, val);\n  }\n\n  yellow(val) {\n    return this.setChannel(\"cmyk\", 2, val);\n  }\n\n  black(val) {\n    return this.setChannel(\"cmyk\", 3, val);\n  }\n\n  hexString() {\n    return colorString.hexString(this.values.rgb);\n  }\n\n  rgbString() {\n    return colorString.rgbString(this.values.rgb, this.values.alpha);\n  }\n\n  rgbaString() {\n    return colorString.rgbaString(this.values.rgb, this.values.alpha);\n  }\n\n  percentString() {\n    return colorString.percentString(this.values.rgb, this.values.alpha);\n  }\n\n  hslString() {\n    return colorString.hslString(this.values.hsl, this.values.alpha);\n  }\n\n  hslaString() {\n    return colorString.hslaString(this.values.hsl, this.values.alpha);\n  }\n\n  hwbString() {\n    return colorString.hwbString(this.values.hwb, this.values.alpha);\n  }\n\n  keyword() {\n    return colorString.keyword(this.values.rgb, this.values.alpha);\n  }\n\n  rgbNumber() {\n    return (this.values.rgb[0] << 16) | (this.values.rgb[1] << 8) | this.values.rgb[2];\n  }\n\n  luminosity() {\n    // http://www.w3.org/TR/WCAG20/#relativeluminancedef\n    var rgb = this.values.rgb;\n    var lum = [];\n    for (var i = 0; i < rgb.length; i++) {\n      var chan = rgb[i] / 255;\n      lum[i] = (chan <= 0.03928) ? chan / 12.92\n                : Math.pow(((chan + 0.055) / 1.055), 2.4)\n    }\n    return 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n  }\n\n  contrast(color2) {\n    // http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n    var lum1 = this.luminosity();\n    var lum2 = color2.luminosity();\n    if (lum1 > lum2) {\n       return (lum1 + 0.05) / (lum2 + 0.05)\n    };\n    return (lum2 + 0.05) / (lum1 + 0.05);\n  }\n\n  level(color2) {\n    var contrastRatio = this.contrast(color2);\n    return (contrastRatio >= 7.1)\n      ? 'AAA'\n      : (contrastRatio >= 4.5)\n       ? 'AA'\n       : '';\n  }\n\n  dark() {\n    // YIQ equation from http://24ways.org/2010/calculating-color-contrast\n    var rgb = this.values.rgb,\n        yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n    return yiq < 128;\n  }\n\n  light() {\n    return !this.dark();\n  }\n\n  negate() {\n    var rgb = []\n    for (var i = 0; i < 3; i++) {\n       rgb[i] = 255 - this.values.rgb[i];\n    }\n    this.setValues(\"rgb\", rgb);\n    return this;\n  }\n\n  lighten(ratio) {\n    this.values.hsl[2] += this.values.hsl[2] * ratio;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  darken(ratio) {\n    this.values.hsl[2] -= this.values.hsl[2] * ratio;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  saturate(ratio) {\n    this.values.hsl[1] += this.values.hsl[1] * ratio;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  desaturate(ratio) {\n    this.values.hsl[1] -= this.values.hsl[1] * ratio;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  whiten(ratio) {\n    this.values.hwb[1] += this.values.hwb[1] * ratio;\n    this.setValues(\"hwb\", this.values.hwb);\n    return this;\n  }\n\n  blacken(ratio) {\n    this.values.hwb[2] += this.values.hwb[2] * ratio;\n    this.setValues(\"hwb\", this.values.hwb);\n    return this;\n  }\n\n  greyscale() {\n    var rgb = this.values.rgb;\n    // http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n    var val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n    this.setValues(\"rgb\", [val, val, val]);\n    return this;\n  }\n\n  clearer(ratio) {\n    this.setValues(\"alpha\", this.values.alpha - (this.values.alpha * ratio));\n    return this;\n  }\n\n  opaquer(ratio) {\n    this.setValues(\"alpha\", this.values.alpha + (this.values.alpha * ratio));\n    return this;\n  }\n\n  rotate(degrees) {\n    var hue = this.values.hsl[0];\n    hue = (hue + degrees) % 360;\n    hue = hue < 0 ? 360 + hue : hue;\n    this.values.hsl[0] = hue;\n    this.setValues(\"hsl\", this.values.hsl);\n    return this;\n  }\n\n  /**\n   * Ported from sass implementation in C\n   * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n   */\n  mix(mixinColor, weight) {\n    var color1 = this;\n    var color2 = mixinColor;\n    var p = weight !== undefined ? weight : 0.5;\n\n    var w = 2 * p - 1;\n    var a = color1.alpha() - color2.alpha();\n\n    var w1 = (((w * a == -1) ? w : (w + a)/(1 + w*a)) + 1) / 2.0;\n    var w2 = 1 - w1;\n\n    return this\n      .rgb(\n        w1 * color1.red() + w2 * color2.red(),\n        w1 * color1.green() + w2 * color2.green(),\n        w1 * color1.blue() + w2 * color2.blue()\n      )\n      .alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n  }\n\n  toJSON() {\n    return this.rgb();\n  }\n\n  copy() {\n    return new Color().rgb(this.rgb());\n  }\n\n  getValues(space) {\n    var vals = {};\n    for (var i = 0; i < space.length; i++) {\n      vals[space.charAt(i)] = this.values[space][i];\n    }\n    if (this.values.alpha != 1) {\n      vals[\"a\"] = this.values.alpha;\n    }\n    // {r: 255, g: 255, b: 255, a: 0.4}\n    return vals;\n  }\n\n  setValues(space, vals) {\n\n    var spaces = {\n      \"rgb\": [\"red\", \"green\", \"blue\"],\n      \"hsl\": [\"hue\", \"saturation\", \"lightness\"],\n      \"hsv\": [\"hue\", \"saturation\", \"value\"],\n      \"hwb\": [\"hue\", \"whiteness\", \"blackness\"],\n      \"cmyk\": [\"cyan\", \"magenta\", \"yellow\", \"black\"]\n    };\n\n    var maxes = {\n      \"rgb\": [255, 255, 255],\n      \"hsl\": [360, 100, 100],\n      \"hsv\": [360, 100, 100],\n      \"hwb\": [360, 100, 100],\n      \"cmyk\": [100, 100, 100, 100]\n    };\n\n    var alpha = 1;\n    if (space == \"alpha\") {\n       alpha = vals;\n    }\n    else if (vals.length) {\n      // [10, 10, 10]\n      this.values[space] = vals.slice(0, space.length);\n      alpha = vals[space.length];\n    }\n    else if (vals[space.charAt(0)] !== undefined) {\n      // {r: 10, g: 10, b: 10}\n      for (var i = 0; i < space.length; i++) {\n        this.values[space][i] = vals[space.charAt(i)];\n      }\n      alpha = vals.a;\n    }\n    else if (vals[spaces[space][0]] !== undefined) {\n      // {red: 10, green: 10, blue: 10}\n      var chans = spaces[space];\n      for (var i = 0; i < space.length; i++) {\n        this.values[space][i] = vals[chans[i]];\n      }\n      alpha = vals.alpha;\n    }\n    this.values.alpha = Math.max(0, Math.min(1, (alpha !== undefined ? alpha : this.values.alpha) ));\n    if (space == \"alpha\") {\n      return;\n    }\n\n    // cap values of the space prior converting all values\n    for (var i = 0; i < space.length; i++) {\n      var capped = Math.max(0, Math.min(maxes[space][i], this.values[space][i]));\n      this.values[space][i] = Math.round(capped);\n    }\n\n    // convert to all the other color spaces\n    for (var sname in spaces) {\n      if (sname != space) {\n        this.values[sname] = colorConvert[space][sname](this.values[space])\n      }\n\n      // cap values\n      for (var i = 0; i < sname.length; i++) {\n        var capped = Math.max(0, Math.min(maxes[sname][i], this.values[sname][i]));\n        this.values[sname][i] = Math.round(capped);\n      }\n    }\n    return true;\n  }\n\n  setSpace(space, args) {\n    var vals = args[0];\n    if (vals === undefined) {\n      // color.rgb()\n      return this.getValues(space);\n    }\n    // color.rgb(10, 10, 10)\n    if (typeof vals == \"number\") {\n      vals = Array.prototype.slice.call(args);\n    }\n    this.setValues(space, vals);\n    return this;\n  }\n\n  setChannel(space, index, val) {\n    if (val === undefined) {\n      // color.red()\n      return this.values[space][index];\n    }\n    // color.red(100)\n    this.values[space][index] = val;\n    this.setValues(space, this.values[space]);\n    return this;\n  }\n\n}\n\nexport default Color;","var Events = {\n\n  on: function(name, callback) {\n    if (!this._events) this._events = {};\n    this._events[name] = this._events[name] || [];\n    this._events[name].push(callback);\n    return this;\n  },\n\n  off: function(name, callback) {\n    if (this._events[name] && !callback) {\n      delete this._events[name];\n    } else if (this._events[name]) {\n      name = this._events[name];\n      var i = name.length;\n      while (i--) if (name[i] === callback) name.splice(i - 1, 1);\n    } else if (arguments.length === 0) {\n      this._events = {};\n    }\n    return this;\n  },\n\n  trigger: function(name) {\n    if (this._events && this._events[name]) {\n      var theseEvents = this._events[name];\n      var args = (arguments.length > 1) ? [arguments[1]] : [];\n      var i = theseEvents.length;\n      while (i--) {\n        theseEvents[i].apply(this, args);\n      }\n    }\n    return this;\n  }\n\n}\n\nexport default Events;","import _ from \"underscore\"\nimport { Shapeable, Moveable } from \"./mixins\"\nimport Group from './group'\n\nclass Grid {\n\n  constructor(options) {\n    this.moveable();\n    this.modules = [];\n\n    var req = _.defaults(options || {}, {\n      x:0,\n      y:0,\n      columns:10,\n      rows:1,\n      gutterWidth: 0,\n      gutterHeight: 0,\n      moduleWidth:50,\n      moduleHeight:500\n    });\n\n    // if gutter is set, override gutterWidth and gutterHeight\n    if(!_.isUndefined(req.gutter)) {\n      req.gutterWidth = req.gutter;\n      req.gutterHeight = req.gutter;\n    }\n\n    // if width is set, override moduleWidth\n    if(!_.isUndefined(req.width)) {\n      req.moduleWidth = (req.width - ((req.columns-1) * req.gutterWidth)) / req.columns;\n    } else {\n      req.width = (req.moduleWidth * req.columns) + (req.gutterWidth * (req.columns-1))\n    }\n\n    // if height is set, override moduleWidth\n    if(!_.isUndefined(req.height)) {\n      req.moduleHeight = (req.height - ((req.rows-1) * req.gutterHeight)) / req.rows;\n    } else {\n      req.height = (req.moduleHeight * req.rows) + (req.gutterHeight * (req.rows-1))\n    }\n\n    _.extend(this.vars, req);\n\n    this.computeGrid();\n  }\n\n  add(child, column, row) {\n\n    if(!column) column = 1;\n    if(!row) row = 1;\n\n    if(this.modules[column-1] && this.modules[column-1][row-1]) {\n      this.modules[column-1][row-1].add(child);\n    }\n    else {\n      throw new Error(\"Column or row does not exist\");\n    }\n  }\n\n  computeGrid() {\n\n    this.modules = [];\n\n    for(var x = 0; x < this.vars.columns; x++) {\n\n      this.modules.push([]);\n\n      for(var y = 0; y < this.vars.rows; y++) {\n\n        var groupX = (x * this.vars.moduleWidth) + (x * this.vars.gutterWidth);\n        var groupY = (y * this.vars.moduleHeight) + (y * this.vars.gutterHeight);\n        this.modules[x].push(new Group(groupX, groupY));\n      }\n    }\n  }\n\n}\n\n_.extend(Grid.prototype, Shapeable, Moveable, { type: \"grid\" });\n\nexport default Grid;","import _ from \"underscore\"\nimport { Moveable, Groupable } from \"./mixins\"\nimport Utils from './utils'\n\nclass Group {\n\n  constructor(x, y) {\n    this.moveable();\n    this.children = [];\n\n    if(!_.isUndefined(x)) this.vars.x = x;\n    if(!_.isUndefined(y)) this.vars.y = y;\n  }\n\n  add(child) {\n    if(child.parent) child.parent.remove(child);\n    this.children.push(child);\n    child.parent = this;\n  }\n\n  remove(child) {\n    this.children = _.without(this.children, child);\n    child.parent = false;\n  }\n\n  copy(parent) {\n    var copy = new Group();\n    _.each(this.children, function(child) {\n      child.copy(copy);\n    });\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n// Should we figure out a better way to do mixins for ES6?\n_.extend(Group.prototype, Moveable, Groupable, {type: \"group\"});\n\nexport default Group;","import Utils from './utils'\nimport Color from './color'\n\nvar Moveable = {\n\n  moveable: function(copy) {\n    this.vars = this.vars || {};\n    this.vars.x = copy ? copy.vars.x : 0;\n    this.vars.y = copy ? copy.vars.y : 0;\n    this.vars.rotation = copy ? copy.vars.rotation : 0;\n    this.vars.rotationX = copy ? copy.vars.rotationX : 0;\n    this.vars.rotationY = copy ? copy.vars.rotationY : 0;\n  },\n\n  move: function(x, y, relative) {\n    this.vars.x = relative ? this.vars.x + x : x;\n    this.vars.y = relative ? this.vars.y + y : y;\n    return this;\n  },\n\n  rotate: function(deg, x, y, relative) {\n    this.vars.rotation = deg;\n    if(x || y) {\n      this.vars.rotationX = x || 0;\n      this.vars.rotationY = y || 0;\n    }\n    if(relative) {\n      this.vars.rotationX += this.vars.x;\n      this.vars.rotationY += this.vars.y;\n    }\n    return this;\n  }\n\n};\n\nvar Sizeable = {\n\n  sizeable: function(copy) {\n    this.vars = this.vars || {};\n    this.vars.width = copy ? copy.vars.width : 0;\n    this.vars.height = copy ? copy.vars.height : 0;\n  }\n\n};\n\nvar Styleable = {\n\n  styleable: function(copy) {\n\n    this.vars = this.vars || {};\n    this.vars.fill = new Color(128);\n    this.vars.stroke = new Color(0);\n\n    if(copy) {\n      if(copy.vars.fill === false)  this.vars.fill = false;\n      else if(copy.vars.fill)       this.vars.fill = copy.vars.fill.copy();\n\n      if(copy.vars.stroke === false)  this.vars.stroke = false;\n      else if(copy.vars.stroke)       this.vars.stroke = copy.vars.stroke.copy();\n    }\n  },\n\n  fill: function(a, b, c, d, e) {\n    if(a === false) this.vars.fill = false;\n    else            this.vars.fill = new Color(a, b, c, d, e);\n    return this;\n  },\n\n  stroke: function(a, b, c, d, e) {\n    if(a === false) this.vars.stroke = false;\n    else            this.vars.stroke = new Color(a, b, c, d, e);\n    return this;\n  },\n\n  strokeWidth:      function(val) { this.vars.strokeWidth = val; return this; },\n  strokeCap:        function(val) { this.vars.strokeCap = val; return this; },\n  strokeJoin:       function(val) { this.vars.strokeJoin = val; return this; },\n  strokeMiterlimit: function(val) { this.vars.strokeMiterlimit = val; return this; },\n  strokeDash:       function(val) { this.vars.strokeDash = val; return this; },\n  strokeDashOffset: function(val) { this.vars.strokeDashOffset= val; return this; }\n};\n\n// Mixin for shapes that can belong to a group. This applies to\n// most shapes.\nvar Groupable = {\n\n  addParent: function(group) {\n    group.add(this);\n    return this;\n  },\n\n  removeParent: function() {\n    if(this.parent) this.parent.remove(this);\n    return this;\n  }\n\n};\n\nexport { Moveable, Sizeable, Styleable, Groupable };","import _ from \"underscore\"\nimport Circle from './shapes/circle'\nimport Rectangle from './shapes/rectangle'\nimport Line from './shapes/line'\nimport h from 'virtual-dom/h'\nimport diff from 'virtual-dom/diff'\nimport patch from 'virtual-dom/patch'\nimport createElement from 'virtual-dom/create-element'\nimport svg from 'virtual-dom/virtual-hyperscript/svg'\n\nclass Render {\n\n  constructor(params) {\n    this.params = params\n    this.tree = svg('svg', {\n      width: params.width,\n      height: params.height\n    });\n    this.el = createElement(this.tree);\n  }\n\n  render(stage, opts) {\n\n    var newTree = svg('svg', {\n      width: this.params.width,\n      height: this.params.height\n    }, [this.objectsToSVG(stage.children, opts)]);\n\n    var diffTree = diff(this.tree, newTree);\n    this.el = patch(this.el, diffTree);\n    this.tree = newTree;\n  }\n\n  // Shape converters\n  // --------------------------------------------------\n\n  objectToSVG(object, opts) {\n    if(this[object.type + \"ToSVG\"])\n      return this[object.type + \"ToSVG\"](object, opts);\n    else\n      console.error(\"Rune.Render: Object not recognized\", object)\n  }\n\n  objectsToSVG(objects, opts) {\n    var objects = _.map(objects, _.bind(function(object) {\n      return this.objectToSVG(object, opts);\n    }, this));\n    return _.flatten(objects, true);\n  }\n\n  rectangleToSVG(rect) {\n    var attr = {\n      x: rect.vars.x,\n      y: rect.vars.y,\n      width: rect.vars.width,\n      height: rect.vars.height\n    }\n    this.transformAttribute(attr, rect);\n    this.styleableAttributes(rect, attr);\n    return svg('rect', attr);\n  }\n\n  ellipseToSVG(ellipse) {\n    var attr = {\n      cx: ellipse.vars.x,\n      cy: ellipse.vars.y,\n      rx: ellipse.vars.width / 2,\n      ry: ellipse.vars.height / 2\n    }\n    this.transformAttribute(attr, ellipse);\n    this.styleableAttributes(ellipse, attr);\n    return svg('ellipse', attr);\n  }\n\n  circleToSVG(circle) {\n    var attr = {\n      cx: circle.vars.x,\n      cy: circle.vars.y,\n      r: circle.vars.radius\n    }\n    this.transformAttribute(attr, circle);\n    this.styleableAttributes(circle, attr);\n    return svg('circle', attr);\n  }\n\n  lineToSVG(line) {\n    var attr = {\n      x1: line.vars.x,\n      y1: line.vars.y,\n      x2: line.vars.x2,\n      y2: line.vars.y2\n    }\n    this.transformAttribute(attr, line);\n    this.styleableAttributes(line, attr);\n    return svg('line', attr);\n  }\n\n  triangleToSVG(tri) {\n    var attr = {\n      points: tri.vars.x + ' ' + tri.vars.y + ' ' + tri.vars.x2 + ' ' + tri.vars.y2 + ' ' + tri.vars.x3 + ' ' + tri.vars.y3\n    };\n    this.transformAttribute(attr, tri);\n    this.styleableAttributes(tri, attr);\n    return svg('polygon', attr);\n  }\n\n  polygonToSVG(polygon) {\n    var attr = {\n      points: _.map(polygon.vars.vectors, function(vec) {\n        return vec.x + \" \" + vec.y;\n      }).join(\" \")\n    };\n    this.transformAttribute(attr, polygon);\n    this.styleableAttributes(polygon, attr);\n    return svg('polygon', attr);\n  }\n\n  pathToSVG(path, opts) {\n    var attr = {};\n    this.dAttribute(path, attr);\n    this.transformAttribute(attr, path);\n    this.styleableAttributes(path, attr);\n    this.optionalAttributes(path, attr, {\n      \"fillRule\" : \"fill-rule\"\n    });\n\n    var els = [\n      svg('path', attr)\n    ];\n\n    if(opts && opts.debug) els = els.concat(this.debugPathToSVG(path));\n    return els;\n  }\n\n  textToSVG(text, opts) {\n    var attr = {\n      x: text.vars.x,\n      y: text.vars.y,\n    }\n    this.transformAttribute(attr, text);\n    this.styleableAttributes(text, attr);\n\n    // attributes that need specific handling\n    if(text.vars.textAlign) {\n      var translate = { \"left\":\"start\", \"center\":\"middle\", \"right\":\"end\" };\n      attr[\"text-anchor\"] = translate[text.vars.textAlign];\n    }\n\n    this.optionalAttributes(text, attr, {\n      \"fontFamily\" : \"font-family\",\n      \"textAlign\" : \"text-align\",\n      \"fontStyle\" : \"font-style\",\n      \"fontWeight\" : \"font-weight\",\n      \"fontSize\" : \"font-size\",\n      \"letterSpacing\" : \"letter-spacing\",\n      \"textDecoration\" : \"text-decoration\"\n    });\n\n    if(text.vars.textAlign) {\n      var translate = { \"left\":\"start\", \"center\":\"middle\", \"right\":\"end\" };\n      attr[\"text-anchor\"] = translate[text.vars.textAlign];\n    }\n\n    return svg('text', attr, text.vars.text);\n  }\n\n  groupToSVG(group) {\n    if(_.isEmpty(group.children)) return;\n    var attr = {}\n    this.transformAttribute(attr, group);\n    return svg('g', attr, this.objectsToSVG(group.children));\n  }\n\n  gridToSVG(grid, opts) {\n    var attr = {}\n    this.transformAttribute(attr, grid);\n\n    var groups = [];\n    _.each(grid.modules, _.bind(function(column) {\n      groups.push(this.objectsToSVG(column))\n    }, this));\n\n    if(opts && opts.debug) groups = groups.concat(this.debugGridToSVG(grid));\n\n    return svg('g', attr, _.flatten(groups, true));\n  }\n\n  // Debug\n  // --------------------------------------------------\n\n  debugPathToSVG(path) {\n\n    var t = this;\n    var els = [];\n\n    _.each(path.vars.anchors, function(a, i) {\n      if(a.command == 'cubic'){\n        els.push(t.debugLine(path.vars.x + a.vec1.x, path.vars.y + a.vec1.y, path.vars.x + a.vec3.x, path.vars.y + a.vec3.y));\n        els.push(t.debugLine(path.vars.x + a.vec2.x, path.vars.y + a.vec2.y, path.vars.x + a.vec3.x, path.vars.y + a.vec3.y));\n        for(var i = 1; i < 4; i++) {\n          els.push(t.debugCircle(path.vars.x + a[\"vec\"+i].x, path.vars.y + a[\"vec\"+i].y))\n        }\n      }\n      else if(a.command == 'quad' && !_.isUndefined(a.vec2)){\n        els.push(t.debugLine(path.vars.x + a.vec1.x, path.vars.y + a.vec1.y, path.vars.x + a.vec2.x, path.vars.y + a.vec2.y));\n        for(var i = 1; i < 3; i++) {\n          els.push(t.debugCircle(path.vars.x + a[\"vec\"+i].x, path.vars.y + a[\"vec\"+i].y))\n        }\n      }\n    });\n\n    return els;\n  }\n\n  debugGridToSVG(grid) {\n\n    var t = this;\n    var els = [];\n\n    // draw container rect\n    els.push(this.debugRect(0, 0, grid.vars.width, grid.vars.height));\n\n    // draw lines for columns\n    var x = 0;\n    for(var i = 0; i < grid.vars.columns-1; i++) {\n      x += grid.vars.moduleWidth;\n      els.push(this.debugLine(x, 0, x, grid.vars.height));\n      x += grid.vars.gutterWidth;\n      els.push(this.debugLine(x, 0, x, grid.vars.height));\n    }\n\n    // draw lines for rows\n    var y = 0;\n    for(var i = 0; i < grid.vars.rows-1; i++) {\n      y += grid.vars.moduleHeight;\n      els.push(this.debugLine(0, y, grid.vars.width, y));\n      y += grid.vars.gutterHeight;\n      els.push(this.debugLine(0, y, grid.vars.width, y));\n    }\n\n    return els;\n  }\n\n  debugCircle (x, y) {\n    var c = new Circle(x, y, 4)\n      .fill(212, 18, 229)\n      .stroke(false);\n    return this.circleToSVG(c);\n  }\n\n  debugRect (x, y, width, height) {\n    var r = new Rectangle(x, y, width, height)\n      .stroke(212, 18, 229).fill(false);\n    return this.rectangleToSVG(r);\n  }\n\n  debugLine (x1, y1, x2, y2) {\n    var l = new Line(x1, y1, x2, y2)\n      .stroke(212, 18, 229);\n    return this.lineToSVG(l);\n  }\n\n  // Multiple attributes\n  // --------------------------------------------------\n\n  optionalAttributes (object, attr, keys) {\n    _.each(keys, function(attribute, variable) {\n      if(object.vars[variable]) {\n        attr[attribute] = object.vars[variable];\n      }\n    }, this);\n  }\n\n  sizeableAttributes(object, attr) {\n    attr.width = object.vars.width;\n    attr.height = object.vars.height;\n  }\n\n  styleableAttributes(object, attr) {\n\n    if(object.vars.fill === false)    attr.fill = \"none\";\n    else if(object.vars.fill)         attr.fill = object.vars.fill.rgbString();\n\n    if(object.vars.stroke === false)  attr.stroke = \"none\";\n    else if(object.vars.stroke)       attr.stroke = object.vars.stroke.rgbString();\n\n    if(object.vars.fill)              attr.fill = object.vars.fill.rgbString();\n    if(object.vars.strokeWidth)       attr[\"stroke-width\"] = object.vars.strokeWidth;\n    if(object.vars.strokeCap)         attr[\"stroke-linecap\"] = object.vars.strokeCap;\n    if(object.vars.strokeJoin)        attr[\"stroke-linejoin\"] = object.vars.strokeJoin;\n    if(object.vars.strokeMiterlimit)  attr[\"stroke-miterlimit\"] = object.vars.strokeMiterlimit;\n    if(object.vars.strokeDash)        attr[\"stroke-dasharray\"] = object.vars.strokeDash;\n    if(object.vars.strokeDashOffset)  attr[\"stroke-dashoffset\"] = object.vars.strokeDashOffset;\n  }\n\n  // Single attributes\n  // --------------------------------------------------\n\n  transformAttribute(attr, shape) {\n\n    var vars = shape.vars;\n    var strings = [];\n\n    if(vars.rotation) {\n      var rot = \"rotate(\" + vars.rotation;\n      if(vars.rotationX || vars.rotationY)\n        rot += \" \" + vars.rotationX + \" \" + vars.rotationY;\n      strings.push(rot + \")\");\n    }\n\n    if((shape.type == \"group\" || shape.type == \"path\" || shape.type == \"polygon\" || shape.type == \"grid\") && (vars.x || vars.y)) {\n      strings.push(\"translate(\" + vars.x + \" \" + vars.y + \")\");\n    }\n\n    if(strings.length > 0)\n      attr.transform = strings.join(\" \").trim();\n  }\n\n  dAttribute(object, attr) {\n    attr.d = _.map(object.vars.anchors, function(a) {\n\n      if(a.command == 'move') {\n        return (a.relative ? \"m\" : \"M\") + \" \" + [a.vec1.x, a.vec1.y].join(' ');\n      }\n      else if(a.command == 'line') {\n        return (a.relative ? \"l\" : \"L\") + \" \" + [a.vec1.x, a.vec1.y].join(' ');\n      }\n      else if(a.command == 'cubic'){\n        return (a.relative ? \"c\" : \"C\") + \" \" + [a.vec1.x, a.vec1.y, a.vec2.x, a.vec2.y, a.vec3.x, a.vec3.y].join(' ');\n      }\n      else if(a.command == 'quad' && !_.isUndefined(a.vec2)){\n        return (a.relative ? \"q\" : \"Q\") + \" \" + [a.vec1.x, a.vec1.y, a.vec2.x, a.vec2.y].join(' ');\n      }\n      else if(a.command == 'quad'){\n        return (a.relative ? \"t\" : \"T\") + \" \" + [a.vec1.x, a.vec1.y].join(' ');\n      }\n      else if(a.command == 'close'){\n        return \"Z\";\n      }\n    }).join(\" \").trim();\n  }\n\n}\n\nexport default Render;","import _ from \"underscore\"\n\nimport Vector from \"./vector\";\nimport Anchor from \"./anchor\"\nimport Color from \"./color\"\nimport Group from \"./group\"\nimport Grid from \"./grid\"\nimport Utils from \"./utils\"\nimport Events from \"./events\"\nimport Render from \"./render\"\nimport Circle from \"./shapes/circle\"\nimport Ellipse from \"./shapes/ellipse\"\nimport Line from \"./shapes/line\"\nimport Triangle from \"./shapes/triangle\"\nimport Path from \"./shapes/path\"\nimport Polygon from \"./shapes/polygon\"\nimport Rectangle from \"./shapes/rectangle\"\nimport Text from \"./shapes/text\"\nimport { Sizeable, Moveable, Styleable, Groupable } from \"./mixins\"\n\n// Exports modules for easy access when using module?\n//export { default as anchor } from \"./anchor\";\n// ... for all of them\n\nclass Rune {\n\n  constructor(options) {\n\n    var params = _.defaults(options || {}, {\n      width: 640,\n        height: 480,\n        debug: false,\n        frameRate: 60\n      }\n    );\n\n    this.width = params.width;\n    this.height = params.height;\n    this.renderer = new Render(params);\n    this.stage = new Group();\n    this.debug = params.debug;\n    this.frameCount = 1;\n    this.frameRate = params.frameRate;\n\n    if(params.container) {\n\n      if(_.isString(params.container)) {\n        params.container = document.querySelector(params.container);\n      }\n\n      if(params.container) {\n        this.appendTo(params.container);\n      } else {\n        console.error(\"Container element not found\");\n      }\n    }\n\n    this.initEvents();\n  }\n\n  // Events\n  // --------------------------------------------------\n\n  initEvents() {\n    this.initMouseMove();\n  }\n\n  initMouseMove() {\n    var mouseMove = _.bind(function(e) {\n      var bounds = this.renderer.el.getBoundingClientRect();\n      this.trigger('mousemove', {\n        x: e.pageX - bounds.left,\n        y: e.pageY - bounds.top\n      });\n    }, this);\n    document.addEventListener('mousemove', mouseMove, false);\n  }\n\n  // Shape functions\n  // --------------------------------------------------\n\n  group(x, y, parent) {\n    var group = new Group(x, y);\n    Utils.groupLogic(group, this.stage, parent);\n    return group;\n  }\n\n  triangle(x, y, x2, y2, x3, y3, parent) {\n    var tri = new Triangle(x, y, x2, y2, x3, y3);\n    Utils.groupLogic(tri, this.stage, parent);\n    return tri;\n  }\n\n  rect(x, y, width, height, parent) {\n    var rect = new Rectangle(x, y, width, height);\n    Utils.groupLogic(rect, this.stage, parent);\n    return rect;\n  }\n\n  ellipse(x, y, width, height, parent) {\n    var ell = new Ellipse(x, y, width, height);\n    Utils.groupLogic(ell, this.stage, parent);\n    return ell;\n  }\n\n  circle(x, y, radius, parent) {\n    var circ = new Circle(x, y,radius);\n    Utils.groupLogic(circ, this.stage, parent);\n    return circ;\n  }\n\n  line(x1, y1, x2, y2, parent) {\n    var line = new Line(x1, y1, x2, y2);\n    Utils.groupLogic(line, this.stage, parent);\n    return line;\n  }\n\n  polygon(x, y, parent) {\n    var poly = new Polygon(x, y);\n    Utils.groupLogic(poly, this.stage, parent);\n    return poly;\n  }\n\n  path(x, y, parent) {\n    var path = new Path(x, y);\n    Utils.groupLogic(path, this.stage, parent);\n    return path;\n  }\n\n  text(text, x, y, parent) {\n    var text = new Text(text, x, y);\n    Utils.groupLogic(text, this.stage, parent);\n    return text;\n  }\n\n  grid(options, parent) {\n    var grid = new Grid(options);\n    Utils.groupLogic(grid, this.stage, parent);\n    return grid;\n  }\n\n  // Playhead\n  // --------------------------------------------------\n\n  play() {\n    if(this.frameRate >= 60)  this.playNow();\n    else                      setTimeout(_.bind(this.playNow, this), 1000 / this.frameRate);\n  }\n\n  playNow() {\n    this.trigger('draw', { frameCount: this.frameCount });\n    this.animationFrame = requestAnimationFrame(_.bind(this.play, this));\n    this.draw();\n  }\n\n  pause() {\n    cancelAnimationFrame(this.animationFrame);\n  }\n\n  // Render functions\n  // --------------------------------------------------\n\n  getEl() {\n    return this.renderer.el;\n  }\n\n  appendTo(container) {\n    container.appendChild(this.renderer.el);\n    return this;\n  }\n\n  draw() {\n    this.renderer.render(this.stage, { debug: this.debug });\n    this.frameCount += 1;\n  }\n\n}\n\n_.extend(Rune, Utils);\n_.extend(Rune.prototype, Events)\n\n// Modules should be accessible through Rune\nRune.Vector = Vector;\nRune.Anchor = Anchor;\nRune.Color = Color;\nRune.Group = Group;\nRune.Grid = Grid;\nRune.Circle = Circle;\nRune.Ellipse = Ellipse;\nRune.Line = Line;\nRune.Triangle = Triangle;\nRune.Path = Path;\nRune.Polygon = Polygon;\nRune.Rectangle = Rectangle;\nRune.Text = Text;\n\n// Right now I need these for mixin tests.\n// Rewrite so we don't need them.\nRune.Moveable = Moveable;\nRune.Styleable = Styleable;\nRune.Sizeable = Sizeable;\nRune.Groupable = Groupable;\n\n// define window.Rune for browserify\nglobal.Rune = Rune;\n\nexport default Rune;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Ellipse from \"./ellipse\"\nimport Utils from '../utils'\n\nclass Circle {\n\n  constructor(x, y, radius) {\n    this.moveable();\n    this.styleable();\n\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.radius = radius;\n  }\n\n  toPolygon(opts, parent) {\n    var ellipse = new Ellipse(this.vars.x, this.vars.y, this.vars.radius*2, this.vars.radius*2);\n    var poly = ellipse.toPolygon(opts, false);\n    Utils.copyMixinVars(this, poly);\n    Utils.groupLogic(poly, this.parent, parent);\n    return poly;\n  }\n\n  copy(parent) {\n    var copy = new Circle();\n    copy.vars.radius = this.vars.radius;\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n// Should we figure out a better way to do mixins for ES6?\n_.extend(Circle.prototype, Moveable, Styleable, Groupable, { type: \"circle\" });\n\nexport default Circle;","import _ from \"underscore\"\nimport { Moveable, Sizeable, Styleable, Groupable } from \"../mixins\"\nimport Polygon from './polygon'\nimport Utils from '../utils'\n\nclass Ellipse {\n\n  constructor(x, y, width, height) {\n    this.moveable();\n    this.sizeable();\n    this.styleable();\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.width = width;\n    this.vars.height = height;\n  }\n\n  toPolygon(opts, parent) {\n\n    var numVectors = 16;\n\n    // if we're calculating the number of vectors based on spacing\n    // find circumference and divide by spacing.\n    if(opts && opts.spacing) {\n      var circumference = Math.PI * (this.vars.width+this.vars.height);\n      numVectors = circumference / opts.spacing;\n    }\n\n    var vectorAngle = 360/numVectors;\n\n    var poly =  new Polygon(this.vars.x, this.vars.y);\n    for(var i = 0; i < numVectors; i++) {\n      var x = Math.cos(Utils.radians(i * vectorAngle)) * this.vars.width;\n      var y = Math.sin(Utils.radians(i * vectorAngle)) * this.vars.height;\n      poly.lineTo(x, y);\n    }\n\n    Utils.copyMixinVars(this, poly);\n    Utils.groupLogic(poly, this.parent, parent);\n\n    return poly;\n  }\n\n  copy(parent) {\n    var copy = new Ellipse();\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n// Should we figure out a better way to do mixins for ES6?\n_.extend(Ellipse.prototype, Moveable, Sizeable, Styleable, Groupable, {type: \"ellipse\"});\n\nexport default Ellipse;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Utils from '../utils'\n\nclass Line {\n\n  constructor(x, y, x2, y2) {\n    this.moveable();\n    this.styleable();\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.x2 = x2;\n    this.vars.y2 = y2;\n  }\n\n  copy(parent) {\n    var copy = new Line();\n    copy.vars.x2 = this.vars.x2;\n    copy.vars.y2 = this.vars.y2;\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n_.extend(Line.prototype, Moveable, Styleable, Groupable, {type: \"line\"});\n\nexport default Line;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Anchor from '../anchor'\nimport Vector from '../vector'\nimport Polygon from './polygon'\nimport Utils from '../utils'\n\nclass Path {\n\n  constructor(x, y) {\n    this.moveable();\n    this.styleable();\n    this.vars.anchors = [];\n    if(!_.isUndefined(x)) this.vars.x = x;\n    if(!_.isUndefined(y)) this.vars.y = y;\n  }\n\n  moveTo(x, y) {\n    this.vars.anchors.push(new Anchor().setMove(x, y));\n    return this;\n  }\n\n  lineTo(x, y) {\n    this.checkStartMove();\n    this.vars.anchors.push(new Anchor().setLine(x, y));\n    return this;\n  }\n\n  curveTo(a, b, c, d, e, f) {\n    this.checkStartMove();\n    this.vars.anchors.push(new Anchor().setCurve(a, b, c, d, e, f));\n    return this;\n  }\n\n  closePath() {\n    this.checkStartMove();\n    this.vars.anchors.push(new Anchor().setClose());\n    return this;\n  }\n\n  startVector() {\n    return this.vars.anchors[0] && this.vars.anchors[0].command == 'move' ? this.vars.anchors[0].vec1.copy() : new Vector(0, 0);\n  }\n\n  subpaths(parent) {\n    var subs = [];\n    var lastSplit = 0;\n\n    _.each(this.vars.anchors, function(anchor, i) {\n\n      var isMove = anchor.command == 'move';\n      var isAfterClose = this.vars.anchors[i-1] && this.vars.anchors[i-1].command == 'close'\n      var isLast = i == this.vars.anchors.length-1;\n\n      if(i > lastSplit && (isMove || isAfterClose || isLast)) {\n        if(isLast) i++;\n        var sub = this.copy(parent);\n        sub.vars.anchors = sub.vars.anchors.slice(lastSplit, i);\n        subs.push(sub);\n        lastSplit = i;\n      }\n    }, this);\n    return subs;\n  }\n\n  length() {\n\n    var len = 0;\n    var paths = this.subpaths(false);\n\n    for(var p = 0; p < paths.length; p++) {\n\n      var anchors = paths[p].vars.anchors;\n\n      // find length of all anchors in subpath.\n      // if last stop is close, use beginning\n      for(var i = 0; i < anchors.length-1; i++) {\n        var start = anchors[i];\n        var startVec = start.vec3 || start.vec2 || start.vec1;\n        var stop = anchors[i+1];\n\n        // if stop is a close command, replace close anchor\n        // with vector of first point in path.\n        if(stop.command == 'close') {\n          stop = paths[p].startVector();\n        }\n\n        var rel = stop.sub(startVec);\n        len += rel.length()\n      }\n    }\n\n    return len;\n  }\n\n  vectorAtLength(len) {\n    var tmpLen = 0;\n    var paths = this.subpaths(false);\n\n    for(var p = 0; p < paths.length; p++) {\n\n      var anchors = paths[p].vars.anchors;\n\n      // find length of all anchors in subpath.\n      // if last stop is close, use beginning\n      for(var i = 0; i < anchors.length-1; i++) {\n        var start = anchors[i];\n        var startVec = start.vec3 || start.vec2 || start.vec1;\n        var stop = anchors[i+1];\n\n        // if stop is a close command, replace close anchor\n        // with vector of first point in path.\n        if(stop.command == 'close') {\n          var beginning = paths[p].startVector();\n          stop = new Anchor().setLine(beginning.x, beginning.y)\n        }\n\n        var vec = stop.sub(startVec)\n        var veclen = vec.length();\n\n        if(tmpLen + veclen > len) {\n          var remaining = len - tmpLen;\n          return startVec.add(vec.vectorAt(remaining / veclen));\n        }\n\n        tmpLen += veclen;\n      }\n    }\n\n    return this.startVector();\n  }\n\n  vectorAt(scalar) {\n    return this.vectorAtLength(this.length() * scalar);\n  }\n\n  toPolygons(opts, parent) {\n\n    var paths = this.subpaths(false);\n    var polys = [];\n\n    // if splitting the path into vectors with equal spacing\n    if(opts && opts.spacing) {\n\n      _.each(paths, function(path) {\n        var poly = new Polygon(path.vars.x, path.vars.y);\n        var len = path.length();\n        var num = len / opts.spacing;\n        for(var i = 0; i < num; i++) {\n          var vec = path.vectorAtLength(i * opts.spacing);\n          poly.lineTo(vec.x, vec.y)\n        }\n\n        Utils.copyMixinVars(this, poly);\n        Utils.groupLogic(poly, this.parent, parent);\n\n        polys.push(poly);\n      }, this);\n    }\n\n    return polys;\n  }\n\n  copy(parent) {\n    var copy = new Path();\n    copy.vars.anchors = _.map(this.vars.anchors, function(a) { return a.copy(); });\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n  fillRule(val) { this.vars.fillRule = val; return this; }\n\n  // Paths must start with a moveTo. This function is checks if\n  // there is a moveTo at the beginning, and adds one if not.\n  checkStartMove() {\n    if(this.vars.anchors.length == 0) {\n      this.moveTo(0, 0);\n    }\n  }\n\n}\n\n_.extend(Path.prototype, Moveable, Styleable, Groupable, { type: \"path\"});\n\nexport default Path;\n","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Vector from '../vector'\nimport Utils from '../utils'\n\nclass Polygon {\n\n  constructor(x, y) {\n    this.moveable();\n    this.styleable();\n    this.vars.vectors = [];\n    if(!_.isUndefined(x)) this.vars.x = x;\n    if(!_.isUndefined(y)) this.vars.y = y;\n  }\n\n  lineTo(x, y) {\n    this.vars.vectors.push(new Vector(x, y));\n    return this;\n  }\n\n  length() {\n    var len = 0;\n    for(var i = 0; i < this.vars.vectors.length; i++) {\n      var start = this.vars.vectors[i];\n      var stop = this.vars.vectors[(i+1)%this.vars.vectors.length];\n      len += stop.sub(start).length();\n    }\n    return len;\n  }\n\n  vectorAtLength(len) {\n\n    var tmpLen = 0;\n\n    for(var i = 0; i < this.vars.vectors.length; i++) {\n      var start = this.vars.vectors[i];\n      var stop = this.vars.vectors[(i+1)%this.vars.vectors.length];\n      var vec = stop.sub(start);\n      var veclen = vec.length();\n\n      if(tmpLen + veclen > len) {\n        var remaining = len - tmpLen;\n        return start.add(vec.normalize().multiply(remaining));\n      }\n\n      tmpLen += veclen;\n    }\n\n    return _.first(this.vars.vectors).copy();\n  }\n\n  vectorAt(scalar) {\n    return this.vectorAtLength(this.length() * scalar);\n  }\n\n  bounds() {\n    var xmax = undefined;\n    var ymax = undefined;\n    var xmin = undefined;\n    var ymin = undefined;\n\n    _.each(this.vars.vectors, function(vec) {\n      if(_.isUndefined(xmin) || vec.x < xmin)  xmin = vec.x;\n      if(_.isUndefined(xmax) || vec.x > xmax)  xmax = vec.x;\n      if(_.isUndefined(ymin) || vec.y < ymin)  ymin = vec.y;\n      if(_.isUndefined(ymax) || vec.y > ymax)  ymax = vec.y;\n    });\n\n    return {\n      x: xmin,\n      y: ymin,\n      width: xmax - xmin,\n      height: ymax - ymin\n    };\n  }\n\n  centroid() {\n    var ps = this.vars.vectors;\n    var areaAcc = 0.0;\n    var xAcc = 0.0;\n    var yAcc = 0.0;\n\n    for(var i = 0; i < ps.length-1; i++)\n    {\n      areaAcc += ps[i].x * ps[i+1].y - ps[i+1].x * ps[i].y;\n      xAcc += (ps[i].x + ps[i+1].x) * (ps[i].x * ps[i+1].y - ps[i+1].x * ps[i].y);\n      yAcc += (ps[i].y + ps[i+1].y) * (ps[i].x * ps[i+1].y - ps[i+1].x * ps[i].y);\n    }\n\n    areaAcc /= 2.0;\n    var x = xAcc/(6.0*areaAcc);\n    var y = yAcc/(6.0*areaAcc);\n\n    return new Vector(x, y);\n  }\n\n  toPolygon(opts, parent) {\n\n    if(opts && opts.spacing) {\n\n      var poly = new Polygon(this.vars.x, this.vars.y);\n      var len = this.length();\n      var num = len / opts.spacing;\n      for(var i = 0; i < num; i++) {\n        var vec = this.vectorAtLength(i * opts.spacing);\n        poly.lineTo(vec.x, vec.y)\n      }\n\n      Utils.copyMixinVars(this, poly);\n      Utils.groupLogic(poly, this.parent, parent);\n\n      return poly;\n    }\n\n    return this;\n  }\n\n  copy(parent) {\n    var copy = new Polygon();\n    copy.vars.vectors = _.map(this.vars.vectors, function(v) { return v.copy(); });\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n}\n\n_.extend(Polygon.prototype, Moveable, Styleable, Groupable, { type: \"polygon\" });\n\nexport default Polygon;\n","import _ from \"underscore\"\nimport { Moveable, Styleable, Sizeable, Groupable } from \"../mixins\"\nimport Polygon from './polygon'\nimport Utils from '../utils'\n\nclass Rectangle {\n\n  constructor(x, y, width, height) {\n    this.moveable();\n    this.sizeable();\n    this.styleable();\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.width = width;\n    this.vars.height = height;\n  }\n\n  toPolygon(opts, parent) {\n    var poly =  new Polygon(this.vars.x, this.vars.y)\n      .lineTo(0, 0)\n      .lineTo(this.vars.width, 0)\n      .lineTo(this.vars.width, this.vars.height)\n      .lineTo(0, this.vars.height);\n\n    if(opts) poly = poly.toPolygon(opts, false);\n\n    Utils.copyMixinVars(this, poly);\n    Utils.groupLogic(poly, this.parent, parent);\n\n    return poly;\n  }\n\n  copy(parent) {\n    var copy = new Rectangle();\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n}\n\n_.extend(Rectangle.prototype, Moveable, Sizeable, Styleable, Groupable, { type: \"rectangle\" });\n\nexport default Rectangle;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Utils from '../utils'\n\nclass Text {\n\n  constructor(text, x, y) {\n    this.moveable();\n    this.styleable();\n    this.vars.text = text;\n    this.vars.x = x;\n    this.vars.y = y;\n  }\n\n  toPolygon() {\n    throw new Error(\"You need the Rune.Font plugin to convert text to polygon\");\n  }\n\n  textAlign(textAlign) { this.vars.textAlign = textAlign; return this; }\n  fontFamily(fontFamily) { this.vars.fontFamily = fontFamily; return this; }\n  fontStyle(fontStyle) { this.vars.fontStyle = fontStyle; return this; }\n  fontWeight(fontWeight) { this.vars.fontWeight = fontWeight; return this; }\n  fontSize(fontSize) { this.vars.fontSize = fontSize; return this; }\n  letterSpacing(letterSpacing) { this.vars.letterSpacing = letterSpacing; return this; }\n  textDecoration(textDecoration) { this.vars.textDecoration = textDecoration; return this; }\n\n  copy(parent) {\n    var copy = new Text();\n    copy.vars.text = this.vars.text;\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n_.extend(Text.prototype, Moveable, Styleable, Groupable, { type: \"text\" });\n\nexport default Text;","import _ from \"underscore\"\nimport { Moveable, Styleable, Groupable } from \"../mixins\"\nimport Utils from '../utils'\n\nclass Triangle {\n\n  constructor(x, y, x2, y2, x3, y3) {\n    this.moveable();\n    this.styleable();\n    this.vars.x = x;\n    this.vars.y = y;\n    this.vars.x2 = x2;\n    this.vars.y2 = y2;\n    this.vars.x3 = x3;\n    this.vars.y3 = y3;\n  }\n\n  copy(parent) {\n    var copy = new Triangle();\n    copy.vars.x2 = this.vars.x2;\n    copy.vars.y2 = this.vars.y2;\n    copy.vars.x3 = this.vars.x3;\n    copy.vars.y3 = this.vars.y3;\n    Utils.copyMixinVars(this, copy);\n    Utils.groupLogic(copy, this.parent, parent);\n    return copy;\n  }\n\n}\n\n_.extend(Triangle.prototype, Moveable, Styleable, Groupable, {type: \"triangle\"});\n\nexport default Triangle;","import _ from \"underscore\"\n\nvar Utils = {\n\n  random: function(a, b) {\n    if(_.isUndefined(b)) {\n      b = a;\n      a = 0;\n    }\n    return a + (Math.random() * (b-a));\n  },\n\n  degrees: function(radians) {\n    return radians * (180/Math.PI);\n  },\n\n  radians: function(degrees) {\n    return degrees * (Math.PI/180);\n  },\n\n  groupLogic: function(child, fallback, group) {\n\n    if(group && group.type == \"group\") {\n      group.add(child)\n    }\n\n    else if(group !== false && fallback && fallback.type == \"group\") {\n      fallback.add(child)\n    }\n  },\n\n  copyMixinVars: function(a, b) {\n    if(a.moveable && b.moveable)    b.moveable(a);\n    if(a.sizeable && b.sizeable)    b.sizeable(a);\n    if(a.styleable && b.styleable)  b.styleable(a);\n  }\n\n};\n\nexport default Utils;","import _ from \"underscore\"\nimport Utils from './utils'\n\nclass Vector {\n\n  constructor(x, y) {\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n\n  set(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  add (vec) {\n    return new Vector(this.x + vec.x, this.y + vec.y);\n  }\n\n  sub(vec) {\n    return new Vector(this.x - vec.x, this.y - vec.y);\n  }\n\n  multiply(scalar) {\n    return new Vector(this.x * scalar, this.y * scalar);\n  }\n\n  divide(scalar) {\n    var vec = new Vector(0, 0);\n    if(scalar) {\n      vec.x = this.x / scalar;\n      vec.y = this.y / scalar;\n    }\n    return vec;\n  }\n\n  distance(vec) {\n    return Math.sqrt(this.distanceSquared(vec));\n  }\n\n  distanceSquared(vec) {\n    var dx = this.x - vec.x;\n    var dy = this.y - vec.y;\n    return dx * dx + dy * dy;\n  }\n\n  lerp(vec, scalar) {\n    var x = (vec.x - this.x) * scalar + this.x;\n    var y = (vec.y - this.y) * scalar + this.y;\n    return new Vector(x, y);\n  }\n\n  dot (vec) {\n    return this.x * vec.x + this.y * vec.y;\n  }\n\n  length() {\n    return Math.sqrt(this.lengthSquared());\n  }\n\n  lengthSquared() {\n    return this.x * this.x + this.y * this.y;\n  }\n\n  normalize() {\n    return this.divide(this.length());\n  }\n\n  rotation() {\n    return Utils.degrees(Math.atan2(this.y, this.x));\n  }\n\n  rotate(degrees) {\n    var rad = Utils.radians(this.rotation() + degrees);\n    var len = this.length();\n    var x = Math.cos(rad) * len;\n    var y = Math.sin(rad) * len;\n    return new Vector(x, y);\n  }\n\n  copy() {\n    return new Vector(this.x, this.y);\n  }\n\n  toString() {\n    return \"(x: \" + this.x + \", y: \" + this.y + \")\";\n  }\n\n}\n\nexport default Vector;"]}